<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[mouseenterä¸mouseoverä¸ºä½•è¿™èˆ¬çº ç¼ ä¸æ¸…ï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2017/06/05/mouseenter%E4%B8%8Emouseover%E4%B8%BA%E4%BD%95%E8%BF%99%E8%88%AC%E7%BA%A0%E7%BC%A0%E4%B8%8D%E6%B8%85%EF%BC%9F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸çŸ¥é“å¤§å®¶åœ¨é¢è¯•æˆ–è€…å·¥ä½œè¿‡ç¨‹ä¸­æœ‰æ²¡æœ‰è¢«<code>mouseover</code>å’Œ<code>mouseenter</code>(å¯¹åº”çš„æ˜¯<code>mouseout</code>å’Œ<code>mouseleave</code>)äº‹ä»¶æ‰€å›°æ‰°ã€‚è‡ªå·±ä¹‹å‰åœ¨é¢è¯•çš„æ—¶å€™å°±æœ‰è¢«é—®åˆ°è¯¸å¦‚mouseoverå’Œmouseenteräº‹ä»¶çš„å¼‚åŒä¹‹ç±»çš„é—®é¢˜ï¼Ÿå½“æ—¶æ²¡æœ‰ç­”å‡ºæ¥ï¼Œä¸€ç›´ä¹Ÿå¯¹è¿™ä¸¤ä¸ªäº‹ä»¶æœ‰ç‚¹æ¨¡ç³Šä¸æ¸…ï¼Œè¶ç€æœ€è¿‘æ­£åœ¨è¯»<a href="https://github.com/qianlongo/zepto-analysis" target="_blank" rel="external">zeptoæºç </a>ï¼Œå‡†å¤‡å†™ä¸€ç¯‡è¿™æ–¹é¢çš„æ–‡ç« ï¼Œå¦‚æœæœ‰é”™è¯¯ï¼Œè¯·å¤§å®¶æŒ‡æ­£ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/-98ezXklczmayCw28gIX.png" alt=""></p>
<a id="more"></a>
<h2 id="mouseenterä¸mouseoverçš„å¼‚åŒï¼Ÿ"><a href="#mouseenterä¸mouseoverçš„å¼‚åŒï¼Ÿ" class="headerlink" title="mouseenterä¸mouseoverçš„å¼‚åŒï¼Ÿ"></a>mouseenterä¸mouseoverçš„å¼‚åŒï¼Ÿ</h2><blockquote>
<p>è¦è¯´æ¸…æ¥šmouseenterä¸mouseoveræœ‰ä»€ä¹ˆä¸åŒï¼Œä¹Ÿè®¸å¯ä»¥ä»ä¸¤æ–¹é¢å»è®²ã€‚</p>
</blockquote>
<ol>
<li>æ˜¯å¦æ”¯æŒå†’æ³¡</li>
<li>äº‹ä»¶çš„è§¦å‘æ—¶æœº</li>
</ol>
<p>å…ˆæ¥çœ‹ä¸€å¼ å›¾,å¯¹è¿™ä¸¤ä¸ªäº‹ä»¶æœ‰ä¸€ä¸ªç®€å•ç›´è§‚çš„æ„Ÿå—ã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170605-204232@2x.png" alt=""></p>
<p><strong>å†çœ‹çœ‹å®˜ç½‘å¯¹mouseenterçš„è§£é‡Š</strong></p>
<p><a href="https://msdn.microsoft.com/en-us/library/ms536945(v=vs.85" target="_blank" rel="external">mouseenter | onmouseenter event</a>.aspx)</p>
<blockquote>
<p>The event fires only if the mouse pointer is outside the boundaries of the object and the user moves the mouse pointer inside the boundaries of the object. If the mouse pointer is currently inside the boundaries of the object, for the event to fire, the user must move the mouse pointer outside the boundaries of the object and then back inside the boundaries of the object.</p>
</blockquote>
<p>å¤§æ¦‚æ„æ€æ˜¯è¯´ï¼šå½“é¼ æ ‡ä»å…ƒç´ çš„è¾¹ç•Œä¹‹å¤–ç§»å…¥å…ƒç´ çš„è¾¹ç•Œä¹‹å†…æ—¶ï¼Œäº‹ä»¶è¢«è§¦å‘ã€‚è€Œå½“é¼ æ ‡æœ¬èº«åœ¨å…ƒç´ è¾¹ç•Œå†…æ—¶ï¼Œè¦è§¦å‘è¯¥äº‹ä»¶ï¼Œå¿…é¡»å…ˆå°†é¼ æ ‡ç§»å‡ºå…ƒç´ è¾¹ç•Œå¤–ï¼Œå†æ¬¡ç§»å…¥æ‰èƒ½è§¦å‘ã€‚(è‹±è¯­æ¯”è¾ƒæ¸£ğŸ˜¶ï¼Œå‡‘åˆçœ‹å“ˆ)</p>
<blockquote>
<p>Unlike the onmouseover event, the onmouseenter event does not bubble. </p>
</blockquote>
<p>å¤§æ¦‚æ„æ€æ˜¯ï¼šå’Œmouseoverä¸åŒçš„æ˜¯ï¼Œmouseenterä¸æ”¯æŒäº‹ä»¶å†’æ³¡ (è‹±è¯­æ¯”è¾ƒæ¸£ğŸ˜¶ï¼Œå‡‘åˆçœ‹å“ˆ)</p>
<p><strong>ç”±äºmouseenterä¸æ”¯æŒäº‹ä»¶å†’æ³¡ï¼Œå¯¼è‡´åœ¨ä¸€ä¸ªå…ƒç´ çš„å­å…ƒç´ ä¸Šè¿›å…¥æˆ–ç¦»å¼€çš„æ—¶å€™ä¼šè§¦å‘å…¶mouseoverå’Œmouseoutäº‹ä»¶ï¼Œä½†æ˜¯å´ä¸ä¼šè§¦å‘mouseenterå’Œmouseleaveäº‹ä»¶</strong></p>
<p>æˆ‘ä»¬ç”¨ä¸€å¼ åŠ¨å›¾æ¥çœ‹çœ‹ä»–ä»¬çš„åŒºåˆ«(<a href="https://qianlongo.github.io/zepto-analysis/example/event/mouseEnter-mouseOver.html">æˆ–è€…ç‚¹å‡»è¯¥é“¾æ¥ä½“éªŒ</a>)ã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/undefeind.gif" alt=""></p>
<p>æˆ‘ä»¬ç»™å·¦å³ä¸¤è¾¹çš„ulåˆ†åˆ«æ·»åŠ äº†<code>mouseover</code>å’Œ<code>mouseenter</code>äº‹ä»¶ï¼Œå½“é¼ æ ‡è¿›å…¥å·¦å³ä¸¤è¾¹çš„ulæ—¶ï¼Œ<code>mouseover</code>å’Œ<code>mouseenter</code>äº‹ä»¶éƒ½è§¦å‘äº†ï¼Œä½†æ˜¯å½“ç§»å…¥å„è‡ªçš„å­å…ƒç´ liçš„æ—¶å€™ï¼Œè§¦å‘äº†å·¦è¾¹ulä¸Šçš„mouseoveräº‹ä»¶ï¼Œç„¶è€Œå³è¾¹ulçš„mouseenteräº‹ä»¶æ²¡æœ‰è¢«è§¦å‘ã€‚</p>
<p>é€ æˆä»¥ä¸Šç°è±¡æœ¬è´¨ä¸Šæ˜¯<code>mouseenter</code>äº‹ä»¶ä¸æ”¯æŒå†’æ³¡æ‰€è‡´ã€‚</p>
<h2 id="å¦‚ä½•æ¨¡æ‹Ÿmouseenteräº‹ä»¶ã€‚"><a href="#å¦‚ä½•æ¨¡æ‹Ÿmouseenteräº‹ä»¶ã€‚" class="headerlink" title="å¦‚ä½•æ¨¡æ‹Ÿmouseenteräº‹ä»¶ã€‚"></a>å¦‚ä½•æ¨¡æ‹Ÿmouseenteräº‹ä»¶ã€‚</h2><blockquote>
<p>å¯è§mouseoveräº‹ä»¶å› å…¶å…·æœ‰å†’æ³¡çš„æ€§è´¨ï¼Œåœ¨å­å…ƒç´ å†…ç§»åŠ¨çš„æ—¶å€™ï¼Œé¢‘ç¹è¢«è§¦å‘ï¼Œå¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›å¦‚æ­¤ï¼Œå¯ä»¥ä½¿ç”¨mouseenteräº‹ä»¶ä»£æ›¿ä¹‹ï¼Œä½†æ˜¯æ—©æœŸåªæœ‰ieæµè§ˆå™¨æ”¯æŒè¯¥äº‹ä»¶ï¼Œè™½ç„¶ç°åœ¨å¤§å¤šæ•°é«˜çº§æµè§ˆå™¨éƒ½æ”¯æŒäº†mouseenteräº‹ä»¶ï¼Œä½†æ˜¯éš¾å…ä¼šæœ‰äº›å…¼å®¹é—®é¢˜ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥è‡ªå·±æ‰‹åŠ¨æ¨¡æ‹Ÿï¼Œé‚£å°±å¤ªå¥½äº†ã€‚</p>
</blockquote>
<p>å…³é”®å› ç´ : <strong>relatedTarget</strong> è¦æƒ³æ‰‹åŠ¨æ¨¡æ‹Ÿmouseenteräº‹ä»¶ï¼Œéœ€è¦å¯¹mouseoveräº‹ä»¶è§¦å‘æ—¶çš„äº‹ä»¶å¯¹è±¡eventå±æ€§relatedTargetäº†è§£ã€‚</p>
<ol>
<li>relatedTargetäº‹ä»¶å±æ€§è¿”å›ä¸äº‹ä»¶çš„ç›®æ ‡èŠ‚ç‚¹ç›¸å…³çš„èŠ‚ç‚¹ã€‚</li>
<li>å¯¹äºmouseoveräº‹ä»¶æ¥è¯´ï¼Œè¯¥å±æ€§æ˜¯é¼ æ ‡æŒ‡é’ˆç§»åˆ°ç›®æ ‡èŠ‚ç‚¹ä¸Šæ—¶æ‰€ç¦»å¼€çš„é‚£ä¸ªèŠ‚ç‚¹ã€‚</li>
<li>å¯¹äºmouseoutäº‹ä»¶æ¥è¯´ï¼Œè¯¥å±æ€§æ˜¯ç¦»å¼€ç›®æ ‡æ—¶ï¼Œé¼ æ ‡æŒ‡é’ˆè¿›å…¥çš„èŠ‚ç‚¹ã€‚</li>
<li>å¯¹äºå…¶ä»–ç±»å‹çš„äº‹ä»¶æ¥è¯´ï¼Œè¿™ä¸ªå±æ€§æ²¡æœ‰ç”¨ã€‚</li>
</ol>
<p>é‡æ–°å›é¡¾ä¸€ä¸‹æ–‡ç« æœ€åˆçš„é‚£å¼ å›¾ï¼Œæ ¹æ®ä¸Šé¢çš„è§£é‡Šï¼Œå¯¹äºulä¸Šæ·»åŠ çš„mouseoveräº‹ä»¶æ¥è¯´ï¼ŒrelatedTargetåªå¯èƒ½æ˜¯</p>
<ol>
<li>ulçš„çˆ¶å…ƒç´ wrap(ç§»å…¥ulæ—¶,æ­¤æ—¶ä¹Ÿæ˜¯è§¦å‘mouseenteräº‹ä»¶çš„æ—¶å€™, <strong>å…¶å®ä¸ä¸€å®šï¼Œåé¢ä¼šè¯´æ˜</strong>)ï¼Œ</li>
<li>æˆ–è€…ulå…ƒç´ æœ¬èº«(åœ¨å…¶å­å…ƒç´ ä¸Šç§»å‡ºæ—¶)ï¼Œ</li>
<li>åˆæˆ–è€…æ˜¯å­å…ƒç´ æœ¬èº«(ç›´æ¥ä»å­å…ƒç´ Aç§»åŠ¨åˆ°å­å…ƒç´ B)ã€‚</li>
</ol>
<p><img src="http://odssgnnpf.bkt.clouddn.com/hahha2.png" alt="relatedTarget"></p>
<p>æ ¹æ®ä¸Šé¢çš„æè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹relatedTargetçš„å€¼è¿›è¡Œåˆ¤æ–­ï¼šå¦‚æœå€¼ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œä¹Ÿä¸æ˜¯ç›®æ ‡å…ƒç´ çš„å­å…ƒç´ ï¼Œå°±è¯´æ˜é¼ æ ‡å·²ç§»å…¥ç›®æ ‡å…ƒç´ è€Œä¸æ˜¯åœ¨å…ƒç´ å†…éƒ¨ç§»åŠ¨ã€‚</p>
<p>æ¡ä»¶1ï¼š <strong>ä¸æ˜¯ç›®æ ‡å…ƒç´ </strong>å¾ˆå¥½åˆ¤æ–­<code>e.relatedTarget !== target(ç›®æ ‡å…ƒç´ )</code></p>
<p>æ¡ä»¶2ï¼šä¸æ˜¯ç›®æ ‡å…ƒç´ çš„å­å…ƒç´ ï¼Œè¿™ä¸ªåº”è¯¥æ€ä¹ˆåˆ¤æ–­å‘¢ï¼Ÿ</p>
<h2 id="ele-contains"><a href="#ele-contains" class="headerlink" title="ele.contains"></a>ele.contains</h2><blockquote>
<p> è¿™é‡Œéœ€è¦ä»‹ç»ä¸€ä¸ªæ–°çš„api <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Node/contains" target="_blank" rel="external">node.contains(otherNode) 
</a>, è¡¨ç¤ºä¼ å…¥çš„èŠ‚ç‚¹æ˜¯å¦ä¸ºè¯¥èŠ‚ç‚¹çš„åä»£èŠ‚ç‚¹, å¦‚æœ otherNode æ˜¯ node çš„åä»£èŠ‚ç‚¹æˆ–æ˜¯ node èŠ‚ç‚¹æœ¬èº«.åˆ™è¿”å›true , å¦åˆ™è¿”å› false</p>
</blockquote>
<p><strong>ç”¨æ³•æ¡ˆä¾‹</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"list"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"test"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> $list = <span class="built_in">document</span>.querySelector(<span class="string">'.list'</span>)</div><div class="line"><span class="keyword">let</span> $item = <span class="built_in">document</span>.querySelector(<span class="string">'.item'</span>)</div><div class="line"><span class="keyword">let</span> $test = <span class="built_in">document</span>.querySelector(<span class="string">'.test'</span>)</div><div class="line"></div><div class="line">$list.contains($item) <span class="comment">// true</span></div><div class="line">$list.contains($test) <span class="comment">// false</span></div><div class="line">$list.contains($list) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆåˆ©ç”¨containsè¿™ä¸ªapiæˆ‘ä»¬ä¾¿å¯ä»¥å¾ˆæ–¹ä¾¿çš„éªŒè¯æ¡ä»¶2ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°è£…ä¸€ä¸ª<code>contains(parent, node)</code>å‡½æ•°ï¼Œä¸“é—¨ç”¨æ¥åˆ¤æ–­<code>node</code>æ˜¯ä¸æ˜¯<code>parent</code>çš„å­èŠ‚ç‚¹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> contains = <span class="function"><span class="keyword">function</span> (<span class="params">parent, node</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> parent !== node &amp;&amp; parent.contains(node)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ç”¨æˆ‘ä»¬å°è£…è¿‡åçš„<code>contains</code>å‡½æ•°å†å»è¯•è¯•ä¸Šé¢çš„ä¾‹å­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">contains($list, $item) <span class="comment">// true</span></div><div class="line">contains($list, $test) <span class="comment">// false</span></div><div class="line">contains($list, $list) <span class="comment">// false (ä¸»è¦åŒºåˆ«åœ¨è¿™é‡Œ)</span></div></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–¹æ³•å¾ˆæ–¹ä¾¿åœ°å¸®åŠ©æˆ‘ä»¬è§£å†³äº†æ¨¡æ‹Ÿmouseenteräº‹ä»¶ä¸­çš„æ¡ä»¶2ï¼Œä½†æ˜¯æ‚²å‚¬çš„<code>ode.contains(otherNode)</code>,å…·æœ‰æµè§ˆå™¨å…¼å®¹æ€§ï¼Œåœ¨ä¸€äº›ä½çº§æµè§ˆå™¨ä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œä¸ºäº†åšåˆ°å…¼å®¹æˆ‘ä»¬å†æ¥æ”¹å†™ä¸€ä¸‹containsæ–¹æ³•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> contains = docEle.contains ? <span class="function"><span class="keyword">function</span> (<span class="params">parent, node</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> parent !== node &amp;&amp; parent.contains(node)</div><div class="line">&#125; : <span class="function"><span class="keyword">function</span> (<span class="params">parent, node</span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> result = parent !== node</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (!result) &#123; <span class="comment">// æ’é™¤parentä¸nodeä¼ å…¥ç›¸åŒçš„èŠ‚ç‚¹</span></div><div class="line">    <span class="keyword">return</span> result</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (result) &#123;</div><div class="line">    <span class="keyword">while</span> (node &amp;&amp; (node = node.parentNode)) &#123;</div><div class="line">      <span class="keyword">if</span> (parent === node) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ç”¨<code>mouseover</code>äº‹ä»¶æ¨¡æ‹Ÿ<code>mouseenter</code>çš„æœ€ç»ˆä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// callbackè¡¨ç¤ºå¦‚æœæ‰§è¡Œmouseenteräº‹ä»¶æ—¶ä¼ å…¥çš„å›è°ƒå‡½æ•°</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> emulateEnterOrLeave = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> relatedTarget = e.relatedTarget</div><div class="line">    <span class="keyword">if</span> (relatedTarget !== <span class="keyword">this</span> &amp;&amp; !contains(<span class="keyword">this</span>, relatedTarget)) &#123;</div><div class="line">      callback.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://github.com/qianlongo/zepto-analysis/blob/master/example/event/mouseEnter-mouseOver.html" target="_blank" rel="external">è¯¦ç»†ä»£ç ç‚¹å‡»</a></p>
<p><a href="https://qianlongo.github.io/zepto-analysis/example/event/mouseEnter-mouseOver.html">ä»£ç ç¤ºä¾‹ç‚¹å‡»</a></p>
<p><strong>å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡mouseoveäº‹ä»¶å®Œæ•´çš„æ¨¡æ‹Ÿäº†mouseenteräº‹ä»¶ï¼Œä½†æ˜¯åè¿‡å¤´æ¥çœ‹çœ‹</strong></p>
<p>å¯¹äºulä¸Šæ·»åŠ çš„mouseoveräº‹ä»¶æ¥è¯´ï¼ŒrelatedTargetåªå¯èƒ½æ˜¯</p>
<ol>
<li>ulçš„çˆ¶å…ƒç´ wrap(ç§»å…¥ulæ—¶,æ­¤æ—¶ä¹Ÿæ˜¯è§¦å‘mouseenteräº‹ä»¶çš„æ—¶å€™, <strong>å…¶å®ä¸ä¸€å®šï¼Œåé¢ä¼šè¯´æ˜</strong>)ï¼Œ</li>
<li>æˆ–è€…ulå…ƒç´ æœ¬èº«(åœ¨å…¶å­å…ƒç´ ä¸Šç§»å‡ºæ—¶)ï¼Œ</li>
<li>åˆæˆ–è€…æ˜¯å­å…ƒç´ æœ¬èº«(ç›´æ¥ä»å­å…ƒç´ Aç§»åŠ¨åˆ°å­å…ƒç´ B)ã€‚</li>
</ol>
<p>æˆ‘ä»¬é€šè¿‡æ’æŸ¥2å’Œ3ï¼Œæœ€ååªç•™ä¸‹1ï¼Œä¹Ÿå°±æ˜¯mouseenterä¸mouseoveräº‹ä»¶ä¸€èµ·è§¦å‘çš„æ—¶æœºã€‚æ—¢ç„¶è¿™æ ·æˆ‘ä»¬ä¸ºä»€ä¹ˆä¸åƒè¿™æ ·åˆ¤æ–­å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">target.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (e.relatedTarget === <span class="keyword">this</span>.parentNode) &#123;</div><div class="line">    <span class="comment">// æ‰§è¡Œmouseenterçš„å›è°ƒè¦åšçš„äº‹æƒ…  </span></div><div class="line">  &#125;</div><div class="line">&#125;, <span class="literal">false</span>)</div></pre></td></tr></table></figure>
<p>è¿™æ ·ä¸æ˜¯æ›´åŠ ç®€å•å—ï¼Ÿï¼Œä½•å¿…è¦æŠ˜è…¾é€šè¿‡æ’æŸ¥2å’Œ3æ¥åšï¼Ÿ</p>
<p>åŸå› æ˜¯ï¼Œtargetçš„çˆ¶å…ƒç´ æœ‰ä¸€å®šçš„å ä½ç©ºé—´çš„æ—¶åï¼Œæˆ‘ä»¬è¿™æ ·å†™æ˜¯æ²¡æœ‰å¤ªå¤§é—®é¢˜çš„ï¼Œä½†æ˜¯åä¹‹ï¼Œè¿™ä¸ªæ—¶å€™<code>e.relatedTarget</code>å°±å¯èƒ½æ˜¯targetå…ƒç´ çš„çˆ¶å…ƒç´ ï¼Œåˆç¥–å…ˆå…ƒç´ ä¸­çš„æŸä¸€ä¸ªã€‚æˆ‘ä»¬æ— æ³•å‡†ç¡®åˆ¤æ–­e.relatedTargetåˆ°åº•æ˜¯å“ªä¸ªå…ƒç´ ã€‚æ‰€ä»¥é€šè¿‡æ’é™¤2å’Œ3åº”è¯¥æ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h2 id="ç”¨mouseoutæ¨¡æ‹Ÿmouseleaveäº‹ä»¶"><a href="#ç”¨mouseoutæ¨¡æ‹Ÿmouseleaveäº‹ä»¶" class="headerlink" title="ç”¨mouseoutæ¨¡æ‹Ÿmouseleaveäº‹ä»¶"></a>ç”¨mouseoutæ¨¡æ‹Ÿmouseleaveäº‹ä»¶</h2><blockquote>
<p>å½“mouseoutè¢«æ¿€æ´»æ—¶ï¼ŒrelatedTargetè¡¨ç¤ºé¼ æ ‡ç¦»å¼€ç›®æ ‡å…ƒç´ æ—¶ï¼Œè¿›å…¥äº†å“ªä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å¯¹relatedTargetçš„å€¼è¿›è¡Œåˆ¤æ–­ï¼šå¦‚æœå€¼ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œä¹Ÿä¸æ˜¯ç›®æ ‡å…ƒç´ çš„å­å…ƒç´ ï¼Œå°±è¯´æ˜é¼ æ ‡å·²ç§»å‡ºç›®æ ‡å…ƒç´ </p>
</blockquote>
<p>æˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨ä¸Šé¢å°è£…çš„å‡½æ•°å®Œæˆ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// callbackè¡¨ç¤ºå¦‚æœæ‰§è¡Œmouseenteräº‹ä»¶æ—¶ä¼ å…¥çš„å›è°ƒå‡½æ•°</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> emulateEnterOrLeave = <span class="function"><span class="keyword">function</span> (<span class="params">callback</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> relatedTarget = e.relatedTarget</div><div class="line">    <span class="keyword">if</span> (relatedTarget !== <span class="keyword">this</span> &amp;&amp; !contains(<span class="keyword">this</span>, relatedTarget)) &#123;</div><div class="line">      callback.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="https://github.com/qianlongo/zepto-analysis/blob/master/example/event/mouseEnter-mouseOver.html" target="_blank" rel="external">è¯¦ç»†ä»£ç ç‚¹å‡»</a></p>
<p><a href="https://qianlongo.github.io/zepto-analysis/example/event/mouseEnter-mouseOver.html">ä»£ç ç¤ºä¾‹ç‚¹å‡»</a></p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>æ–‡ä¸­ä¹Ÿè®¸æœ‰äº›è§‚ç‚¹ä¸å¤Ÿä¸¥è°¨ï¼Œæ¬¢è¿å¤§å®¶æ‹ç –ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä½ è¦çœ‹çœ‹è¿™äº›æœ‰è¶£çš„å‡½æ•°æ–¹æ³•å—ï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2017/05/25/%E8%BF%99%E4%BA%9B%E6%9C%89%E8%B6%A3%E7%9A%84%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95%E4%BD%A0%E7%94%A8%E8%BF%87%E5%87%A0%E4%B8%AA/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯underscore.jsæºç åˆ†æçš„ç¬¬å…­ç¯‡ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªç³»åˆ—æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ç‚¹å‡»</p>
<p><a href="https://github.com/qianlongo/underscore-analysis/" target="_blank" rel="external">underscore-analysis/</a> watchä¸€ä¸‹ï¼Œéšæ—¶å¯ä»¥çœ‹åˆ°åŠ¨æ€æ›´æ–°ã€‚</p>
<blockquote>
<p>ä¸‹åˆ’çº¿ä¸­æœ‰éå¸¸å¤šå¾ˆæœ‰è¶£çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¯”è¾ƒå·§å¦™çš„æ–¹å¼è§£å†³æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæ¯”å¦‚<code>_.after</code>,<code>_.before</code>ï¼Œ<code>_.defer</code>â€¦ç­‰ï¼Œä¹Ÿè®¸ä½ å·²ç»ç”¨è¿‡ä»–ä»¬äº†ï¼Œä»Šå¤©æˆ‘ä»¬æ¥æ·±å…¥æºç ï¼Œä¸€æ¢ç©¶ç«Ÿï¼Œä»–ä»¬åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/ppt-on-functions-3-728.jpg" alt="function"></p>
<a id="more"></a>
<h2 id="æŒ‡å®šè°ƒç”¨æ¬¡æ•°-after-before"><a href="#æŒ‡å®šè°ƒç”¨æ¬¡æ•°-after-before" class="headerlink" title="æŒ‡å®šè°ƒç”¨æ¬¡æ•°(after, before)"></a>æŒ‡å®šè°ƒç”¨æ¬¡æ•°(<code>after</code>, <code>before</code>)</h2><blockquote>
<p>æŠŠè¿™ä¸¤ä¸ªæ–¹æ³•æ”¾åœ¨å‰é¢ä¹Ÿæ˜¯å› ä¸ºä»–ä»¬ä¿©èƒ½å¤Ÿè§£å†³æˆ‘ä»¬å·¥ä½œä¸­è‡³å°‘ä»¥ä¸‹ä¸¤ä¸ªé—®é¢˜</p>
</blockquote>
<ol>
<li><p>å¦‚æœä½ è¦ç­‰å¤šä¸ªå¼‚æ­¥è¯·æ±‚å®Œæˆä¹‹åæ‰å»æ‰§è¡ŒæŸä¸ªæ“ä½œ<code>fn</code>,é‚£ä¹ˆä½ å¯ä»¥ç”¨<code>_.after</code>ï¼Œè€Œä¸å¿…å†™å¤šå±‚å¼‚æ­¥å›è°ƒåœ°ç‹±å»å®ç°éœ€æ±‚</p>
</li>
<li><p>æœ‰ä¸€äº›åº”ç”¨å¯èƒ½éœ€è¦è¿›è¡Œåˆå§‹åŒ–æ“ä½œè€Œä¸”ä»…éœ€è¦ä¸€æ¬¡åˆå§‹åŒ–å°±å¯ä»¥ï¼Œä¸€èˆ¬çš„åšæ³•æ˜¯åœ¨å…¥å£å¤„å¯¹æŸä¸ªå˜é‡è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸ºçœŸé‚£ä¹ˆè®¤ä¸ºå·²ç»åˆå§‹åŒ–è¿‡äº†ç›´æ¥<code>return</code>æ‰ï¼Œå¦‚æœä¸ºå‡é‚£ä¹ˆè¿›è¡Œå‚æ•°çš„åˆå§‹åŒ–å·¥ä½œï¼Œå¹¶åœ¨å®Œæˆåˆå§‹åŒ–ä¹‹åè®¾ç½®è¯¥å˜é‡ä¸ºçœŸï¼Œé‚£ä¹ˆä¸‹æ¬¡è¿›å…¥çš„æ—¶å€™ä¾¿ä¸å¿…é‡å¤åˆå§‹åŒ–äº†ã€‚</p>
</li>
</ol>
<p><strong>å¯¹äºé—®é¢˜1</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> async1 = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'å¼‚æ­¥ä»»åŠ¡1ç»“æŸäº†'</span>)</div><div class="line">    cb()</div><div class="line">  &#125;, <span class="number">1000</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> async2 = <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'å¼‚æ­¥ä»»åŠ¡2ç»“æŸäº†'</span>)</div><div class="line">    cb()</div><div class="line">  &#125;, <span class="number">2000</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> fn = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'æˆ‘æ˜¯ä¸¤ä¸ªä»»åŠ¡éƒ½ç»“æŸäº†æ‰è¿›è¡Œçš„ä»»åŠ¡'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚æœè¦åœ¨ä»»åŠ¡1ï¼Œå’Œä»»åŠ¡2éƒ½ç»“æŸäº†æ‰è¿›è¡Œ<code>fn</code>ä»»åŠ¡ï¼Œæˆ‘ä»¬ä¸€èˆ¬çš„å†™æ³•æ˜¯å•¥ï¼Ÿ<br>å¯èƒ½ä¼šä¸‹é¢è¿™æ ·å†™</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">async1(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  async2(fn)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>è¿™æ ·ç¡®å®å¯ä»¥ä¿è¯ä»»åŠ¡<code>fn</code>æ˜¯åœ¨å‰é¢ä¸¤ä¸ªå¼‚æ­¥ä»»åŠ¡éƒ½ç»“æŸä¹‹åæ‰è¿›è¡Œï¼Œä½†æ˜¯ç›¸ä¿¡ä½ æ˜¯ä¸å¤ªå–œæ¬¢å›è°ƒçš„å†™æ³•çš„ï¼Œè¿™é‡Œä¸¾çš„å¼‚æ­¥ä»»åŠ¡åªæœ‰ä¸¤ä¸ªï¼Œå¦‚æœå¤šäº†èµ·æ¥ï¼Œææ€•å°±è¦è›‹ç–¼äº†ã€‚åˆ«ç–¼ï¼Œç”¨ä¸‹åˆ’çº¿çš„<code>after</code>å‡½æ•°å¯ä»¥è§£æ•‘ä½ ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">fn = _.after(<span class="number">2</span>, fn)</div><div class="line"></div><div class="line">async1(fn)</div><div class="line">async2(fn)</div></pre></td></tr></table></figure>
<p><strong>è¿è¡Œæˆªå›¾</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170525-220029@2x.png" alt="afterä¸¾ä¾‹"></p>
<p>æœ‰æœ¨æœ‰å¾ˆçˆ½ï¼Œä¸ç”¨å†™æˆå›è°ƒåœ°ç‹±çš„å½¢å¼äº†ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æºç æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<p><strong>afteræºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">_.after = <span class="function"><span class="keyword">function</span>(<span class="params">times, func</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// åªæœ‰è¿”å›çš„å‡½æ•°è¢«è°ƒç”¨timesæ¬¡ä¹‹åæ‰æ‰§è¡Œfuncæ“ä½œ</span></div><div class="line">    <span class="keyword">if</span> (--times &lt; <span class="number">1</span>) &#123;</div><div class="line">      <span class="keyword">return</span> func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>æºç ç®€å•åˆ°è¦æ­»å•Šï¼Œä½†æ˜¯å°±æ˜¯è¿™ä¹ˆç¥å¥‡ï¼Œå¦¥å¦¥åœ°è§£å†³äº†æˆ‘ä»¬çš„é—®é¢˜1ã€‚</p>
<p><strong>å¯¹äºé—®é¢˜2</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> app = &#123;</div><div class="line">  init (name, sex) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.initialized) &#123;</div><div class="line">      <span class="keyword">return</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// è¿›è¡Œå‚æ•°çš„åˆå§‹åŒ–å·¥ä½œ</span></div><div class="line">    <span class="keyword">this</span>.name = name</div><div class="line">    <span class="keyword">this</span>.sex = sex</div><div class="line">    <span class="comment">// åˆå§‹åŒ–å®Œæˆï¼Œè®¾ç½®æ ‡å¿—</span></div><div class="line">    <span class="keyword">this</span>.initialized = <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  showInfo () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.sex)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¼ å‚æ•°è¿›è¡Œåº”ç”¨çš„åˆå§‹åŒ–</span></div><div class="line"></div><div class="line">app.init(<span class="string">'qianlonog'</span>, <span class="string">'boy'</span>)</div><div class="line">app.init(<span class="string">'xiaohuihui'</span>, <span class="string">'girl'</span>)</div><div class="line">app.showInfo() <span class="comment">// qianlonog boy æ³¨æ„è¿™é‡Œæ‰“å°å‡ºæ¥çš„æ˜¯ç¬¬ä¸€æ¬¡ä¼ å…¥çš„å‚æ•°</span></div></pre></td></tr></table></figure>
<p>ä¸€èˆ¬éœ€è¦ä¸”åªè¿›è¡Œä¸€æ¬¡å‚æ•°åˆå§‹åŒ–å·¥ä½œçš„æ—¶å€™,æˆ‘ä»¬å¯èƒ½ä¼šåƒä¸Šé¢é‚£æ ·åšã€‚ä½†æ˜¯å…¶å®å¦‚æœç”¨ä¸‹åˆ’çº¿ä¸­çš„<code>before</code>æ–¹æ³•æˆ‘ä»¬è¿˜å¯ä»¥è¿™æ ·åšã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> app = &#123;</div><div class="line">  <span class="attr">init</span>: _.before(<span class="number">2</span>, <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">    <span class="comment">// è¿›è¡Œå‚æ•°çš„åˆå§‹åŒ–å·¥ä½œ</span></div><div class="line">    <span class="keyword">this</span>.name = name</div><div class="line">    <span class="keyword">this</span>.sex = sex</div><div class="line">  &#125;) ,</div><div class="line">  showInfo () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.sex)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¼ å‚æ•°è¿›è¡Œåº”ç”¨çš„åˆå§‹åŒ–</span></div><div class="line"></div><div class="line">app.init(<span class="string">'qianlonog'</span>, <span class="string">'boy'</span>)</div><div class="line">app.init(<span class="string">'xiaohuihui'</span>, <span class="string">'girl'</span>)</div><div class="line">app.showInfo() <span class="comment">// qianlonog boy æ³¨æ„è¿™é‡Œæ‰“å°å‡ºæ¥çš„æ˜¯ç¬¬ä¸€æ¬¡ä¼ å…¥çš„å‚æ•°</span></div></pre></td></tr></table></figure>
<p>å¥½ç©å§ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹<code>_.before</code>æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è°ƒç”¨æ¬¡æ•°ä¸è¶…è¿‡timesæ¬¡</span></div><div class="line"><span class="comment">// å¦‚æœæ¬¡æ•° &gt;= times åˆ™æœ€åä¸€æ¬¡è°ƒç”¨å‡½æ•°çš„è¿”å›å€¼å°†è¢«è®°ä½å¹¶ä¸€ç›´è¿”å›è¯¥å€¼</span></div><div class="line"></div><div class="line">_.before = <span class="function"><span class="keyword">function</span>(<span class="params">times, func</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> memo;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// è¿”å›çš„å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½timeså‡1</span></div><div class="line">    <span class="keyword">if</span> (--times &gt; <span class="number">0</span>) &#123; </div><div class="line">      <span class="comment">// è°ƒç”¨funcï¼Œå¹¶ä¼ å…¥å¤–é¢ä¼ è¿›æ¥çš„å‚æ•°</span></div><div class="line">      <span class="comment">// éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåä¸€æ¬¡è°ƒç”¨çš„è¿”å›å€¼ä¼šè¦†ç›–å‰ä¸€æ¬¡</span></div><div class="line">      memo = func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// å½“è°ƒç”¨æ¬¡æ•°å¤Ÿäº†ï¼Œå°±å°†funcé”€æ¯è®¾ç½®ä¸ºnull</span></div><div class="line">    <span class="keyword">if</span> (times &lt;= <span class="number">1</span>) func = <span class="literal">null</span>;</div><div class="line">    <span class="keyword">return</span> memo;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="è®©å‡½æ•°å…·æœ‰è®°å¿†çš„åŠŸèƒ½"><a href="#è®©å‡½æ•°å…·æœ‰è®°å¿†çš„åŠŸèƒ½" class="headerlink" title="è®©å‡½æ•°å…·æœ‰è®°å¿†çš„åŠŸèƒ½"></a>è®©å‡½æ•°å…·æœ‰è®°å¿†çš„åŠŸèƒ½</h2><blockquote>
<p>åœ¨ç¨‹åºä¸­æˆ‘ä»¬ç»å¸¸ä¼šè¦è¿›è¡Œä¸€äº›è®¡ç®—çš„æ“ä½œï¼Œå½“é‡åˆ°æ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ—¶å€™ï¼Œå¦‚æœæœ‰ä¸€ç§æœºåˆ¶ï¼Œå¯¹äºåŒæ ·çš„è¾“å…¥ï¼Œä¸€å®šå¾—åˆ°ç›¸åŒçš„è¾“å‡ºï¼Œå¹¶ä¸”å¯¹äºåŒæ ·çš„è¾“å…¥ï¼Œåç»­çš„è®¡ç®—ç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–ï¼Œä¸å†éœ€è¦å°†è®¡ç®—ç¨‹åºè¿è¡Œé‚£å°±éå¸¸èµäº†ã€‚</p>
</blockquote>
<p><strong>ä¸¾ä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> calculate = <span class="function">(<span class="params">num, num2</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">let</span> result = <span class="number">0</span></div><div class="line">  <span class="keyword">let</span> start = <span class="built_in">Date</span>.now()</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">10000000</span>; i++) &#123; <span class="comment">// è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿè€—æ—¶çš„æ“ä½œ</span></div><div class="line">    result += num</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">10000000</span>; i++) &#123; <span class="comment">// è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿè€—æ—¶çš„æ“ä½œ</span></div><div class="line">    result += num2</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">let</span> end = <span class="built_in">Date</span>.now()</div><div class="line">  <span class="built_in">console</span>.log(end - start)</div><div class="line">  <span class="keyword">return</span> result</div><div class="line">&#125;</div><div class="line"></div><div class="line">calculate(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 30000000</span></div><div class="line"><span class="comment">// log å¾—åˆ°235</span></div><div class="line">calculate(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 30000000</span></div><div class="line"><span class="comment">// log å¾—åˆ°249</span></div></pre></td></tr></table></figure>
<p>å¯¹äºä¸Šé¢è¿™ä¸ªcalculateå‡½æ•°,åŒæ ·çš„è¾“å…¥1, 2,ä¸¤æ¬¡è°ƒç”¨çš„è¾“å‡ºéƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”ä¸¤æ¬¡éƒ½èµ°äº†ä¸¤ä¸ªè€—æ—¶çš„å¾ªç¯ï¼Œçœ‹çœ‹ä¸‹åˆ’çº¿ä¸­çš„<code>memoize</code>å‡½æ•°ï¼Œå¦‚ä½•ä¸ºæˆ‘ä»¬çœå»ç¬¬äºŒæ¬¡çš„è€—æ—¶æ“ä½œï¼Œç›´æ¥ç»™å‡º<code>300000</code>çš„è¿”å›å€¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> calculate = _.memoize(<span class="function">(<span class="params">num, num2</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">let</span> start = <span class="built_in">Date</span>.now()</div><div class="line">  <span class="keyword">let</span> result = <span class="number">0</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">10000000</span>; i++) &#123; <span class="comment">// è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿè€—æ—¶çš„æ“ä½œ</span></div><div class="line">    result += num</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i&lt; <span class="number">10000000</span>; i++) &#123; <span class="comment">// è¿™é‡Œåªæ˜¯æ¨¡æ‹Ÿè€—æ—¶çš„æ“ä½œ</span></div><div class="line">    result += num2</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">let</span> end = <span class="built_in">Date</span>.now()</div><div class="line">  <span class="built_in">console</span>.log(end - start)</div><div class="line">  <span class="keyword">return</span> result</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> [].join.call(<span class="built_in">arguments</span>, <span class="string">'@'</span>) <span class="comment">// è¿™é‡Œæ˜¯ä¸ºäº†ç»™åŒæ ·çš„è¾“å…¥æŒ‡å®šå”¯ä¸€çš„ç¼“å­˜key</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">calculate(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 30000000</span></div><div class="line"><span class="comment">// log å¾—åˆ° 238</span></div><div class="line">calculate(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// 30000000</span></div><div class="line"><span class="comment">// log å•¥ä¹Ÿæ²¡æœ‰æ‰“å°å‡ºï¼Œå› ä¸ºç›´æ¥ä»ç¼“å­˜ä¸­è¯»å–äº†</span></div></pre></td></tr></table></figure>
<p><strong>æºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> _.memoize = <span class="function"><span class="keyword">function</span>(<span class="params">func, hasher</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> memoize = <span class="function"><span class="keyword">function</span>(<span class="params">key</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> cache = memoize.cache;</div><div class="line">    <span class="comment">// æ³¨æ„hasherï¼Œå¦‚æœä¼ äº†hasherï¼Œå°±ç”¨hasher()æ‰§è¡Œçš„ç»“æœä½œä¸ºç¼“å­˜func()æ‰§è¡Œçš„ç»“æœçš„key</span></div><div class="line">    <span class="keyword">var</span> address = <span class="string">''</span> + (hasher ? hasher.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>) : key); </div><div class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰åœ¨cacheä¸­æŸ¥æ‰¾åˆ°å¯¹åº”çš„keyå°±å»è®¡ç®—ä¸€æ¬¡ï¼Œå¹¶ç¼“å­˜ä¸‹æ¥</span></div><div class="line">    <span class="keyword">if</span> (!_.has(cache, address)) cache[address] = func.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>); </div><div class="line">    <span class="comment">// è¿”å›ç»“æœ</span></div><div class="line">    <span class="keyword">return</span> cache[address];</div><div class="line">  &#125;;</div><div class="line">  memoize.cache = &#123;&#125;;</div><div class="line">  <span class="keyword">return</span> memoize; <span class="comment">// è¿”å›ä¸€ä¸ªå…·æœ‰cacheé™æ€å±æ€§çš„å‡½æ•°</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ç›¸ä¿¡ä½ å·²ç»çœ‹æ‡‚äº†æºç å®ç°ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œä½†æ˜¯åˆå¾ˆå®ç”¨æœ‰è¶£ã€‚</p>
<h2 id="æ¥ä¸€ä¸‹å»¶æ—¶-delayå’Œ-defer"><a href="#æ¥ä¸€ä¸‹å»¶æ—¶-delayå’Œ-defer" class="headerlink" title="æ¥ä¸€ä¸‹å»¶æ—¶(.delayå’Œ.defer)"></a>æ¥ä¸€ä¸‹å»¶æ—¶(<em>.delayå’Œ</em>.defer)</h2><blockquote>
<p> ä¸‹åˆ’çº¿ä¸­åœ¨åŸç”Ÿå»¶è¿Ÿå‡½æ•°<code>setTimeout</code>çš„åŸºç¡€ä¸Šåšäº†ä¸€äº›æ”¹é€ ï¼Œäº§ç”Ÿä»¥ä¸Šä¸¤ä¸ªå‡½æ•°</p>
</blockquote>
<p><strong>_.delay(function, wait, *arguments)</strong></p>
<p>å°±æ˜¯å»¶è¿Ÿ<code>wait</code>æ—¶é—´å»æ‰§è¡Œ<code>function</code>ï¼Œ<code>function</code>éœ€è¦çš„å‚æ•°ç”±<code>*arguments</code>æä¾›</p>
<p><strong>ä½¿ç”¨ä¸¾ä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> log = _.bind(<span class="built_in">console</span>.log, <span class="built_in">console</span>)</div><div class="line">_.delay(log, <span class="number">1000</span>, <span class="string">'hello qianlongo'</span>)</div><div class="line"><span class="comment">// 1ç§’åæ‰“å°å‡º hello qianlongo</span></div></pre></td></tr></table></figure>
<p><strong>æºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">_.delay = <span class="function"><span class="keyword">function</span>(<span class="params">func, wait</span>) </span>&#123;</div><div class="line">  <span class="comment">// è¯»å–ç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹çš„å…¶ä»–å‚æ•°</span></div><div class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">  <span class="keyword">return</span> setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// æ‰§è¡Œfuncå¹¶å°†å‚æ•°ä¼ å…¥,æ³¨æ„applyçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯nullæŠ¤ç€undefinedçš„æ—¶å€™ï¼Œfuncå†…éƒ¨çš„thisæŒ‡çš„æ˜¯å…¨å±€çš„windowæˆ–è€…global</span></div><div class="line">    <span class="keyword">return</span> func.apply(<span class="literal">null</span>, args); </div><div class="line">  &#125;, wait);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ä¸è¿‡æœ‰ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯<code>_.delay(function, wait, *arguments)``function</code>ä¸­çš„<code>this</code>æŒ‡çš„æ˜¯<code>window</code>æˆ–è€…<code>global</code></p>
<p><strong>_.defer(function, *arguments)</strong></p>
<p>å»¶è¿Ÿè°ƒç”¨functionç›´åˆ°å½“å‰è°ƒç”¨æ ˆæ¸…ç©ºä¸ºæ­¢ï¼Œç±»ä¼¼ä½¿ç”¨å»¶æ—¶ä¸º0çš„setTimeoutæ–¹æ³•ã€‚å¯¹äºæ‰§è¡Œå¼€é”€å¤§çš„è®¡ç®—å’Œæ— é˜»å¡UIçº¿ç¨‹çš„HTMLæ¸²æŸ“æ—¶å€™éå¸¸æœ‰ç”¨ã€‚ å¦‚æœä¼ é€’argumentså‚æ•°ï¼Œå½“å‡½æ•°functionæ‰§è¡Œæ—¶ï¼Œ arguments ä¼šä½œä¸ºå‚æ•°ä¼ å…¥</p>
<p><strong>æºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">_.defer = _.partial(_.delay, _, <span class="number">1</span>);</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥ä¸»è¦è¿˜æ˜¯çœ‹<code>_.partial</code>æ˜¯ä¸ªå•¥</p>
<h2 id="å¯ä»¥é¢„æŒ‡å®šå‚æ•°çš„å‡½æ•°-partial"><a href="#å¯ä»¥é¢„æŒ‡å®šå‚æ•°çš„å‡½æ•°-partial" class="headerlink" title="å¯ä»¥é¢„æŒ‡å®šå‚æ•°çš„å‡½æ•°_.partial"></a>å¯ä»¥é¢„æŒ‡å®šå‚æ•°çš„å‡½æ•°<code>_.partial</code></h2><blockquote>
<p>å±€éƒ¨åº”ç”¨ä¸€ä¸ªå‡½æ•°å¡«å……åœ¨ä»»æ„ä¸ªæ•°çš„ å‚æ•°ï¼Œä¸æ”¹å˜å…¶åŠ¨æ€thiså€¼ã€‚å’Œbindæ–¹æ³•å¾ˆç›¸è¿‘ã€‚ä½ å¯ä»¥åœ¨ä½ çš„å‚æ•°åˆ—è¡¨ä¸­ä¼ é€’_æ¥æŒ‡å®šä¸€ä¸ªå‚æ•° ï¼Œä¸åº”è¯¥è¢«é¢„å…ˆå¡«å……(<a href="http://www.bootcss.com/p/underscore/#partial" target="_blank" rel="external">underscoreä¸­æ–‡ç½‘ç¿»è¯‘</a>)</p>
</blockquote>
<p><strong>ä½¿ç”¨ä¸¾ä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> fn = <span class="function">(<span class="params">num1, num2, num3, num4</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">let</span> str = <span class="string">`num1=<span class="subst">$&#123;num1&#125;</span>`</span></div><div class="line">  str += <span class="string">`num2=<span class="subst">$&#123;num2&#125;</span>`</span></div><div class="line">  str += <span class="string">`num3=<span class="subst">$&#123;num3&#125;</span>`</span></div><div class="line">  str += <span class="string">`num4=<span class="subst">$&#123;num4&#125;</span>`</span></div><div class="line">  <span class="keyword">return</span> str</div><div class="line">&#125;</div><div class="line"></div><div class="line">fn = _.partial(fn, <span class="number">1</span>, _, <span class="number">3</span>, _)</div><div class="line">fn(<span class="number">2</span>,<span class="number">4</span>)<span class="comment">// num1=1num2=2num3=3num4=4</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¼ å…¥äº†<code>_</code>(è¿™é‡ŒæŒ‡çš„æ˜¯ä¸‹åˆ’çº¿æœ¬èº«)è¿›è¡Œå ä½ï¼Œåç»­å†è®²2å’Œ4å¡«å……åˆ°å¯¹åº”çš„ä½ç½®å»äº†ã€‚</p>
<p><strong>æºç å…·ä½“æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">_.partial = <span class="function"><span class="keyword">function</span>(<span class="params">func</span>) </span>&#123;</div><div class="line">  <span class="comment">// è·å–é™¤äº†ä¼ è¿›å›è°ƒå‡½æ•°ä¹‹å¤–çš„å…¶ä»–é¢„å‚æ•°</span></div><div class="line">  <span class="keyword">var</span> boundArgs = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>); </div><div class="line">  <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> position = <span class="number">0</span>, length = boundArgs.length;</div><div class="line">    <span class="comment">// å…ˆåˆ›å»ºä¸€ä¸ªå’ŒboundArgsé•¿åº¦ç­‰é•¿çš„ç©ºæ•°ç»„</span></div><div class="line">    <span class="keyword">var</span> args = <span class="built_in">Array</span>(length); </div><div class="line">    <span class="comment">// å¤„ç†å ä½å…ƒç´ _</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123; </div><div class="line">      <span class="comment">// å¦‚æœå‘ç°boundArgsä¸­æœ‰_çš„å ä½å…ƒç´ ï¼Œå°±ä¾æ¬¡ç”¨argumentsä¸­çš„å…ƒç´ è¿›è¡Œæ›¿æ¢boundArgs</span></div><div class="line">      args[i] = boundArgs[i] === _ ? <span class="built_in">arguments</span>[position++] : boundArgs[i]; </div><div class="line">    &#125;</div><div class="line">    <span class="comment">// æŠŠaugumentsä¸­çš„å…¶ä»–å…ƒç´ æ·»åŠ åˆ°boundArgsä¸­</span></div><div class="line">    <span class="keyword">while</span> (position &lt; <span class="built_in">arguments</span>.length) args.push(<span class="built_in">arguments</span>[position++]); </div><div class="line">    <span class="comment">// æœ€åæ‰§è¡ŒexecuteBoundï¼Œæ¥ä¸‹æ¥çœ‹çœ‹executeBoundæ˜¯ä»€ä¹ˆ</span></div><div class="line">    <span class="keyword">return</span> executeBound(func, bound, <span class="keyword">this</span>, <span class="keyword">this</span>, args);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> bound;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://github.com/qianlongo/underscore-analysis/issues/8" target="_blank" rel="external">å¦‚ä½•å†™ä¸€ä¸ªå®ç”¨çš„bindï¼Ÿ</a><br>æœ‰è¯¦ç»†è®²è§£ï¼Œè¿™é‡Œæˆ‘ä»¬å†å›é¡¾ä¸€ä¸‹<br><strong>executeBound</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> executeBound = <span class="function"><span class="keyword">function</span>(<span class="params">sourceFunc, boundFunc, context, callingContext, args</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœè°ƒç”¨æ–¹å¼ä¸æ˜¯new funcçš„å½¢å¼å°±ç›´æ¥è°ƒç”¨sourceFuncï¼Œå¹¶ä¸”ç»™åˆ°å¯¹åº”çš„å‚æ•°å³å¯</span></div><div class="line">  <span class="keyword">if</span> (!(callingContext <span class="keyword">instanceof</span> boundFunc)) <span class="keyword">return</span> sourceFunc.apply(context, args); </div><div class="line">   <span class="comment">// å¤„ç†newè°ƒç”¨çš„å½¢å¼</span></div><div class="line">  <span class="keyword">var</span> self = baseCreate(sourceFunc.prototype);</div><div class="line">  <span class="keyword">var</span> result = sourceFunc.apply(self, args);</div><div class="line">  <span class="keyword">if</span> (_.isObject(result)) <span class="keyword">return</span> result;</div><div class="line">  <span class="keyword">return</span> self;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>å…ˆçœ‹ä¸€ä¸‹è¿™äº›å‚æ•°éƒ½ï¿½ä»£è¡¨ä»€ä¹ˆå«ä¹‰</p>
<ol>
<li>sourceFuncï¼šåŸå‡½æ•°ï¼Œå¾…ç»‘å®šå‡½æ•°</li>
<li>boundFuncï¼š ç»‘å®šåå‡½æ•°</li>
<li>contextï¼šç»‘å®šåå‡½æ•°thisæŒ‡å‘çš„ä¸Šä¸‹æ–‡</li>
<li>callingContextï¼šç»‘å®šåå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œé€šå¸¸å°±æ˜¯ this</li>
<li>argsï¼šç»‘å®šåçš„å‡½æ•°æ‰§è¡Œæ‰€éœ€å‚æ•°</li>
</ol>
<p>è¿™é‡Œå…¶å®å°±æ˜¯æ‰§è¡Œäº†è¿™å¥,æ‰€ä»¥å…³é”®è¿˜æ˜¯å¦‚æœå¤„ç†é¢„å‚æ•°ï¼Œå’Œåç»­å‚æ•°çš„é€»è¾‘</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sourceFunc.apply(context, args);</div></pre></td></tr></table></figure>
<h2 id="ç®¡é“å¼å‡½æ•°ç»„åˆ"><a href="#ç®¡é“å¼å‡½æ•°ç»„åˆ" class="headerlink" title="ç®¡é“å¼å‡½æ•°ç»„åˆ"></a>ç®¡é“å¼å‡½æ•°ç»„åˆ</h2><blockquote>
<p>ä½ ä¹Ÿè®¸é‡åˆ°è¿‡è¿™ç§åœºæ™¯ï¼Œä»»åŠ¡Aï¼Œä»»åŠ¡Bï¼Œä»»åŠ¡Cå¿…é¡»æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”Açš„è¾“å‡ºä½œä¸ºBçš„è¾“å…¥ï¼ŒBçš„è¾“å‡ºä½œä¸ºCçš„è¾“å…¥ï¼Œå·¦åå†å¾—åˆ°ç»“æœã€‚ç”¨ä¸€å¼ å›¾è¡¨ç¤ºå¦‚ä¸‹</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170526-001211@2x.png" alt="ç®¡é“"></p>
<p>é‚£ä¹ˆä¸€èˆ¬çš„åšæ³•æ˜¯ä»€ä¹ˆå‘¢</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> funcA = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> str += <span class="string">'-A'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> funcB = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> str += <span class="string">'-B'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> funcC = <span class="function">(<span class="params">str</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> str += <span class="string">'-C'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">funcC(funcB(funcA(<span class="string">'hello'</span>)))</div><div class="line"><span class="comment">// "hello-A-B-C"</span></div><div class="line"></div><div class="line"><span class="string">``</span><span class="string">` javascript</span></div><div class="line">ç”¨ä¸‹åˆ’çº¿ä¸­çš„`compose<span class="string">`æ–¹æ³•æ€ä¹ˆåšå‘¢</span></div><div class="line"></div><div class="line">`<span class="string">``</span> javascript</div><div class="line"><span class="keyword">let</span> fn = _.compose(funcC, funcB, funcA)</div><div class="line">fn(<span class="string">'hello'</span>)</div><div class="line"><span class="comment">// "hello-A-B-C"</span></div></pre></td></tr></table></figure>
<p>çœ‹èµ·æ¥æ²¡æœ‰ä¸€èˆ¬çš„åšæ³•é‚£æ ·ï¼Œå±‚å±‚ç»•è¿›å»äº†ï¼Œè€Œæ˜¯ä»¥ä¸€ç§éå¸¸æ‰å¹³çš„æ–¹å¼ä½¿ç”¨ã€‚</p>
<p>åŒæ ·æˆ‘ä»¬çœ‹çœ‹æºç æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<p><strong>_.composeæºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">_.compose = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</div><div class="line">  <span class="comment">// ä»æœ€åä¸€ä¸ªå‚æ•°å¼€å§‹å¤„ç†</span></div><div class="line">  <span class="keyword">var</span> start = args.length - <span class="number">1</span>;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> i = start;</div><div class="line">    <span class="comment">// æ‰§è¡Œæœ€åä¸€ä¸ªå‡½æ•°,å¹¶å¾—åˆ°ç»“æœresult</span></div><div class="line">    <span class="keyword">var</span> result = args[start].apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>); </div><div class="line">    <span class="comment">// ä»åå¾€å‰ä¸€ä¸ªä¸ªè°ƒç”¨ä¼ è¿›æ¥çš„å‡½æ•°ï¼Œå¹¶å°†ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ç»“æœä½œä¸ºå‚æ•°ä¼ è¿›ä¸‹ä¸€ä¸ªå‡½æ•°</span></div><div class="line">    <span class="keyword">while</span> (i--) result = args[i].call(<span class="keyword">this</span>, result); </div><div class="line">    <span class="comment">// æœ€åå°†ç»“æœå¯¼å‡º</span></div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="ç»™å¤šä¸ªå‡½æ•°ç»‘å®šåŒæ ·çš„ä¸Šä¸‹æ–‡-bindAll-object-methodNames"><a href="#ç»™å¤šä¸ªå‡½æ•°ç»‘å®šåŒæ ·çš„ä¸Šä¸‹æ–‡-bindAll-object-methodNames" class="headerlink" title="ç»™å¤šä¸ªå‡½æ•°ç»‘å®šåŒæ ·çš„ä¸Šä¸‹æ–‡(_.bindAll(object, *methodNames))"></a>ç»™å¤šä¸ªå‡½æ•°ç»‘å®šåŒæ ·çš„ä¸Šä¸‹æ–‡<code>(_.bindAll(object, *methodNames))</code></h2><blockquote>
<p>å°†å¤šä¸ªå‡½æ•°methodNamesç»‘å®šä¸Šä¸‹æ–‡ç¯å¢ƒä¸º<code>object</code></p>
</blockquote>
<p>ğŸ˜ª ğŸ˜ª ğŸ˜ªï¼Œå¥½å›°ï¼Œå†™æ–‡ç« å½“çœŸå¥½è¦æ—¶é—´å’Œç²¾åŠ›ï¼Œåˆ°è¿™é‡Œå·²ç»å¿«å†™äº†3ä¸ªå°æ—¶äº†ï¼Œå¤œæ·±ï¼Œå¥½åƒèººä¸‹ç¡è§‰å•Šï¼ï¼ï¼å•Šå•Šå•Šï¼Œå†ç­‰ç­‰å¿«è¯´å®Œäº†ï¼ˆå¸Œæœ›ä¸ä¼šè¯¯äººå­å¼Ÿï¼‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> buttonView = &#123;</div><div class="line">  <span class="attr">label</span>  : <span class="string">'underscore'</span>,</div><div class="line">  <span class="attr">onClick</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; alert(<span class="string">'clicked: '</span> + <span class="keyword">this</span>.label); &#125;,</div><div class="line">  <span class="attr">onHover</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="built_in">console</span>.log(<span class="string">'hovering: '</span> + <span class="keyword">this</span>.label); &#125;</div><div class="line">&#125;;</div><div class="line">_.bindAll(buttonView, <span class="string">'onClick'</span>, <span class="string">'onHover'</span>);</div><div class="line"></div><div class="line">$(<span class="string">'#underscore_button'</span>).bind(<span class="string">'click'</span>, buttonView.onClick);</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç”¨å®˜ç½‘ç»™çš„ä¾‹å­è¯´ä¸€ä¸‹ï¼Œé»˜è®¤çš„jQueryä¸­<code>$(selector).on(eventName, callback)</code>callbackä¸­çš„<code>this</code>æŒ‡çš„æ˜¯å½“å‰çš„å…ƒç´ æœ¬èº«ï¼Œå½“æ—¶ç»è¿‡ä¸Šé¢çš„å¤„ç†ï¼Œä¼šå¼¹å‡º<code>underscore</code>ã€‚</p>
<p><strong>_.bindAllæºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> _.bindAll = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> i, length = <span class="built_in">arguments</span>.length, key;</div><div class="line">  <span class="comment">// å¿…é¡»è¦æŒ‡å®šéœ€è¦ç»‘å®šåˆ°objçš„å‡½æ•°å‚æ•°</span></div><div class="line">  <span class="keyword">if</span> (length &lt;= <span class="number">1</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'bindAll must be passed function names'</span>);</div><div class="line">  <span class="comment">// ä»ç¬¬ä¸€ä¸ªå®å‚å¼€å§‹å¤„ç†ï¼Œè¿™äº›ä¾¿æ˜¯éœ€è¦ç»‘å®šthisä½œç”¨åŸŸåˆ°objçš„å‡½æ•°</span></div><div class="line">  <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; length; i++) &#123; </div><div class="line">    key = <span class="built_in">arguments</span>[i];</div><div class="line">    <span class="comment">// è°ƒç”¨å†…éƒ¨çš„bindæ–¹æ³•è¿›è¡Œthisç»‘å®š</span></div><div class="line">    obj[key] = _.bind(obj[key], obj); </div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> obj;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>å†…éƒ¨ä½¿ç”¨äº†<code>_.bind</code>è¿›è¡Œç»‘å®šï¼Œå¦‚æœä½ å¯¹<code>_.bind</code>åŸç”Ÿæ˜¯å¦‚ä½•å®ç°çš„å¯ä»¥çœ‹è¿™é‡Œ<a href="https://github.com/qianlongo/underscore-analysis/issues/8" target="_blank" rel="external">å¦‚ä½•å†™ä¸€ä¸ªå®ç”¨çš„bindï¼Ÿ</a></p>
<h2 id="æ‹¾é—"><a href="#æ‹¾é—" class="headerlink" title="æ‹¾é—"></a>æ‹¾é—</h2><blockquote>
<p>æœ€åå…³äºunderscore.jsä¸­functionç¯‡ç« è¿˜æœ‰ä¸¤ä¸ªå‡½æ•°è¯´ä¸€ä¸‹ï¼Œå¦å¤–èŠ‚æµå‡½æ•°<code>throttle</code>ä»¥åŠ<code>debounce_</code>ä¼šå¦å¤–å•ç‹¬å†™ä¸€ç¯‡æ–‡ç« ä»‹ç»ï¼Œæ¬¢è¿å‰å¾€<a href="https://github.com/qianlongo/underscore-analysis/" target="_blank" rel="external">underscore-analysis/</a> watchä¸€ä¸‹ï¼Œéšæ—¶å¯ä»¥çœ‹åˆ°åŠ¨æ€æ›´æ–°ã€‚</p>
</blockquote>
<p><strong>_.wrap(function, wrapper)</strong></p>
<p>å°†ç¬¬ä¸€ä¸ªå‡½æ•° function å°è£…åˆ°å‡½æ•° wrapper é‡Œé¢, å¹¶æŠŠå‡½æ•° function ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ ç»™ wrapper. è¿™æ ·å¯ä»¥è®© wrapper åœ¨ function è¿è¡Œä¹‹å‰å’Œä¹‹å æ‰§è¡Œä»£ç , è°ƒæ•´å‚æ•°ç„¶åé™„æœ‰æ¡ä»¶åœ°æ‰§è¡Œ.</p>
<p><strong>ç›´æ¥çœ‹æºç å®ç°å§</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.wrap = <span class="function"><span class="keyword">function</span>(<span class="params">func, wrapper</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> _.partial(wrapper, func);</div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
<p>è¿˜è®°å¾—å‰é¢è¯´çš„<code>partial</code>å§ï¼Œä»–ä¼šè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå†…éƒ¨ä¼šæ‰§è¡Œ<code>wrapper</code>ï¼Œå¹¶ä¸”<code>func</code>ä¼šä½œä¸º<code>wrapper</code>çš„ä¸€ä¸ªå‚æ•°è¢«ä¼ å…¥ã€‚</p>
<p><strong>_.negate(predicate)</strong></p>
<blockquote>
<p>å°†predicateå‡½æ•°æ‰§è¡Œçš„ç»“æœå–åã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨ä¸¾ä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> fn = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">_.negate(fn)() <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p>çœ‹èµ·æ¥å¥½åƒæ²¡ä»€ä¹ˆè½¯ç”¨ï¼Œä½†æ˜¯ã€‚ã€‚ã€‚ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> findEven = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> num % <span class="number">2</span> === <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">arr.filter(findEven) <span class="comment">// [2, 4, 6]</span></div></pre></td></tr></table></figure>
<p>å¦‚æœè¦æ‰¾åˆ°å¥‡æ•°å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</div><div class="line"></div><div class="line"><span class="keyword">let</span> findEven = <span class="function">(<span class="params">num</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> num % <span class="number">2</span> === <span class="number">0</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">arr.filter(_.negate(findEven)) <span class="comment">// [1, 3, 5]</span></div></pre></td></tr></table></figure>
<p><strong>æºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">_.negate = <span class="function"><span class="keyword">function</span>(<span class="params">predicate</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> !predicate.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>æºç å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠä½ ä¼ è¿›æ¥çš„predicateå‡½æ•°æ‰§è¡Œçš„ç»“æœå–åä¸€ä¸‹ï¼Œä½†æ˜¯åº”ç”¨è¿˜æ˜¯è›®å¤šçš„ã€‚</p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>è¿™å‡ ä¸ªæ˜¯underscoreåº“ä¸­functionç›¸å…³çš„apiï¼Œå¤§éƒ¨åˆ†å·²ç»è¯´å®Œäº†ï¼Œå¦‚æœå¯¹ä½ æœ‰ä¸€ç‚¹ç‚¹å¸®åŠ©ã€‚</p>
</blockquote>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">ç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€ğŸ˜€ğŸ˜€</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">ç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€ğŸ˜€ğŸ˜€</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">ç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€ğŸ˜€ğŸ˜€</a></p>
<p>good night ğŸŒ™</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¦‚ä½•å†™ä¸€ä¸ªå®ç”¨çš„bindï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2017/05/20/%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AA%E5%AE%9E%E7%94%A8%E7%9A%84bind%EF%BC%9F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™æ˜¯underscore.jsæºç åˆ†æçš„ç¬¬äº”ç¯‡ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªç³»åˆ—æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ç‚¹å‡»</p>
<p><a href="https://github.com/qianlongo/underscore-analysis/" target="_blank" rel="external">underscore-analysis/</a> watchä¸€ä¸‹ï¼Œéšæ—¶å¯ä»¥çœ‹åˆ°åŠ¨æ€æ›´æ–°ã€‚</p>
<blockquote>
<p>äº‹æƒ…è¦ä»jsä¸­çš„<code>this</code>å¼€å§‹è¯´èµ·ï¼Œä½ æ˜¯ä¸æ˜¯ä¹Ÿç»å¸¸æœ‰ç§æ— æ³•æŒæ§å’ŒçŸ¥æ™“å®ƒçš„æ„Ÿè§‰ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œ<code>this</code>ç®€ç›´å¦‚åŒå›è°ƒåœ°ç‹±èˆ¬ï¼Œç¥ä¹å…¶ç¥ï¼Œè®©äººæ— æ³•æ‰æ‘¸é€ã€‚ä½†æ˜¯é€šè¿‡åŸç”Ÿjsä¸­çš„bindæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤ºç»‘å®šå‡½æ•°çš„<code>this</code>ä½œç”¨åŸŸï¼Œè€Œæ— éœ€æ‹…å¿ƒè¿è¡Œæ—¶æ˜¯å¦ä¼šæ”¹å˜è€Œä¸ç¬¦åˆè‡ªå·±çš„é¢„æœŸã€‚å½“ç„¶äº†ä¸‹åˆ’çº¿ä¸­çš„bindä¹Ÿæ˜¯æ¨¡ä»¿å®ƒçš„åŠŸèƒ½åŒæ ·å¯ä»¥è¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/cxt.jpeg" alt="ctx"></p>
<a id="more"></a>
<h2 id="bindç®€å•å›é¡¾"><a href="#bindç®€å•å›é¡¾" class="headerlink" title="bindç®€å•å›é¡¾"></a>bindç®€å•å›é¡¾</h2><blockquote>
<p>æˆ‘ä»¬ä»mdnä¸Šçš„ä»‹ç»æ¥å›é¡¾ä¸€ä¸‹<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="external">bind</a>çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>bindæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°, å½“è¢«è°ƒç”¨æ—¶ï¼Œå®ƒçš„thiså…³é”®å­—è¢«è®¾ç½®ä¸ºæä¾›çš„å€¼ã€‚</strong></p>
<p><strong>è¯­æ³•</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fun.bind(thisArg[, arg1[, arg2[, ...]]])</div></pre></td></tr></table></figure>
<p>ç®€å•åœ°çœ‹ä¸€ä¸‹è¿™äº›å‚æ•°çš„å«ä¹‰</p>
<ol>
<li><p>thisArg</p>
<blockquote>
<p>å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºåŸå‡½æ•°è¿è¡Œæ—¶çš„thisæŒ‡å‘,å½“ä½¿ç”¨new æ“ä½œç¬¦è°ƒç”¨ç»‘å®šå‡½æ•°æ—¶ï¼Œè¯¥å‚æ•°æ— æ•ˆã€‚</p>
</blockquote>
</li>
<li><p>arg1, arg2, â€¦</p>
<blockquote>
<p>å½“ç»‘å®šå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè¿™äº›å‚æ•°å°†ç½®äºå®å‚ä¹‹å‰ä¼ é€’ç»™è¢«ç»‘å®šçš„æ–¹æ³•ã€‚</p>
</blockquote>
</li>
</ol>
<p><strong>ç»‘å®šthisä½œç”¨åŸŸç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.name = <span class="string">'windowName'</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  showName () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">obj.showName() <span class="comment">// qianlongo</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> showName = obj.showName</div><div class="line">  showName() <span class="comment">// windowName</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> bindShowName = obj.showName.bind(obj)</div><div class="line">  bindShowName() <span class="comment">// qianlongo</span></div></pre></td></tr></table></figure>
<p>é€šè¿‡ä»¥ä¸Šç®€å•ç¤ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“äº†ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨å°±æ˜¯ç»‘å®šå‡½æ•°è¿è¡Œæ—¶å€™çš„<code>this</code>æŒ‡å‘</p>
<p><strong>ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹èµ·ä½¿ç”¨ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> sum = <span class="function">(<span class="params">num1, num2</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(num1 + num2)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> bindSum = sum.bind(<span class="literal">null</span>, <span class="number">1</span>)</div><div class="line">bindSum(<span class="number">2</span>) <span class="comment">// 3</span></div></pre></td></tr></table></figure>
<p><strong>bindå¯ä»¥ä½¿ä¸€ä¸ªå‡½æ•°æ‹¥æœ‰é¢„è®¾çš„åˆå§‹å‚æ•°ã€‚è¿™äº›å‚æ•°ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ä½œä¸ºbindçš„ç¬¬äºŒä¸ªå‚æ•°è·Ÿåœ¨thisï¼ˆæˆ–å…¶ä»–å¯¹è±¡ï¼‰åé¢ï¼Œä¹‹åå®ƒä»¬ä¼šè¢«æ’å…¥åˆ°ç›®æ ‡å‡½æ•°çš„å‚æ•°åˆ—è¡¨çš„å¼€å§‹ä½ç½®ï¼Œä¼ é€’ç»™ç»‘å®šå‡½æ•°çš„å‚æ•°ä¼šè·Ÿåœ¨å®ƒä»¬çš„åé¢ã€‚</strong></p>
<p>å‚æ•°çš„ä½¿ç”¨åŸºæœ¬ä¸Šæ˜ç™½äº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ä½¿ç”¨newå»è°ƒç”¨bindä¹‹åçš„å‡½æ•°æ˜¯æ€ä¹ˆå›äº‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// Person &#123;&#125;</span></div><div class="line">  <span class="keyword">this</span>.name = name</div><div class="line">  <span class="keyword">this</span>.sex = sex</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">age</span>: <span class="number">100</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> bindPerson = Person.bind(obj, <span class="string">'qianlongo'</span>)</div><div class="line"></div><div class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> bindPerson(<span class="string">'boy'</span>)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(p) <span class="comment">// Person &#123;name: "qianlongo", sex: "boy"&#125;</span></div></pre></td></tr></table></figure>
<p>æœ‰æ²¡æœ‰å‘ç°bindPersonå†…éƒ¨çš„thisä¸å†æ˜¯bindçš„ç¬¬ä¸€ä¸ªå‚æ•°objï¼Œæ­¤æ—¶objå·²ç»ä¸å†èµ·æ•ˆäº†ã€‚</p>
<p>å®é™…ä¸Šbindçš„ä½¿ç”¨æ˜¯æœ‰ä¸€å®šé™åˆ¶çš„ï¼Œåœ¨ä¸€äº›ä½ç‰ˆæœ¬æµè§ˆå™¨ä¸‹ä¸å¯ç”¨ï¼Œä½ æƒ³ä¸æƒ³çœ‹çœ‹ä¸‹åˆ’çº¿ä¸­æ˜¯å¦‚ä½•å®ç°ä¸€ä¸ªå…¼å®¹æ€§å¥½çš„bindå‘¢ï¼ï¼ï¼come on</p>
<h2 id="ä¸‹åˆ’çº¿ä¸­bindå®ç°"><a href="#ä¸‹åˆ’çº¿ä¸­bindå®ç°" class="headerlink" title="ä¸‹åˆ’çº¿ä¸­bindå®ç°"></a>ä¸‹åˆ’çº¿ä¸­bindå®ç°</h2><p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> _.bind = <span class="function"><span class="keyword">function</span>(<span class="params">func, context</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœåŸç”Ÿæ”¯æŒbindå‡½æ•°ï¼Œå°±ç”¨åŸç”Ÿçš„ï¼Œå¹¶å°†å¯¹åº”çš„å‚æ•°ä¼ è¿›å»</span></div><div class="line">  <span class="keyword">if</span> (nativeBind &amp;&amp; func.bind === nativeBind) <span class="keyword">return</span> nativeBind.apply(func, slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>));</div><div class="line">  <span class="comment">// å¦‚æœä¼ å…¥çš„funcä¸æ˜¯ä¸€ä¸ªå‡½æ•°ç±»å‹ å°±æŠ›å‡ºå¼‚å¸¸</span></div><div class="line">  <span class="keyword">if</span> (!_.isFunction(func)) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Bind must be called on a function'</span>);</div><div class="line">  <span class="comment">// æŠŠç¬¬ä¸‰ä¸ªå‚æ•°ä»¥åçš„å€¼å­˜èµ·æ¥ï¼Œæ¥ä¸‹æ¥è¯·çœ‹executeBound</span></div><div class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">2</span>);</div><div class="line">  <span class="keyword">var</span> bound = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> executeBound(func, bound, context, <span class="keyword">this</span>, args.concat(slice.call(<span class="built_in">arguments</span>)));</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> bound;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>executeBoundå®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> executeBound = <span class="function"><span class="keyword">function</span>(<span class="params">sourceFunc, boundFunc, context, callingContext, args</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœè°ƒç”¨æ–¹å¼ä¸æ˜¯new funcçš„å½¢å¼å°±ç›´æ¥è°ƒç”¨sourceFuncï¼Œå¹¶ä¸”ç»™åˆ°å¯¹åº”çš„å‚æ•°å³å¯</span></div><div class="line">  <span class="keyword">if</span> (!(callingContext <span class="keyword">instanceof</span> boundFunc)) <span class="keyword">return</span> sourceFunc.apply(context, args); </div><div class="line">  <span class="comment">// å¤„ç†newè°ƒç”¨çš„å½¢å¼</span></div><div class="line">  <span class="keyword">var</span> self = baseCreate(sourceFunc.prototype);</div><div class="line">  <span class="keyword">var</span> result = sourceFunc.apply(self, args);</div><div class="line">  <span class="keyword">if</span> (_.isObject(result)) <span class="keyword">return</span> result;</div><div class="line">  <span class="keyword">return</span> self;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„æºç éƒ½åšäº†ç›¸åº”çš„æ³¨é‡Šï¼Œæˆ‘ä»¬ç€é‡æ¥çœ‹ä¸€ä¸‹<code>executeBound</code>çš„å®ç°</p>
<p>å…ˆçœ‹ä¸€ä¸‹è¿™äº›å‚æ•°éƒ½ä»£è¡¨ä»€ä¹ˆå«ä¹‰</p>
<ol>
<li>sourceFuncï¼šåŸå‡½æ•°ï¼Œå¾…ç»‘å®šå‡½æ•°</li>
<li>boundFuncï¼š ç»‘å®šåå‡½æ•°</li>
<li>contextï¼šç»‘å®šåå‡½æ•°<code>this</code>æŒ‡å‘çš„ä¸Šä¸‹æ–‡</li>
<li>callingContextï¼šç»‘å®šåå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œé€šå¸¸å°±æ˜¯ this</li>
<li>argsï¼šç»‘å®šåçš„å‡½æ•°æ‰§è¡Œæ‰€éœ€å‚æ•°</li>
</ol>
<p>okï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç¬¬ä¸€å¥</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!(callingContext <span class="keyword">instanceof</span> boundFunc)) <span class="keyword">return</span> sourceFunc.apply(context, args);</div></pre></td></tr></table></figure>
<p>è¿™å¥è¯æ˜¯ä¸ºäº†åˆ¤æ–­ç»‘å®šåçš„å‡½æ•°æ˜¯ä»¥newå…³é”®å­—è¢«è°ƒç”¨è¿˜æ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨çš„æ–¹å¼ï¼Œä¸¾ä¸ªä¾‹å­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="built_in">console</span>.log(<span class="string">'énewè°ƒç”¨æ–¹å¼'</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'new è°ƒç”¨æ–¹å¼'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person() <span class="comment">// énewè°ƒç”¨æ–¹å¼</span></div><div class="line"><span class="keyword">new</span> Person() <span class="comment">// new è°ƒç”¨æ–¹å¼</span></div></pre></td></tr></table></figure>
<p>æ‰€ä»¥å¦‚æœä½ å¸Œæœ›è‡ªå·±å†™çš„æ„é€ å‡½æ•°æ— è®ºæ˜¯<code>new</code>è¿˜æ˜¯æ²¡ç”¨<code>new</code>éƒ½èµ·æ•ˆçš„è¯å¯ä»¥ç”¨ä¸‹é¢çš„ä»£ç </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> Person)) &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Person(name, sex)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">this</span>.name = name</div><div class="line">  <span class="keyword">this</span>.sex = sex</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Person(<span class="string">'qianlongo'</span>, <span class="string">'boy'</span>) <span class="comment">// Person &#123;name: "qianlongo", sex: "boy"&#125;</span></div><div class="line"></div><div class="line">Person(<span class="string">'qianlongo'</span>, <span class="string">'boy'</span>) <span class="comment">// Person &#123;name: "qianlongo", sex: "boy"&#125;</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å›åˆ°<code>executeBound</code>çš„è§£æ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!(callingContext <span class="keyword">instanceof</span> boundFunc)) <span class="keyword">return</span> sourceFunc.apply(context, args);</div></pre></td></tr></table></figure>
<p><code>callingContext</code>æ˜¯è¢«ç»‘å®šåçš„å‡½æ•°çš„<code>this</code>ä½œç”¨åŸŸï¼Œ<code>boundFunc</code>å°±æ˜¯é‚£ä¸ªè¢«ç»‘å®šåçš„å‡½æ•°ï¼Œé‚£ä¹ˆé€šè¿‡è¿™ä¸ªifåˆ¤æ–­ï¼Œå½“ä¸ºé<code>new</code>è°ƒç”¨å½¢å¼çš„æ—¶å€™ï¼Œç›´æ¥åˆ©ç”¨<code>apply</code>å¤„ç†å³å¯ã€‚</p>
<p>ä½†æ˜¯å¦‚æœæ˜¯ç”¨<code>new</code>è°ƒç”¨çš„å‘¢ï¼Ÿæˆ‘ä»¬çœ‹ä¸‹é¢è¿™æ®µä»£ç ,åˆ«çœ‹çŸ­çŸ­çš„å››è¡Œä»£ç é‡Œé¢çŸ¥è¯†ç‚¹æŒºå¤šçš„å‘¢ï¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿™é‡Œæ‹¿åˆ°çš„æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä¸”å…¶ç»§æ‰¿äºåŸå‡½æ•°çš„åŸå‹é“¾prototype</span></div><div class="line"><span class="keyword">var</span> self = baseCreate(sourceFunc.prototype);</div><div class="line"><span class="comment">// æ„é€ å‡½æ•°æ‰§è¡Œä¹‹åçš„è¿”å›å€¼</span></div><div class="line"><span class="comment">// ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿå°±æ˜¯undefined</span></div><div class="line"><span class="comment">// ä½†æ˜¯æœ‰æ—¶å€™å†™æ„é€ å‡½æ•°çš„æ—¶å€™ä¼šæ˜¾ç¤ºåœ°è¿”å›ä¸€ä¸ªobj</span></div><div class="line"><span class="keyword">var</span> result = sourceFunc.apply(self, args);</div><div class="line"><span class="comment">// æ‰€ä»¥å»åˆ¤æ–­ç»“æœæ˜¯ä¸æ˜¯objectï¼Œå¦‚æœæ˜¯é‚£ä¹ˆè¿”å›æ„é€ å‡½æ•°è¿”å›çš„object</span></div><div class="line"><span class="keyword">if</span> (_.isObject(result)) <span class="keyword">return</span> result;</div><div class="line"><span class="comment">// å¦‚æœæ²¡æœ‰æ˜¾ç¤ºè¿”å›objectï¼Œå°±è¿”å›åŸå‡½æ•°æ‰§è¡Œç»“æŸåçš„å®ä¾‹</span></div><div class="line"><span class="keyword">return</span> self;</div></pre></td></tr></table></figure>
<p>å¥½ï¼Œåˆ°è¿™é‡Œï¼Œæˆ‘æœ‰ä¸€ä¸ªç–‘é—®ï¼Œ<code>baseCreate</code>æ˜¯ä¸ªä»€ä¹ˆé¬¼ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Ctor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> baseCreate = <span class="function"><span class="keyword">function</span>(<span class="params">prototype</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœprototypeä¸æ˜¯objectç±»å‹ç›´æ¥è¿”å›ç©ºå¯¹è±¡</span></div><div class="line">  <span class="keyword">if</span> (!_.isObject(prototype)) <span class="keyword">return</span> &#123;&#125;;</div><div class="line">  <span class="comment">// å¦‚æœåŸç”Ÿæ”¯æŒcreateåˆ™ç”¨åŸç”Ÿçš„</span></div><div class="line">  <span class="keyword">if</span> (nativeCreate) <span class="keyword">return</span> nativeCreate(prototype); </div><div class="line">  <span class="comment">// å°†prototypeèµ‹å€¼ä¸ºCtoræ„é€ å‡½æ•°çš„åŸå‹</span></div><div class="line">  Ctor.prototype = prototype; </div><div class="line">  <span class="comment">// åˆ›å»ºä¸€ä¸ªCtorå®ä¾‹å¯¹è±¡</span></div><div class="line">  <span class="keyword">var</span> result = <span class="keyword">new</span> Ctor; </div><div class="line">  <span class="comment">// ä¸ºäº†ä¸‹ä¸€æ¬¡ä½¿ç”¨ï¼Œå°†åŸå‹æ¸…ç©º</span></div><div class="line">  Ctor.prototype = <span class="literal">null</span>; </div><div class="line">  <span class="comment">// æœ€åå°†å®ä¾‹è¿”å›</span></div><div class="line">  <span class="keyword">return</span> result; </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>æ˜¯ä¸æ˜¯å¥½ç®€å•ï¼Œå°±æ˜¯å®ç°äº†åŸç”Ÿçš„Object.createç”¨æ¥åšä¸€äº›ç»§æ‰¿çš„äº‹æƒ…ã€‚</p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>æ–‡ç« å¾ˆç®€çŸ­ï¼ŒçŸ¥é“æ€ä¹ˆå®ç°ä¸€ä¸ªåŸç”Ÿçš„bindå°±è¡Œã€‚å¦‚æœä½ å¯¹applyã€callå’Œthisæ„Ÿå…´è¶£ï¼Œæ¬¢è¿æŸ¥çœ‹</p>
</blockquote>
<p><a href="https://qianlongo.github.io/2016/04/26/js%E4%B8%ADcall%E3%80%81apply%E3%80%81bind%E9%82%A3%E4%BA%9B%E4%BA%8B/">jsä¸­callã€applyã€bindé‚£äº›äº‹</a></p>
<p><a href="https://qianlongo.github.io/2016/12/31/this-%E6%83%B3%E8%AF%B4%E7%88%B1%E4%BD%A0%E4%B8%8D%E5%AE%B9%E6%98%93/#more">this-æƒ³è¯´çˆ±ä½ ä¸å®¹æ˜“</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä½ çŸ¥é“koaä¸­é—´ä»¶æ‰§è¡ŒåŸç†å—ï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2017/05/17/koa%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8B%E4%B8%AD%E9%97%B4%E4%BB%B6%E6%89%A7%E8%A1%8C/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://github.com/qianlongo/resume-native/issues/1" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p>
<blockquote>
<p>æœ€è¿‘å‡ å¤©èŠ±äº†æ¯”è¾ƒé•¿çš„æ—¶é—´åœ¨koa(1)çš„æºç åˆ†æä¸Šé¢ï¼Œåˆæ¬¡çœ‹çš„æ—¶å€™ï¼Œè¢«ä¸­é—´ä»¶æ‰§è¡Œé‚£æ®µæ•´çš„æ™•ä¹ä¹çš„ï¼Œå®Œå…¨ä¸çŸ¥é“æ‰€ä»¥ï¼Œå†æ¬¡çœ‹ï¼Œå¥½åƒæ˜ç™½äº†äº›ä»€ä¹ˆï¼Œå†åå¤çœ‹ï¼Œæˆ‘å»ï¼Œç®€ç›´ç¥äº†ï¼Œç®€ç›´æ³ªæµæ»¡é¢ï¼Œç®€ç›´ä¸§å¿ƒç—…ç‹‚å•Šï¼ï¼ï¼</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/68747470733a2f2f646c2e64726f70626f7875736572636f6e74656e742e636f6d2f752f363339363931332f6b6f612f6c6f676f2e706e67.png" alt="koa"></p>
<a id="more"></a>
<h2 id="ç”¨åœ¨å‰é¢"><a href="#ç”¨åœ¨å‰é¢" class="headerlink" title="ç”¨åœ¨å‰é¢"></a>ç”¨åœ¨å‰é¢</h2><blockquote>
<p>ä¸‹é¢çš„ä¾‹å­ä¼šåœ¨æ§åˆ¶å°ä¸­æ‰“å°å‡ºä¸€äº›ä¿¡æ¯(å…·ä½“æ‰“å°å‡ºä»€ä¹ˆï¼Ÿå¯ä»¥çŒœçŒœğŸ˜€)ï¼Œç„¶åè¿”å›<code>hello world</code>ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> koa = <span class="built_in">require</span>(<span class="string">'koa'</span>)</div><div class="line"><span class="keyword">let</span> app = koa()</div><div class="line"></div><div class="line">app.use(<span class="function"><span class="keyword">function</span> * (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'generate1----start'</span>)</div><div class="line">  <span class="keyword">yield</span> next</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'generate1----end'</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.use(<span class="function"><span class="keyword">function</span> * (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'generate2----start'</span>)</div><div class="line">  <span class="keyword">yield</span> next</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'generate2----end'</span>)</div><div class="line">  <span class="keyword">this</span>.body = <span class="string">'hello world'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">app.listen(<span class="number">3000</span>)</div></pre></td></tr></table></figure>
<p>ç”¨è¿‡koaçš„åŒå­¦éƒ½çŸ¥é“æ·»åŠ ä¸­é—´ä»¶çš„æ–¹å¼æ˜¯ä½¿ç”¨koaå®ä¾‹çš„<code>use</code>æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªgeneratorå‡½æ•°ï¼Œè¿™ä¸ªgeneratorå‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ª<code>next</code>(è¿™ä¸ªnextåˆ°åº•æ˜¯å•¥ï¼Ÿè¿™é‡Œå…ˆä¸é˜æ˜ï¼Œåœ¨åé¢ä¼šä»”ç»†è¯´æ˜)ã€‚</p>
<p><strong>æ‰§è¡Œuseå¹²äº†å˜›</strong></p>
<p>è¿™æ˜¯koaçš„æ„é€ å‡½æ•°ï¼Œä¸ºäº†æ²¡æœ‰å…¶ä»–ä¿¡æ¯çš„å¹²æ‰°ï¼Œæˆ‘å»é™¤äº†ä¸€äº›æš‚æ—¶ç”¨ä¸åˆ°çš„ä»£ç ï¼Œè¿™é‡Œæˆ‘ä»¬æŠŠç›®å…‰èšç„¦åœ¨<code>middleware</code>è¿™ä¸ªæ•°ç»„å³å¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Application</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">  <span class="keyword">this</span>.middleware = []; <span class="comment">// è¿™ä¸ªæ•°ç»„å°±æ˜¯ç”¨æ¥è£…ä¸€ä¸ªä¸ªä¸­é—´ä»¶çš„</span></div><div class="line">  <span class="comment">// xxx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬è¦çœ‹useæ–¹æ³•äº†</strong></p>
<p>åŒæ ·å»é™¤äº†ä¸€äº›æš‚æ—¶ä¸ç”¨çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°æ¯æ¬¡æ‰§è¡Œuseæ–¹æ³•ï¼Œå°±æŠŠå¤–é¢ä¼ è¿›æ¥çš„generatorå‡½æ•°pushåˆ°middlewareæ•°ç»„ä¸­</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">app.use = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">  <span class="keyword">this</span>.middleware.push(fn);</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>å¥½å•¦ï¼ä½ å·²ç»çŸ¥é“koaä¸­æ˜¯é¢„å…ˆé€šè¿‡useæ–¹æ³•ï¼Œå°†è¯·æ±‚å¯èƒ½ä¼šç»è¿‡çš„ä¸­é—´ä»¶è£…åœ¨äº†ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</strong></p>
<p><code>æ¥ä¸‹æ¥æˆ‘ä»¬è¦å¼€å§‹æœ¬æ–‡çš„é‡ç‚¹äº†ï¼Œå½“ä¸€ä¸ªè¯·æ±‚åˆ°æ¥çš„æ—¶å€™ï¼Œæ˜¯æ€æ ·ç»è¿‡ä¸­é—´ä»¶ï¼Œæ€ä¹ˆè·‘èµ·æ¥çš„</code></p>
<p>é¦–å…ˆæˆ‘ä»¬åªè¦çŸ¥é“ä¸‹é¢è¿™æ®µ<code>callback</code>å‡½æ•°å°±æ˜¯è¯·æ±‚åˆ°æ¥çš„æ—¶å€™æ‰§è¡Œçš„å›è°ƒå³å¯ï¼ˆåŒæ ·å°½é‡å»é™¤äº†æˆ‘ä»¬ä¸ç”¨çš„ä»£ç ï¼‰</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">app.callback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line"></div><div class="line">  <span class="keyword">var</span> fn = <span class="keyword">this</span>.experimental</div><div class="line">    ? compose_es7(<span class="keyword">this</span>.middleware)</div><div class="line">    : co.wrap(compose(<span class="keyword">this</span>.middleware));</div><div class="line"></div><div class="line">  <span class="comment">// xxx</span></div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</div><div class="line">    <span class="comment">// xxx</span></div><div class="line"></div><div class="line">    fn.call(ctx).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      respond.call(ctx);</div><div class="line">    &#125;).catch(ctx.onerror);</div><div class="line"></div><div class="line">    <span class="comment">// xxx</span></div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç å¯ä»¥åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†</p>
<ol>
<li>è¯·æ±‚å‰çš„ä¸­é—´ä»¶åˆå§‹åŒ–å¤„ç†éƒ¨åˆ†</li>
<li>è¯·æ±‚åˆ°æ¥æ—¶çš„ä¸­é—´ä»¶è¿è¡Œéƒ¨åˆ†</li>
</ol>
<p>æˆ‘ä»¬åˆ†éƒ¨åˆ†æ¥è¯´ä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> fn = <span class="keyword">this</span>.experimental</div><div class="line">    ? compose_es7(<span class="keyword">this</span>.middleware)</div><div class="line">    : co.wrap(compose(<span class="keyword">this</span>.middleware));</div></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç å¯¹<code>experimental</code>åšäº†ä¸‹åˆ¤æ–­ï¼Œå¦‚æœè®¾ç½®ä¸ºäº†<code>true</code>é‚£ä¹ˆkoaä¸­å°†å¯ä»¥æ”¯æŒä¼ å…¥asyncå‡½æ•°ï¼Œå¦åˆ™å°±æ‰§è¡Œ<code>co.wrap(compose(this.middleware))</code>ã€‚</p>
<p>åªæœ‰ä¸€è¡Œåˆå§‹åŒ–ä¸­é—´ä»¶å°±åšå®Œå•¦ï¼Ÿ</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/timg2.jpeg" alt=""></p>
<p><strong>æˆ‘çŸ¥é“koaå¾ˆå±Œï¼Œä½†ä¹Ÿåˆ«è¿™ä¹ˆå±Œå¥½ä¸å¥½ï¼Œæ‰€ä»¥è¯´è¯„ä»·ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ä¸æ˜¯ç”±ä»£ç é‡å†³å®šçš„</strong></p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™æ®µä»£ç åˆ°åº•æœ‰ä»€ä¹ˆç¥å¥‡çš„åœ°æ–¹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">compose(<span class="keyword">this</span>.middleware)</div></pre></td></tr></table></figure>
<p>æŠŠè£…ç€ä¸­é—´ä»¶<code>middleware</code>çš„æ•°ç»„ä½œä¸ºå‚æ•°ä¼ è¿›äº†<code>compose</code>è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆcomposeåšäº†ä»€ä¹ˆäº‹å‘¢ï¼Ÿå…¶å®å°±æ˜¯æŠŠåŸæœ¬æ¯«æ— å…³ç³»çš„ä¸€ä¸ªä¸ªä¸­é—´ä»¶ç»™é¦–å°¾ä¸²èµ·æ¥äº†ï¼Œäºæ˜¯ä»–ä»¬ä¹‹é—´å°±æœ‰äº†åƒä¸ä¸‡ç¼•çš„è”ç³»ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">compose</span>(<span class="params">middleware</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> *(<span class="params">next</span>)</span>&#123;</div><div class="line">    <span class="comment">// ç¬¬ä¸€æ¬¡å¾—åˆ°nextæ˜¯ç”±äº*noopç”Ÿæˆçš„generatorå¯¹è±¡</span></div><div class="line">    <span class="keyword">if</span> (!next) next = noop(); </div><div class="line"></div><div class="line">    <span class="keyword">var</span> i = middleware.length;</div><div class="line">    <span class="comment">// ä»åå¾€å‰å¼€å§‹æ‰§è¡Œmiddlewareä¸­çš„generatorå‡½æ•°</span></div><div class="line">    <span class="keyword">while</span> (i--) &#123;</div><div class="line">      <span class="comment">// æŠŠåä¸€ä¸ªä¸­é—´ä»¶å¾—åˆ°çš„generatorå¯¹è±¡ä¼ ç»™å‰ä¸€ä¸ªä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°å­˜åœ¨</span></div><div class="line">      next = middleware[i].call(<span class="keyword">this</span>, next);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="keyword">yield</span> *next;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">noop</span>(<span class="params"></span>)</span>&#123;&#125;</div></pre></td></tr></table></figure>
<p>æ–‡å­—è§£é‡Šä¸€ä¸‹å°±æ˜¯ï¼Œcomposeå°†ä¸­é—´ä»¶ä»æœ€åä¸€ä¸ªå¼€å§‹å¤„ç†ï¼Œå¹¶ä¸€ç›´å¾€å‰ç›´åˆ°ç¬¬ä¸€ä¸ªä¸­é—´ä»¶ã€‚å…¶ä¸­éå¸¸å…³é”®çš„å°±æ˜¯å°†åä¸€ä¸ªä¸­é—´ä»¶å¾—åˆ°generatorå¯¹è±¡ä½œä¸ºå‚æ•°(<code>è¿™ä¸ªå‚æ•°å°±æ˜¯æ–‡ç« å¼€å¤´è¯´åˆ°çš„nextå•¦ï¼Œä¹Ÿå°±æ˜¯è¯´nextå…¶å®æ˜¯ä¸€ä¸ªgeneratorå¯¹è±¡</code>)ä¼ ç»™å‰ä¸€ä¸ªä¸­é—´ä»¶ã€‚å½“ç„¶æœ€åä¸€ä¸ªä¸­é—´ä»¶çš„å‚æ•°<code>next</code>æ˜¯ä¸€ä¸ªç©ºçš„generatorå‡½æ•°ç”Ÿæˆçš„å¯¹è±¡ã€‚</p>
<p>æˆ‘ä»¬è‡ªå·±æ¥å†™ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜composeæ˜¯å¦‚ä½•å°†å¤šä¸ªgeneratorå‡½æ•°ä¸²è”èµ·æ¥çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen1</span> (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen1'</span></div><div class="line">  <span class="keyword">yield</span> * next <span class="comment">// å¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶</span></div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen1-end'</span> <span class="comment">// ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œæˆå†ç»§ç»­æ‰§è¡Œgen1ä¸­é—´ä»¶çš„é€»è¾‘</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen2</span> (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen2'</span></div><div class="line">  <span class="keyword">yield</span> * next <span class="comment">// å¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶</span></div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen2-end'</span> <span class="comment">// ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œæˆå†ç»§ç»­æ‰§è¡Œgen2ä¸­é—´ä»¶çš„é€»è¾‘</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen3</span> (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen3'</span></div><div class="line">  <span class="keyword">yield</span> * next <span class="comment">// å¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä¸­é—´ä»¶</span></div><div class="line">  <span class="keyword">yield</span> <span class="string">'gen3-end'</span> <span class="comment">// ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œæˆå†ç»§ç»­æ‰§è¡Œgen3ä¸­é—´ä»¶çš„é€»è¾‘</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">noop</span> (<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> middleware = [gen1, gen2, gen3]</div><div class="line"><span class="keyword">var</span> len = middleware.length</div><div class="line"><span class="keyword">var</span> next = noop() <span class="comment">// æä¾›ç»™æœ€åä¸€ä¸ªä¸­é—´ä»¶çš„å‚æ•°</span></div><div class="line"></div><div class="line"><span class="keyword">while</span>(len--) &#123;</div><div class="line">  next = middleware[len].call(<span class="literal">null</span>, next)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">letGo</span> (<span class="params">next</span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> * next</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> g = letGo(next)</div><div class="line"></div><div class="line">g.next() <span class="comment">// &#123;value: "gen1", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: "gen2", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: "gen3", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: "gen3-end", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: "gen2-end", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: "gen1-end", done: false&#125;</span></div><div class="line">g.next() <span class="comment">// &#123;value: undefined, done: true&#125;</span></div></pre></td></tr></table></figure>
<p>çœ‹åˆ°äº†å—ï¼Ÿä¸­é—´ä»¶è¢«ä¸²èµ·æ¥ä¹‹åæ‰§è¡Œçš„é¡ºåºæ˜¯</p>
<p>gen1 -&gt; gen2 -&gt; gen3 -&gt; noop -&gt; gen3 -&gt; gen2 -&gt; gen1</p>
<p>ä»è€Œé¦–å°¾ç›¸è¿ï¼Œè¿›è€Œå‘ç”Ÿäº†å…³ç³»ğŸ˜ˆã€‚</p>
<h2 id="co-wrap"><a href="#co-wrap" class="headerlink" title="co.wrap"></a>co.wrap</h2><blockquote>
<p>é€šè¿‡composeå¤„ç†åè¿”å›äº†ä¸€ä¸ªgeneratorå‡½æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">co.wrap(compose(<span class="keyword">this</span>.middleware))</div></pre></td></tr></table></figure>
<p>æ‰€æœ‰ä¸Šè¿°ä»£ç å¯ä»¥ç†è§£ä¸º</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">co.wrap(<span class="function"><span class="keyword">function</span> * <span class="title">gen</span> (<span class="params"></span>))</span></div></pre></td></tr></table></figure>
<p>å¥½ï¼Œæˆ‘ä»¬å†çœ‹çœ‹<code>co.wrap</code>åšäº†ä»€ä¹ˆ,æ…¢æ…¢åœ°ä¸€æ­¥æ­¥é è¿‘äº†å“¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">co.wrap = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</div><div class="line">  createPromise.__generatorFunction__ = fn;</div><div class="line">  <span class="keyword">return</span> createPromise;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">createPromise</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> co.call(<span class="keyword">this</span>, fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>));</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°<code>co.wrap</code>è¿”å›äº†ä¸€ä¸ªæ™®é€šå‡½æ•°<code>createPromise</code>,è¿™ä¸ªå‡½æ•°å°±æ˜¯æ–‡ç« å¼€å¤´çš„<code>fn</code>å•¦ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fn = <span class="keyword">this</span>.experimental</div><div class="line">    ? compose_es7(<span class="keyword">this</span>.middleware)</div><div class="line">    : co.wrap(compose(<span class="keyword">this</span>.middleware));</div></pre></td></tr></table></figure>
<h2 id="ä¸­é—´ä»¶å¼€å§‹è·‘èµ·æ¥å•¦"><a href="#ä¸­é—´ä»¶å¼€å§‹è·‘èµ·æ¥å•¦" class="headerlink" title="ä¸­é—´ä»¶å¼€å§‹è·‘èµ·æ¥å•¦"></a>ä¸­é—´ä»¶å¼€å§‹è·‘èµ·æ¥å•¦</h2><blockquote>
<p>å‰é¢å·²ç»è¯´å®Œäº†ï¼Œä¸­é—´ä»¶æ˜¯å¦‚ä½•åˆå§‹åŒ–çš„ï¼Œå³å¦‚æœç”±ä¸ç›¸å¹²åˆ°å…³ç³»å¯†åˆ‡äº†ï¼Œæ¥ä¸‹æ¥å¼€å§‹è¯´è¯·æ±‚åˆ°æ¥æ—¶ï¼Œåˆå§‹åŒ–å¥½çš„ä¸­é—´ä»¶æ˜¯æ€ä¹ˆè·‘çš„ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fn.call(ctx).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  respond.call(ctx);</div><div class="line">&#125;).catch(ctx.onerror);</div></pre></td></tr></table></figure>
<p>è¿™ä¸€æ®µä¾¿æ˜¯è¯·æ±‚åˆ°æ¥æ‰‹å³å°†è¦ç»è¿‡çš„ä¸­é—´ä»¶æ‰§è¡Œéƒ¨åˆ†ï¼Œfnæ‰§è¡Œä¹‹åè¿”å›çš„æ˜¯ä¸€ä¸ªPromiseï¼Œkoaé€šè¿‡æ³¨å†ŒæˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå‡½æ•°æ¥åˆ†åˆ«å¤„ç†è¯·æ±‚ã€‚</p>
<p>è®©æˆ‘ä»¬å›åˆ°</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">co.wrap = <span class="function"><span class="keyword">function</span> (<span class="params">fn</span>) </span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">  </div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">createPromise</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> co.call(<span class="keyword">this</span>, fn.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>));</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>createPromise</code>é‡Œé¢çš„fnå°±æ˜¯ç»è¿‡composeå¤„ç†ä¸­é—´ä»¶åè¿”å›çš„ä¸€ä¸ªgeneratorå‡½æ•°ï¼Œé‚£ä¹ˆæ‰§è¡Œä¹‹åæ‹¿åˆ°çš„å°±æ˜¯ä¸€ä¸ªgeneratorå¯¹è±¡äº†ï¼Œå¹¶æŠŠè¿™ä¸ªå¯¹è±¡ä¼ ç»ç»å…¸çš„coé‡Œé¢å•¦ã€‚å¦‚æœä½ éœ€è¦å¯¹coçš„æºç äº†è§£æ¬¢è¿æŸ¥çœ‹æ˜¨å¤©å†™çš„<a href="https://juejin.im/post/591b3389a0bb9f005f0bf270" target="_blank" rel="external">èµ°ä¸€æ­¥å†èµ°ä¸€æ­¥ï¼Œæ­å¼€coçš„ç¥ç§˜é¢çº±</a>ï¼Œå¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯çœ‹coé‡Œé¢å¦‚ä½•å¤„ç†è¿™ä¸ªè¢«composeå¤„ç†è¿‡çš„generatorå¯¹è±¡äº†</p>
<p><strong>å†å›é¡¾ä¸€ä¸‹co</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">co</span>(<span class="params">gen</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ctx = <span class="keyword">this</span>;</div><div class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>)</div><div class="line"></div><div class="line">  <span class="comment">// we wrap everything in a promise to avoid promise chaining,</span></div><div class="line">  <span class="comment">// which leads to memory leak errors.</span></div><div class="line">  <span class="comment">// see https://github.com/tj/co/issues/180</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> gen === <span class="string">'function'</span>) gen = gen.apply(ctx, args);</div><div class="line">    <span class="keyword">if</span> (!gen || <span class="keyword">typeof</span> gen.next !== <span class="string">'function'</span>) <span class="keyword">return</span> resolve(gen);</div><div class="line"></div><div class="line">    onFulfilled();</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * @param &#123;Mixed&#125; res</div><div class="line">     * @return &#123;Promise&#125;</div><div class="line">     * @api private</div><div class="line">     */</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> ret;</div><div class="line">      <span class="keyword">try</span> &#123;</div><div class="line">        ret = gen.next(res);</div><div class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">        <span class="keyword">return</span> reject(e);</div><div class="line">      &#125;</div><div class="line">      next(ret);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * @param &#123;Error&#125; err</div><div class="line">     * @return &#123;Promise&#125;</div><div class="line">     * @api private</div><div class="line">     */</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onRejected</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> ret;</div><div class="line">      <span class="keyword">try</span> &#123;</div><div class="line">        ret = gen.throw(err);</div><div class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">        <span class="keyword">return</span> reject(e);</div><div class="line">      &#125;</div><div class="line">      next(ret);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/**</span></div><div class="line">     * Get the next value in the generator,</div><div class="line">     * return a promise.</div><div class="line">     *</div><div class="line">     * @param &#123;Object&#125; ret</div><div class="line">     * @return &#123;Promise&#125;</div><div class="line">     * @api private</div><div class="line">     */</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">ret</span>) </span>&#123;</div><div class="line">      <span class="keyword">if</span> (ret.done) <span class="keyword">return</span> resolve(ret.value);</div><div class="line">      <span class="keyword">var</span> value = toPromise.call(ctx, ret.value);</div><div class="line">      <span class="keyword">if</span> (value &amp;&amp; isPromise(value)) <span class="keyword">return</span> value.then(onFulfilled, onRejected);</div><div class="line">      <span class="keyword">return</span> onRejected(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'You may only yield a function, promise, generator, array, or object, '</span></div><div class="line">        + <span class="string">'but the following object was passed: "'</span> + <span class="built_in">String</span>(ret.value) + <span class="string">'"'</span>));</div><div class="line">    &#125;</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸‹<code>onFulfilled</code>,è¿™ä¸ªæ—¶å€™ç¬¬ä¸€æ¬¡è¿›coçš„æ—¶å€™å› ä¸ºå·²ç»æ˜¯generatorå¯¹è±¡æ‰€ä»¥ä¼šç›´æ¥æ‰§è¡Œ<code>onFulfilled()</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ret;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    ret = gen.next(res);</div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="keyword">return</span> reject(e);</div><div class="line">  &#125;</div><div class="line">  next(ret);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è€Œ<code>gen.next</code>æ­£æ˜¯ç”¨äºå»æ‰§è¡Œä¸­é—´ä»¶çš„ä¸šåŠ¡é€»è¾‘ï¼Œå½“é‡åˆ°yieldè¯­å¥çš„æ—¶å€™ï¼Œå°†ç´§éšå…¶åçš„ç»“æœè¿”å›èµ‹å€¼ç»™<code>ret</code>,é€šå¸¸è¿™é‡Œçš„retï¼Œå°±æ˜¯æˆ‘ä»¬æ–‡ä¸­è¯´é“çš„<code>next</code>,ä¹Ÿå°±æ˜¯å½“å‰ä¸­é—´ä»¶çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶ã€‚</p>
<p>æ‹¿åˆ°ä¸‹ä¸€ä¸ªä¸­é—´ä»¶åæŠŠä»–äº¤ç»™<code>next</code>å»å¤„ç†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">ret</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (ret.done) <span class="keyword">return</span> resolve(ret.value);</div><div class="line">  <span class="keyword">var</span> value = toPromise.call(ctx, ret.value);</div><div class="line">  <span class="keyword">if</span> (value &amp;&amp; isPromise(value)) <span class="keyword">return</span> value.then(onFulfilled, onRejected);</div><div class="line">  <span class="keyword">return</span> onRejected(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'You may only yield a function, promise, generator, array, or object, '</span></div><div class="line">    + <span class="string">'but the following object was passed: "'</span> + <span class="built_in">String</span>(ret.value) + <span class="string">'"'</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å½“ä¸­é—´ä»¶æ‰§è¡Œç»“æŸäº†ï¼Œå°±æŠŠPromiseçš„çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸã€‚å¦åˆ™å°±å°†<code>ret</code>(ä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªä¸­é—´ä»¶)å†ç”¨coåŒ…ä¸€æ¬¡ã€‚ä¸»è¦çœ‹<code>toPromise</code>çš„è¿™å‡ è¡Œä»£ç å³å¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toPromise</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">  <span class="keyword">if</span> (isGeneratorFunction(obj) || isGenerator(obj)) <span class="keyword">return</span> co.call(<span class="keyword">this</span>, obj);</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„å™¢<code>toPromise</code>è¿™ä¸ªæ—¶å€™çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªPromiseï¼Œè¿™ä¸ªéå¸¸å…³é”®ï¼Œæ˜¯ä¸‹ä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œå®Œæˆä¹‹åå›æº¯åˆ°ä¸Šä¸€ä¸ªä¸­é—´ä»¶ä¸­æ–­æ‰§è¡Œå¤„ç»§ç»­æ‰§è¡Œçš„å…³é”®</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">ret</span>) </span>&#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">  <span class="keyword">var</span> value = toPromise.call(ctx, ret.value);</div><div class="line">  <span class="comment">// å³é€šè¿‡å‰é¢toPromiseè¿”å›çš„Promiseå®ç°ï¼Œå½“åä¸€ä¸ªä¸­é—´ä»¶æ‰§è¡Œç»“æŸï¼Œå›é€€åˆ°ä¸Šä¸€ä¸ªä¸­é—´ä»¶ä¸­æ–­å¤„ç»§ç»­æ‰§è¡Œ</span></div><div class="line">  <span class="keyword">if</span> (value &amp;&amp; isPromise(value)) <span class="keyword">return</span> value.then(onFulfilled, onRejected); </div><div class="line">  <span class="comment">// xxx </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºï¼Œå‡ ä¹koaçš„ä¸­é—´ä»¶éƒ½ä¼šè¢«coç»™åŒ…è£…ä¸€æ¬¡ï¼Œè€Œæ¯ä¸€ä¸ªä¸­é—´ä»¶åˆå¯ä»¥é€šè¿‡Promiseçš„thenå»ç›‘æµ‹å…¶åä¸€ä¸ªä¸­é—´ä»¶æ˜¯å¦ç»“æŸï¼Œåä¸€ä¸ªä¸­é—´ä»¶ç»“æŸåä¼šæ‰§è¡Œå‰ä¸€ä¸ªä¸­é—´ä»¶ç”¨thenç›‘å¬çš„æ“ä½œï¼Œè¿™ä¸ªæ“ä½œä¾¿æ˜¯æ‰§è¡Œè¯¥ä¸­é—´ä»¶yield nextåé¢çš„é‚£äº›ä»£ç </strong></p>
<p>æ‰“ä¸ªæ¯”æ–¹ï¼š</p>
<p>å½“koaä¸­æ¥æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œè¯·æ±‚å°†ç»è¿‡ä¸¤ä¸ªä¸­é—´ä»¶ï¼Œåˆ†åˆ«æ˜¯<code>ä¸­é—´ä»¶1</code>å’Œ<code>ä¸­é—´ä»¶2</code>ï¼Œ</p>
<p><strong>ä¸­é—´ä»¶1</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸­é—´ä»¶1åœ¨yield ä¸­é—´ä»¶2ä¹‹å‰çš„ä»£ç </span></div><div class="line"></div><div class="line"><span class="keyword">yield</span> ä¸­é—´ä»¶<span class="number">2</span></div><div class="line"></div><div class="line"><span class="comment">// ä¸­é—´ä»¶2æ‰§è¡Œå®Œæˆä¹‹åç»§ç»­æ‰§è¡Œä¸­é—´ä»¶1çš„ä»£ç </span></div></pre></td></tr></table></figure>
<p><strong>ä¸­é—´ä»¶2</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ä¸­é—´ä»¶2åœ¨yield noopä¸­é—´ä»¶ä¹‹å‰çš„ä»£ç </span></div><div class="line"></div><div class="line"><span class="keyword">yield</span> noopä¸­é—´ä»¶</div><div class="line"></div><div class="line"><span class="comment">// noopä¸­é—´ä»¶æ‰§è¡Œå®Œæˆä¹‹åç»§ç»­æ‰§è¡Œä¸­é—´ä»¶2çš„ä»£ç </span></div></pre></td></tr></table></figure>
<p><strong>é‚£ä¹ˆå¤„ç†çš„è¿‡ç¨‹å°±æ˜¯coä¼šç«‹å³è°ƒç”¨onFulfilledæ¥æ‰§è¡Œä¸­é—´ä»¶1å‰åŠéƒ¨åˆ†ä»£ç ï¼Œé‡åˆ°<code>yield ä¸­é—´ä»¶2</code>çš„æ—¶å€™å¾—åˆ°ä¸­é—´ä»¶2generatorå¯¹è±¡ï¼Œç´§æ¥ç€ï¼ŒåˆæŠŠè¿™ä¸ªå¯¹è±¡æ”¾åˆ°coé‡Œé¢ç»§ç»­æ‰§è¡Œä¸€éï¼Œä»¥æ­¤ç±»æ¨ä¸‹å»çŸ¥é“æœ€åä¸€ä¸ªä¸­é—´ä»¶ï¼ˆæˆ‘ä»¬è¿™é‡Œçš„æŒ‡çš„æ˜¯é‚£ä¸ªç©ºçš„noopä¸­é—´ä»¶ï¼‰æ‰§è¡Œç»“æŸï¼Œç»§è€Œé©¬ä¸Šè°ƒç”¨promiseçš„resolveæ–¹æ³•è¡¨ç¤ºç»“æŸï¼Œokï¼Œè¿™ä¸ªæ—¶å€™ä¸­é—´ä»¶2ç›‘å¬åˆ°noopæ‰§è¡Œç»“æŸäº†ï¼Œé©¬ä¸Šåˆå»æ‰§è¡Œäº†onFulfilledæ¥æ‰§è¡Œyield noopä¸­é—´ä»¶ååŠéƒ¨åˆ†ä»£ç ï¼Œå¥½å•¦è¿™ä¸ªæ—¶å€™ä¸­é—´ä»¶2ä¹Ÿæ‰§è¡Œç»“æŸäº†ï¼Œä¹Ÿä¼šé©¬ä¸Šè°ƒç”¨promiseçš„resolveæ–¹æ³•è¡¨ç¤ºç»“æŸ,okï¼Œè¿™ä¸ªæ—¶å€™ä¸­é—´ä»¶1ç›‘å¬åˆ°ä¸­é—´ä»¶2æ‰§è¡Œç»“æŸäº†ï¼Œé©¬ä¸Šåˆå»æ‰§è¡Œäº†onFulfilledæ¥æ‰§è¡Œyield ä¸­é—´ä»¶2ååŠéƒ¨åˆ†ä»£ç ï¼Œæœ€åä¸­é—´ä»¶å…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œå°±æ‰§è¡Œrespond.call(ctx);</strong></p>
<p>å•Š å•Š å•Šå¥½ç»•ï¼Œä¸è¿‡æ…¢æ…¢çœ‹ï¼Œä»”ç»†æƒ³ï¼Œè¿˜æ˜¯å¯ä»¥æƒ³æ˜ç™½çš„ã€‚ç”¨ä»£ç è¡¨ç¤ºè¿™ä¸ªè¿‡ç¨‹æœ‰ç‚¹ç±»ä¼¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">new Promise((resolve, reject) =&gt; &#123;</div><div class="line">  // æˆ‘æ˜¯ä¸­é—´ä»¶1</div><div class="line">  yield new Promise((resolve, reject) =&gt; &#123;</div><div class="line">    // æˆ‘æ˜¯ä¸­é—´ä»¶2</div><div class="line">    yield new Promise((resolve, reject) =&gt; &#123;</div><div class="line">      // æˆ‘æ˜¯body</div><div class="line">    &#125;)</div><div class="line">    // æˆ‘æ˜¯ä¸­é—´ä»¶2</div><div class="line">  &#125;)</div><div class="line">  // æˆ‘æ˜¯ä¸­é—´ä»¶1</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E4%B8%AD%E9%97%B4%E4%BB%B6.png" alt="ä¸­é—´ä»¶æ‰§è¡Œé¡ºåº"></p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p> ç½—é‡Œå§å—¦è¯´äº†ä¸€å¤§å †ï¼Œä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰æŠŠæ‰§è¡ŒåŸç†è¯´æ˜ç™½ã€‚</p>
</blockquote>
<p>å¦‚æœå¯¹ä½ ç†è§£koaæœ‰äº›è®¸å¸®åŠ©ï¼Œä¸ä»‹æ„çš„è¯ï¼Œç‚¹å‡»æºç åœ°å€ç‚¹é¢—å°æ˜Ÿæ˜Ÿå§</p>
<p>å¦‚æœå¯¹ä½ ç†è§£koaæœ‰äº›è®¸å¸®åŠ©ï¼Œä¸ä»‹æ„çš„è¯ï¼Œç‚¹å‡»æºç åœ°å€ç‚¹é¢—å°æ˜Ÿæ˜Ÿå§</p>
<p>å¦‚æœå¯¹ä½ ç†è§£koaæœ‰äº›è®¸å¸®åŠ©ï¼Œä¸ä»‹æ„çš„è¯ï¼Œç‚¹å‡»æºç åœ°å€ç‚¹é¢—å°æ˜Ÿæ˜Ÿå§</p>
<p><a href="https://github.com/qianlongo/resume-native" target="_blank" rel="external">æºç åœ°å€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[èµ°ä¸€æ­¥å†èµ°ä¸€æ­¥ï¼Œæ­å¼€coçš„ç¥ç§˜é¢çº±]]></title>
      <url>https://qianlongo.github.io/2017/05/17/%E8%B5%B0%E4%B8%80%E6%AD%A5%E5%86%8D%E8%B5%B0%E4%B8%80%E6%AD%A5%EF%BC%8C%E6%8F%AD%E5%BC%80co%E7%9A%84%E7%A5%9E%E7%A7%98%E9%9D%A2%E7%BA%B1/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://github.com/qianlongo/resume-native/blob/master/co-analysis.md" target="_blank" rel="external">åŸæ–‡åœ°å€</a></p>
<p><a href="https://github.com/qianlongo/resume-native/" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>äº†è§£<code>co</code>çš„å‰ææ˜¯å·²ç»çŸ¥æ™“<code>generator</code>æ˜¯ä»€ä¹ˆï¼Œå¯ä»¥çœ‹è½¯å¤§ç¥çš„<a href="http://es6.ruanyifeng.com/#docs/generator" target="_blank" rel="external">Generator å‡½æ•°çš„è¯­æ³•</a>,<br>coæ˜¯TJå¤§ç¥å†™çš„èƒ½å¤Ÿä½¿generatorè‡ªåŠ¨æ‰§è¡Œçš„å‡½æ•°åº“ï¼Œè€Œæˆ‘ä»¬ç†ŸçŸ¥çš„koaä¹Ÿç”¨åˆ°äº†å®ƒç®¡ç†å¼‚æ­¥æµç¨‹æ§åˆ¶ï¼Œå°†å¼‚æ­¥ä»»åŠ¡ä¹¦å†™åŒæ­¥åŒ–ï¼Œçˆ½çš„é£èµ·ï¼Œä¹Ÿæ‘†è„±äº†ä¸€ç›´ä»¥æ¥çš„å›è°ƒåœ°ç‹±é—®é¢˜ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/ad51ce297e8dd51850842ff012bdc3cb.jpg" alt=""></p>
<a id="more"></a>
<h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><blockquote>
<p>é¦–å…ˆæˆ‘ä»¬æ ¹æ®<a href="https://github.com/tj/co" target="_blank" rel="external">co</a>çš„å®˜æ–¹æ–‡æ¡£æ¥ç¨åšæ”¹å˜çœ‹ä¸‹ï¼Œåˆ°åº•å¦‚ä½•ä½¿ç”¨coï¼Œå†ä¸€æ­¥æ­¥è¿›è¡Œæºç åˆ†æå·¥ä½œ(è¿™ç¯‡æ–‡ç« åˆ†æçš„coç‰ˆæœ¬æ˜¯<code>4.6.0</code>)ã€‚</p>
</blockquote>
<p><strong>yield åé¢å¸¸è§çš„å¯ä»¥è·Ÿçš„ç±»å‹</strong></p>
<ol>
<li>promises</li>
<li>array (parallel execution)</li>
<li>objects (parallel execution)</li>
<li>generator functions (delegation)</li>
</ol>
<p><strong>promises</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</div><div class="line"><span class="keyword">let</span> genTimeoutFun = <span class="function">(<span class="params">delay</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        resolve(<span class="string">`delayTime: <span class="subst">$&#123;delay&#125;</span>`</span>)</div><div class="line">      &#125;, delay)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> timeout1 = genTimeoutFun(<span class="number">1000</span>)</div><div class="line"><span class="keyword">let</span> timeout2 = genTimeoutFun(<span class="number">200</span>)</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="keyword">yield</span> timeout1()</div><div class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// delayTime: 1000</span></div><div class="line">  <span class="keyword">let</span> b = <span class="keyword">yield</span> timeout2()</div><div class="line">  <span class="built_in">console</span>.log(b) <span class="comment">// delayTime: 200</span></div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="string">'end'</span></div><div class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>array</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</div><div class="line"><span class="keyword">let</span> genTimeoutFun = <span class="function">(<span class="params">delay</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        resolve(<span class="string">`delayTime: <span class="subst">$&#123;delay&#125;</span>`</span>)</div><div class="line">      &#125;, delay)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> timeout1 = genTimeoutFun(<span class="number">1000</span>)</div><div class="line"><span class="keyword">let</span> timeout2 = genTimeoutFun(<span class="number">200</span>)</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="keyword">yield</span> [timeout1(), timeout2()]</div><div class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// [ 'delayTime: 1000', 'delayTime: 200' ]</span></div><div class="line">  <span class="keyword">return</span> <span class="string">'end'</span></div><div class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res) <span class="comment">// end</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>objects</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</div><div class="line"><span class="keyword">let</span> genTimeoutFun = <span class="function">(<span class="params">delay</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        resolve(<span class="string">`delayTime: <span class="subst">$&#123;delay&#125;</span>`</span>)</div><div class="line">      &#125;, delay)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> timeout1 = genTimeoutFun(<span class="number">1000</span>)</div><div class="line"><span class="keyword">let</span> timeout2 = genTimeoutFun(<span class="number">200</span>)</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="keyword">yield</span> &#123;</div><div class="line">    <span class="attr">timeout1</span>: timeout1(),</div><div class="line">    <span class="attr">timeout2</span>: timeout2()</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// &#123; timeout1: 'delayTime: 1000',timeout2: 'delayTime: 200' &#125;</span></div><div class="line">  <span class="keyword">return</span> <span class="string">'end'</span></div><div class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res) <span class="comment">// end</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>generator functions</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</div><div class="line"><span class="keyword">let</span> genTimeoutFun = <span class="function">(<span class="params">delay</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">      setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        resolve(<span class="string">`delayTime: <span class="subst">$&#123;delay&#125;</span>`</span>)</div><div class="line">      &#125;, delay)</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> timeout1 = genTimeoutFun(<span class="number">1000</span>)</div><div class="line"><span class="keyword">let</span> timeout2 = genTimeoutFun(<span class="number">200</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">let</span> a = <span class="keyword">yield</span> timeout1()</div><div class="line">  <span class="built_in">console</span>.log(a) <span class="comment">// delayTime: 1000</span></div><div class="line">  <span class="keyword">let</span> b = <span class="keyword">yield</span> timeout2()</div><div class="line">  <span class="built_in">console</span>.log(b) <span class="comment">// delayTime: 200</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> gen()</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="string">'end'</span></div><div class="line">&#125;).then(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(res) <span class="comment">// end</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>æœ€åè¯´ä¸€ä¸‹ï¼Œå…³äºæ‰§è¡Œä¼ å…¥çš„generatorå‡½æ•°æ¥æ”¶å‚æ•°çš„é—®é¢˜</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> co = <span class="built_in">require</span>(<span class="string">'co'</span>)</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(name) <span class="comment">// qianlongo</span></div><div class="line">&#125;, <span class="string">'qianlongo'</span>)</div></pre></td></tr></table></figure>
<p>ä»coå‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ï¼Œä¾¿æ˜¯ä¼ å…¥çš„generatorå‡½æ•°å¯ä»¥æ¥æ”¶çš„å®å‚</p>
<h2 id="å¼€å§‹åˆ†ææºç "><a href="#å¼€å§‹åˆ†ææºç " class="headerlink" title="å¼€å§‹åˆ†ææºç "></a>å¼€å§‹åˆ†ææºç </h2><blockquote>
<p>ä½ å¯ä»¥æŠŠä»¥ä¸Šä»£ç æ‹·è´è‡³æœ¬åœ°æµ‹è¯•ä¸€ç•ªçœ‹çœ‹æ•ˆæœï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€æ­¥æ­¥å¼€å§‹åˆ†æcoçš„æºç </p>
</blockquote>
<p><strong>é¦–å…ˆç»è¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥å‘ç°ï¼Œcoå‡½æ•°æœ¬èº«æ¥æ”¶ä¸€ä¸ªgeneratorå‡½æ•°ï¼Œå¹¶ä¸”coæ‰§è¡Œåè¿”å›çš„æ˜¯Promise</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">co</span>(<span class="params">gen</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ctx = <span class="keyword">this</span>;</div><div class="line">  <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>)</div><div class="line"></div><div class="line">  <span class="comment">// we wrap everything in a promise to avoid promise chaining,</span></div><div class="line">  <span class="comment">// which leads to memory leak errors.</span></div><div class="line">  <span class="comment">// see https://github.com/tj/co/issues/180</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> gen === <span class="string">'function'</span>) gen = gen.apply(ctx, args);</div><div class="line">    <span class="keyword">if</span> (!gen || <span class="keyword">typeof</span> gen.next !== <span class="string">'function'</span>) <span class="keyword">return</span> resolve(gen);</div><div class="line"></div><div class="line">    <span class="comment">// xxx</span></div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åœ¨Promiseçš„å†…éƒ¨ï¼Œå…ˆæ‰§è¡Œäº†å¤–éƒ¨ä¼ å…¥çš„<code>gen</code>,æ‰§è¡Œçš„ç»“æœå¦‚æœä¸å…·å¤‡nextå±æ€§(ä¸”è¦æ˜¯ä¸€ä¸ªå‡½æ•°)ï¼Œå°±ç›´æ¥è¿”å›ï¼Œå¹¶å°†æ‰§è¡ŒæˆåŠŸå›è°ƒ<code>resolve(gen)</code>,å¦åˆ™å¾—åˆ°çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆå¯¹è±¡ã€‚</p>
<p><strong>æ¥ä¸‹æ¥ç»§ç»­çœ‹â€¦</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">onFulfilled();</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">  * @param &#123;Mixed&#125; res</div><div class="line">  * @return &#123;Promise&#125;</div><div class="line">  * @api private</div><div class="line">  */</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onFulfilled</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ret;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    ret = gen.next(res); <span class="comment">// ç”¨ä¸Šé¢æ‰§è¡Œgenä¹‹åçš„generatorç”Ÿæˆå™¨å°†æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®</span></div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="keyword">return</span> reject(e);</div><div class="line">  &#125;</div><div class="line">  next(ret); <span class="comment">// ç´§æ¥ç€æ‰§è¡Œnextï¼Œæ­£æ˜¯å®ƒå®ç°äº†åå¤è°ƒç”¨è‡ªå·±ï¼Œè‡ªåŠ¨æµç¨‹æ§åˆ¶ï¼Œæ³¨æ„ret(å³ä¸Šä¸€æ¬¡gen.nextæ‰§è¡Œåè¿”å›çš„å¯¹è±¡&#123;value: xxx, done: true or false&#125;)</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line">  * @param &#123;Error&#125; err</div><div class="line">  * @return &#123;Promise&#125;</div><div class="line">  * @api private</div><div class="line">  */</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onRejected</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ret;</div><div class="line">  <span class="keyword">try</span> &#123;</div><div class="line">    ret = gen.throw(err);</div><div class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="keyword">return</span> reject(e);</div><div class="line">  &#125;</div><div class="line">  next(ret);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æˆ‘è§‰å¾—å¯ä»¥æŠŠ <code>onFulfilled</code> å’Œ <code>onRejected</code> çœ‹æˆæ˜¯è¿”å›çš„Promiseçš„<code>resolve</code>å’Œ<code>reject</code>ã€‚</p>
<p>è€Œ<code>onFulfilled</code>ä¹Ÿæ˜¯å°†åŸç”Ÿçš„generatorç”Ÿæˆå™¨çš„nextæ–¹æ³•åŒ…è£…äº†ä¸€éï¼Œå¤§æ¦‚æ˜¯ä¸ºäº†æŠ“å–é”™è¯¯å§(çœ‹åˆ°å†…éƒ¨çš„try catchäº†å—)</p>
<p><strong>å¥½ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†coå†…éƒ¨å°†æŒ‡é’ˆç§»åŠ¨åˆ°äº†ç¬¬ä¸€ä¸ªä½ç½®ä¹‹åï¼Œæ¥ç€æ‰§è¡Œäº†å†…éƒ¨çš„nextæ–¹æ³•ï¼Œæ¥ä¸‹æ¥èšç„¦åœ¨è¯¥å‡½æ•°ä¸Š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">ret</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœæ•´ä¸ªgeneratorå‡½æ•°çš„å†…éƒ¨çŠ¶æ€å·²ç»è¡¨ç¤ºèµ°å®Œï¼Œä¾¿å°†Promiseçš„çŠ¶æ€è®¾ç½®ä¸ºæˆåŠŸçŠ¶æ€ï¼Œå¹¶æ‰§è¡Œresolve</span></div><div class="line">  <span class="keyword">if</span> (ret.done) <span class="keyword">return</span> resolve(ret.value);</div><div class="line">  <span class="comment">// è¿™ä¸€æ­¥æ˜¯å°†retçš„valueè½¬æ¢ä¸ºPromiseå½¢å¼</span></div><div class="line">  <span class="keyword">var</span> value = toPromise.call(ctx, ret.value);</div><div class="line">  <span class="comment">// è¿™é‡Œéå¸¸å…³é”®ï¼Œæ˜¯coå®ç°è‡ªå·±è°ƒç”¨è‡ªå·±ï¼Œå®ç°æµç¨‹è‡ªåŠ¨åŒ–çš„å…³é”®</span></div><div class="line">  <span class="comment">// æ³¨æ„è¿™é‡Œä½¿ç”¨value.thenï¼Œå³ä¸ºè¿”å›å€¼æ·»åŠ æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒï¼Œåœ¨æˆåŠŸçš„å›è°ƒé‡Œé¢å†å»æ‰§è¡ŒonFulfilledï¼Œç´§æ¥ç€å°±æ˜¯è°ƒç”¨å†…éƒ¨çš„nextå‡½æ•°</span></div><div class="line">  <span class="comment">// é‚£ä¸æ˜¯å°±ä¿è¯äº†æµç¨‹å®Œå…¨æŒ‰ç…§ä½ å†™çš„é¡ºåºæ¥äº†ï¼Ÿ</span></div><div class="line">  <span class="keyword">if</span> (value &amp;&amp; isPromise(value)) <span class="keyword">return</span> value.then(onFulfilled, onRejected);</div><div class="line">  <span class="comment">// æŠ›å‡ºé”™è¯¯ï¼Œyieldååªèƒ½è·Ÿç€æŒ‡å®šçš„ä¸‹åˆ—è¿™å‡ ç§ç±»å‹</span></div><div class="line">  <span class="keyword">return</span> onRejected(<span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'You may only yield a function, promise, generator, array, or object, '</span></div><div class="line">    + <span class="string">'but the following object was passed: "'</span> + <span class="built_in">String</span>(ret.value) + <span class="string">'"'</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>èªæ˜çš„ä½ ï¼Œæ˜¯ä¸æ˜¯å·²ç»æ˜ç™½äº†coæ˜¯æ€ä¹ˆå°†å¼‚æ­¥æµç¨‹è‡ªåŠ¨ç®¡ç†èµ·æ¥äº†</strong></p>
<p>ä½†æ˜¯æˆ‘å¯¹nextå‡½æ•°ä¸­çš„toPromiseå‡½æ•°è¿˜æœ‰ç–‘é—®ï¼Œä»–åˆ°åº•åšäº†ä»€ä¹ˆäº‹ï¼Ÿä½¿å¾—co(generatorFun)ä¸­yieldå¯ä»¥æ”¯æŒæ•°ç»„ã€å¯¹è±¡ã€generatorå‡½æ•°ç­‰å½¢å¼ã€‚</p>
<p><strong>ä¸€æ­¥æ­¥æ¥çœ‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toPromise</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="comment">// objä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span></div><div class="line">  <span class="keyword">if</span> (!obj) <span class="keyword">return</span> obj;</div><div class="line">  <span class="comment">// å¦‚æœobjå·²ç»æ˜¯Promiseï¼Œåˆ™ä¹Ÿæ˜¯ç›´æ¥è¿”å›</span></div><div class="line">  <span class="keyword">if</span> (isPromise(obj)) <span class="keyword">return</span> obj;</div><div class="line">  <span class="comment">// å¦‚æœæ˜¯ä¸ªgeneratorå‡½æ•°æˆ–è€…generatorç”Ÿæˆå™¨ï¼Œé‚£å°±åƒä½ è‡ªå·±è°ƒç”¨coå‡½æ•°ä¸€æ ·ï¼Œæ‰‹åŠ¨ä¼ åˆ°coé‡Œé¢å»æ‰§è¡Œ</span></div><div class="line">  <span class="keyword">if</span> (isGeneratorFunction(obj) || isGenerator(obj)) <span class="keyword">return</span> co.call(<span class="keyword">this</span>, obj);</div><div class="line">  <span class="comment">// å¦‚æœobjæ—¢ä¸æ˜¯Promiseï¼Œä¹Ÿä¸æ˜¯isGeneratorFunctionå’ŒisGeneratorï¼Œè¦æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼ˆéœ€è¦ç¬¦åˆthunkå‡½æ•°è§„èŒƒï¼‰ï¼Œå°±å°†è¯¥å‡½æ•°åŒ…è£…æˆPromiseçš„å½¢å¼</span></div><div class="line">  <span class="keyword">if</span> (<span class="string">'function'</span> == <span class="keyword">typeof</span> obj) <span class="keyword">return</span> thunkToPromise.call(<span class="keyword">this</span>, obj);</div><div class="line">  <span class="comment">// å¦‚æœæ˜¯ä¸€ä¸ªæ•°ç»„çš„å½¢å¼ï¼Œå°±å»arrayToPromiseåŒ…è£…ä¸€ç•ª</span></div><div class="line">  <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(obj)) <span class="keyword">return</span> arrayToPromise.call(<span class="keyword">this</span>, obj);</div><div class="line">  <span class="keyword">if</span> (isObject(obj)) <span class="keyword">return</span> objectToPromise.call(<span class="keyword">this</span>, obj);</div><div class="line">  <span class="keyword">return</span> obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é¦–å…ˆå¦‚æœobjä¸å­˜åœ¨ï¼Œå°±ç›´æ¥è¿”å›ï¼Œä½ æƒ³å•Šï¼Œcoæœ¬æ¥å°±æ˜¯ä¾èµ–ä¸Šä¸€æ¬¡æŒ‡é’ˆè¿”å›çš„valueæ˜¯Promiseæˆ–è€…å…¶ä»–ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœè¿”å›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">value</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">done</span>: <span class="literal">false</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é‚£å°±æ²¡æœ‰å¿…è¦å†ç»™ä¸€ä¸ªfalseå€¼è½¬æˆPromiseå½¢å¼äº†å§ã€‚</p>
<p>æ¥ç€ï¼Œå¦‚æœobjæœ¬èº«å°±æ˜¯ä¸ªPromiseä¹Ÿæ˜¯ç›´æ¥è¿”å›ï¼Œç”¨äº†å†…éƒ¨çš„isPromiseå‡½æ•°è¿›è¡Œåˆ¤æ–­ï¼Œæˆ‘ä»¬çœ‹ä¸‹ä»–æ€ä¹ˆå®ç°çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isPromise</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'function'</span> == <span class="keyword">typeof</span> obj.then;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯åˆ¤æ–­äº†objçš„thenå±æ€§æ˜¯ä¸æ˜¯ä¸ªå‡½æ•°</p>
<p><strong>å†æ¥ç€ï¼Œå¦‚æœæ˜¯ä¸ªgeneratorå‡½æ•°æˆ–è€…generatorç”Ÿæˆå™¨ï¼Œé‚£å°±åƒä½ è‡ªå·±è°ƒç”¨coå‡½æ•°ä¸€æ ·ï¼Œæ‰‹åŠ¨ä¼ åˆ°coé‡Œé¢å»æ‰§è¡Œã€‚</strong></p>
<p><strong>isGeneratorFunction</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isGeneratorFunction</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> <span class="keyword">constructor</span> = obj.<span class="keyword">constructor</span>;</div><div class="line">  if (!<span class="keyword">constructor</span>) return false;</div><div class="line">  if ('GeneratorFunction' === <span class="keyword">constructor</span>.name || 'GeneratorFunction' === <span class="keyword">constructor</span>.displayName) return true;</div><div class="line">  return isGenerator(<span class="keyword">constructor</span>.prototype);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€šè¿‡objçš„constructorå±æ€§å»åˆ¤æ–­å…¶æ˜¯å¦å±äº<code>GeneratorFunction</code>,æœ€åå¦‚æœconstructorå±æ€§æ²¡åˆ¤æ–­å‡ºæ¥ï¼Œå†å»ç”¨isGeneratorï¼Œåˆ¤æ–­objçš„åŸå‹æ˜¯ä¸æ˜¯generatorç”Ÿæˆå™¨</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isGenerator</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'function'</span> == <span class="keyword">typeof</span> obj.next &amp;&amp; <span class="string">'function'</span> == <span class="keyword">typeof</span> obj.throw;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>åˆ¤æ–­çš„æ¡ä»¶ä¹Ÿæ¯”è¾ƒç›´æ¥ï¼Œéœ€è¦ç¬¦åˆä¸¤ä¸ªæ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯obj.nextè¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯obj.throwè¦æ˜¯ä¸€ä¸ªå‡½æ•°</strong></p>
<p><strong>æ¥ä¸‹æ¥ç»§ç»­çœ‹</strong></p>
<p>å¦‚æœobjæ—¢ä¸æ˜¯Promiseï¼Œä¹Ÿä¸æ˜¯isGeneratorFunctionå’ŒisGeneratorï¼Œè¦æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œå°±å°†è¯¥å‡½æ•°åŒ…è£…æˆPromiseçš„å½¢å¼ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦éœ€è¦çœ‹<code>thunkToPromise</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">thunkToPromise</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> ctx = <span class="keyword">this</span>;</div><div class="line">  <span class="comment">// å°†thunkå‡½æ•°åŒ…è£…æˆPromise</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span> (<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">      <span class="comment">// æ‰§è¡Œè¿™ä¸ªthunkå‡½æ•°</span></div><div class="line">    fn.call(ctx, <span class="function"><span class="keyword">function</span> (<span class="params">err, res</span>) </span>&#123; </div><div class="line">      <span class="comment">// æ³¨æ„thunkå‡½æ•°å†…éƒ¨æ¥æ”¶çš„å›è°ƒå‡½æ•°ä¸­ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯errï¼Œå‡ºç°äº†errï¼Œå½“ç„¶éœ€è¦èµ°rejectäº†</span></div><div class="line">      <span class="keyword">if</span> (err) <span class="keyword">return</span> reject(err); </div><div class="line">      <span class="comment">// å‚æ•°æ˜¯ä¸¤ä¸ªä»¥ä¸Šçš„æƒ…å†µä¸‹ï¼Œå°†å‚æ•°æ•´æˆä¸€ä¸ªæ•°ç»„</span></div><div class="line">      <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &gt; <span class="number">2</span>) res = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">      <span class="comment">// æœ€åæ‰§è¡ŒæˆåŠŸçš„å›è°ƒ</span></div><div class="line">      resolve(res);</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æ¥ä¸‹æ¥æ˜¯é‡å¤´æˆäº†ï¼Œcoä¸­å¦‚æœå¤„ç†yieldåé¢è·Ÿä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿä¸»è¦æ˜¯arrayToPromiseå‡½æ•°çš„ä½œç”¨</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayToPromise</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="comment">// ä½¿ç”¨åˆ°äº†Promise.allï¼Œå°†objä¸­å¤šä¸ªpromiseå®ä¾‹(å½“ç„¶ä½ ä¹Ÿå¯ä»¥åœ¨æ•°ç»„ä¸­å¡«thunkå‡½æ•°ï¼Œgeneratorå‡½æ•°ç­‰)é‡æ–°åŒ…è£…æˆä¸€ä¸ªã€‚æœ€åè¿”å›ä¸€ä¸ªæ–°çš„Promise</span></div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.all(obj.map(toPromise, <span class="keyword">this</span>));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>è¿˜æœ‰æœ€åä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœobjæ˜¯ä¸ªå¯¹è±¡æ€ä¹ˆåŠï¼Ÿ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">objectToPromise</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  <span class="comment">// æ„é€ ä¸€ä¸ªå’Œä¼ å…¥å¯¹è±¡æœ‰ç›¸åŒæ„é€ å™¨çš„å¯¹è±¡, resultsä¹Ÿæ˜¯</span></div><div class="line">  <span class="keyword">var</span> results = <span class="keyword">new</span> obj.constructor();</div><div class="line">  <span class="comment">// è·å–objçš„keys</span></div><div class="line">  <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(obj);</div><div class="line">  <span class="comment">// å­˜å‚¨objä¸­æ˜¯Promiseçš„å±æ€§</span></div><div class="line">  <span class="keyword">var</span> promises = [];</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</div><div class="line">    <span class="keyword">var</span> key = keys[i];</div><div class="line">    <span class="keyword">var</span> promise = toPromise.call(<span class="keyword">this</span>, obj[key]);</div><div class="line">    <span class="comment">// å¦‚æœæ˜¯ç»“æœæ˜¯Promiseï¼Œåˆ™ç”¨deferå‡½æ•°å¯¹resultsè¿›è¡Œä¿®æ”¹</span></div><div class="line">    <span class="keyword">if</span> (promise &amp;&amp; isPromise(promise)) defer(promise, key);</div><div class="line">    <span class="comment">// å¦‚æœæ˜¯éPromiseå°±æŒ‰åŸæ ·è¿”å›</span></div><div class="line">    <span class="keyword">else</span> results[key] = obj[key];</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// æœ€å ä½¿ç”¨åˆ°äº†Promise.allï¼Œå°†objä¸­å¤šä¸ªpromiseå®ä¾‹</span></div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.all(promises).then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> results;</div><div class="line">  &#125;);</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">defer</span>(<span class="params">promise, key</span>) </span>&#123;</div><div class="line">    <span class="comment">// predefine the key in the result</span></div><div class="line">    results[key] = <span class="literal">undefined</span>;</div><div class="line">    promises.push(promise.then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="comment">// è¿è¡ŒæˆåŠŸä¹‹åå†è®²ç»“æœèµ‹å€¼ç»™results</span></div><div class="line">      results[key] = res;</div><div class="line">    &#125;));</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>åˆ°è¿™é‡Œï¼Œcoæºç åˆ†æå°±å‘Šä¸€æ®µè½äº†ã€‚æ€»æ„Ÿè§‰æœ‰äº›æ²¡æœ‰è¯´åˆ°ä½ï¼Œæ¬¢è¿å¤§å®¶æ‹ç –ï¼Œæ™šå®‰ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ‚„æ‚„åœ°è¯´ä¸€ä¸ªbug]]></title>
      <url>https://qianlongo.github.io/2017/05/11/%E6%82%84%E6%82%84%E5%9C%B0%E8%AF%B4%E4%B8%80%E4%B8%AAbug/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>underscore.jsæºç åˆ†æç¬¬å››ç¯‡,å‰ä¸‰ç¯‡åœ°å€åˆ†åˆ«æ˜¯ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªç³»åˆ—æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ç‚¹å‡»watchï¼Œéšæ—¶å…³æ³¨åŠ¨æ€ã€‚</p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/6" target="_blank" rel="external">æ•™ä½ è®¤æ¸…è¿™8å¤§æ€æ‰‹é”</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/5" target="_blank" rel="external">é‚£äº›ä¸èµ·çœ¼çš„å°å·¥å…·ï¼Ÿ</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/4" target="_blank" rel="external">(void 0)ä¸undefinedä¹‹é—´çš„å°ä¹ä¹</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/7" target="_blank" rel="external">åŸæ–‡åœ°å€</a><br><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>é€—æˆ‘å‘¢ï¼Ÿå“¥ï¼ä½ è¦è¯´ä»€ä¹ˆbugï¼Œä»€ä¹ˆbugï¼Œä»€ä¹ˆbugï¼Œæˆ‘æœ€è®¨åŒbugã€‚å»ä»–å¦¹çš„bugã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/ubiaoqing58b8358e002c33469.jpg" alt=""></p>
<a id="more"></a>
<p><strong>å®¢è§‚åˆ«æ€¥ï¼Œä»Šå¤©çœŸçš„æ˜¯è¦è¯´ä¸€ä¸ªbugï¼Œä¹Ÿè®¸ä½ æ—©å·²çŸ¥æ™“ï¼Œä¹Ÿè®¸ä½ æ—¶å¸¸èººæªäºä»–æ‰‹ï¼Œæ‚„æ‚„åœ°ï¼Œæˆ‘ä»¬æ…¢æ…¢å¼€å§‹ã€‚</strong></p>
<p><code>for in éå†å¯¹è±¡å±æ€§æ—¶å­˜åœ¨bug</code></p>
<p><code>for in éå†å¯¹è±¡å±æ€§æ—¶å­˜åœ¨bug</code></p>
<p><code>for in éå†å¯¹è±¡å±æ€§æ—¶å­˜åœ¨bug</code></p>
<p>ä½¿ç”¨<code>for in</code>å»éå†ä¸€ä¸ªå¯¹è±¡ä¿ºä»¬å†ç†Ÿæ‚‰ä¸è¿‡äº†ï¼Œç»å¸¸å¹²è¿™ç§äº‹ï¼Œé‚£ä»–åˆ°åº•å¯ä»¥éå†ä¸€ä¸ªå¯¹è±¡å“ªäº›ç±»å‹çš„å±æ€§å‘¢ï¼Ÿ <code>é•¿å¾—å¸…çš„</code>è¿˜æ˜¯<code>çœ‹èµ·æ¥ç¾ç¾çš„</code>,çè¯´ï¼Œå®ƒèƒ½å¤Ÿéå†çš„æ˜¯å¯¹è±¡èº«ä¸Šé‚£äº›å¯æšä¸¾æ ‡å¿—(<strong>[[Enumerable]]</strong>)ä¸º<code>true</code>çš„å±æ€§ã€‚</p>
<ol>
<li><strong>å¯¹äºé€šè¿‡ç›´æ¥çš„èµ‹å€¼å’Œå±æ€§åˆå§‹åŒ–çš„å±æ€§ï¼Œè¯¥æ ‡è¯†å€¼é»˜è®¤ä¸ºå³ä¸º <code>true</code></strong></li>
<li><strong>å¯¹äºé€šè¿‡ Object.defineProperty ç­‰å®šä¹‰çš„å±æ€§ï¼Œè¯¥æ ‡è¯†å€¼é»˜è®¤ä¸º false</strong></li>
</ol>
<p>ä¸¾ä¸ªä¾‹å­å“ªäº›å±æ€§å¯ä»¥è¢«æšä¸¾</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name</div><div class="line">  <span class="keyword">this</span>.sex = sex</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="attr">constructor</span>: Person,</div><div class="line">  showName () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">  &#125;,</div><div class="line">  showSex () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.sex)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person.wrap = &#123;</div><div class="line">  sayHi () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'hi'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'qianlongo'</span>, <span class="string">'sex'</span>)</div><div class="line"></div><div class="line">p1.sayBye = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'bye'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">p1.toString = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'string'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(p1, <span class="string">'info'</span>, &#123;</div><div class="line">  <span class="attr">enumerable</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">configurable</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">writable</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">value</span>: <span class="string">'feDev'</span></div><div class="line">&#125;);Ã</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> p1) &#123;</div><div class="line">  <span class="built_in">console</span>.log(key)</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// name</span></div><div class="line"><span class="comment">// sex</span></div><div class="line"><span class="comment">// sayBye</span></div><div class="line"><span class="comment">// constructor</span></div><div class="line"><span class="comment">// showName</span></div><div class="line"><span class="comment">// showSex</span></div><div class="line"><span class="comment">// toString</span></div></pre></td></tr></table></figure>
<ol>
<li>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ‰‹åŠ¨åœ°ç”¨definePropertyï¼Œç»™æŸä¸ªå¯¹è±¡è®¾ç½®å±æ€§æ—¶ï¼Œenumerableä¸ºfalseæ­¤æ—¶è¯¥å±æ€§æ˜¯ä¸å¯æšä¸¾çš„</li>
<li>Personç»§æ‰¿è‡ªObjectæ„é€ å‡½æ•°ï¼Œä½†æ˜¯<code>for in</code>å¹¶æ²¡æœ‰æšä¸¾å‡ºObjectåŸå‹ä¸Šçš„ä¸€äº›æ–¹æ³•</li>
<li>æ‰‹åŠ¨åœ°è¦†ç›–å¯¹è±¡åŸå‹ä¸Šé¢çš„æ–¹æ³•<code>toString</code>ä¹Ÿæ˜¯å¯æšä¸¾çš„</li>
</ol>
<h2 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯å¯æšä¸¾çš„"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯å¯æšä¸¾çš„" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯å¯æšä¸¾çš„"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ˜¯å¯æšä¸¾çš„</h2><blockquote>
<p>æ–¹å¼å…¶å®å¾ˆç®€å•ï¼Œä½¿ç”¨åŸç”Ÿjsæä¾›çš„<code>Object.propertyIsEnumerable</code>æ¥åˆ¤æ–­</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj2 = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo2'</span>,</div><div class="line">  toString () &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">obj.propertyIsEnumerable(<span class="string">'name'</span>) <span class="comment">// true</span></div><div class="line">obj.propertyIsEnumerable(<span class="string">'toString'</span>) <span class="comment">// false</span></div><div class="line"></div><div class="line">obj2.propertyIsEnumerable(<span class="string">'name'</span>) <span class="comment">// true</span></div><div class="line">obj2.propertyIsEnumerable(<span class="string">'toString'</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p><strong>ä¸ºä»€ä¹ˆobjåˆ¤æ–­toStringä¸ºä¸å¯æšä¸¾å±æ€§ï¼Œè€Œobj2å°±æ˜¯å¯æšä¸¾çš„äº†å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼Œobj2å°†<code>toString</code>é‡å†™äº†ï¼Œè€Œä¸€ä¸ªå¯¹è±¡è‡ªèº«ç›´æ¥èµ‹å€¼çš„å±æ€§æ˜¯å¯è¢«æšä¸¾çš„</strong></p>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸‹åˆ’çº¿ä¸­æ¶‰åŠåˆ°éå†çš„éƒ¨åˆ†å¯¹è±¡æ–¹æ³•ï¼Œcome onï¼ï¼ï¼</p>
<h2 id="has-object-key"><a href="#has-object-key" class="headerlink" title="_.has(object, key)"></a>_.has(object, key)</h2><blockquote>
<p>åˆ¤æ–­å¯¹è±¡obejctæ˜¯å¦åŒ…å«keyå±æ€§</p>
</blockquote>
<p><strong>å¹³æ—¶ä½ å¯èƒ½ç»å¸¸è¿™æ ·å»åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (obj &amp;&amp; obj.key) &#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™æ ·åšæœ‰ç¼ºé™·ï¼Œæ¯”å¦‚æŸä¸ªå±æ€§å…¶å¯¹åº”çš„å€¼ä¸º0ï¼Œnull,false,â€™â€™ç©ºå­—ç¬¦ä¸²å‘¢ï¼Ÿè¿™æ ·æ˜æ˜objæœ‰ä»¥ä¸‹å¯¹åº”çš„å±æ€§ï¼Œå´å› ä¸ºå±æ€§å€¼ä¸º<strong>å‡</strong>è€Œé€šè¿‡ä¸äº†éªŒè¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">''</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="number">0</span>,</div><div class="line">  <span class="attr">handsomeBoy</span>: <span class="literal">false</span>,</div><div class="line">  <span class="attr">timer</span>: <span class="literal">null</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡‡ç”¨ä¸‹åˆ’çº¿ä¸­çš„è¿™ç§æ–¹å¼</p>
<p><strong>æºç </strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hasOwnProperty = ObjProto.hasOwnProperty;</div><div class="line">_.has = <span class="function"><span class="keyword">function</span>(<span class="params">obj, key</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> obj != <span class="literal">null</span> &amp;&amp; hasOwnProperty.call(obj, key);</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h2 id="keys-object"><a href="#keys-object" class="headerlink" title="_.keys(object)"></a>_.keys(object)</h2><blockquote>
<p>è·å–objectå¯¹è±¡æ‰€æœ‰çš„å±æ€§åç§°ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> keys = _.keys(obj)</div><div class="line"><span class="comment">// ["name", "sex"]</span></div></pre></td></tr></table></figure>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">_.keys = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¦‚æœobjä¸æ˜¯objectç±»å‹ç›´æ¥è¿”å›ç©ºæ•°ç»„</span></div><div class="line">  <span class="keyword">if</span> (!_.isObject(obj)) <span class="keyword">return</span> [];</div><div class="line">  <span class="comment">// å¦‚æœæµè§ˆå™¨æ”¯æŒåŸç”Ÿçš„keysæ–¹æ³•ï¼Œåˆ™ä½¿ç”¨åŸç”Ÿçš„keys</span></div><div class="line">  <span class="keyword">if</span> (nativeKeys) <span class="keyword">return</span> nativeKeys(obj);</div><div class="line">  <span class="keyword">var</span> keys = [];</div><div class="line">  <span class="comment">// æ³¨æ„è¿™é‡Œ1ã€for inä¼šéå†åŸå‹ä¸Šçš„é”®ï¼Œæ‰€ä»¥ç”¨_.hasæ¥ç¡®ä¿è¯»å–çš„åªæ˜¯å¯¹è±¡æœ¬èº«çš„å±æ€§</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) <span class="keyword">if</span> (_.has(obj, key)) keys.push(key);</div><div class="line">  <span class="comment">// Ahem, IE &lt; 9.</span></div><div class="line">  <span class="comment">// è¿™é‡Œä¸»è¦å¤„ç†ie9ä»¥ä¸‹çš„æµè§ˆå™¨çš„bugï¼Œä¼šå°†å¯¹è±¡ä¸Šä¸€äº›æœ¬è¯¥æšä¸¾çš„å±æ€§è®¤ä¸ºä¸å¯æšä¸¾ï¼Œè¯¦ç»†å¯ä»¥çœ‹collectNonEnumPropsåˆ†æ</span></div><div class="line">  <span class="keyword">if</span> (hasEnumBug) collectNonEnumProps(obj, keys); </div><div class="line">  <span class="keyword">return</span> keys;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="collectNonEnumPropså‡½æ•°åˆ†æ"><a href="#collectNonEnumPropså‡½æ•°åˆ†æ" class="headerlink" title="collectNonEnumPropså‡½æ•°åˆ†æ"></a>collectNonEnumPropså‡½æ•°åˆ†æ</h2><blockquote>
<p>è¯¥å‡½æ•°ä¸ºä¸‹åˆ’çº¿ä¸­çš„å†…éƒ¨å‡½æ•°ä¸€æšï¼Œä¸“é—¨å¤„ç†ie9ä»¥ä¸‹çš„æšä¸¾bugé—®é¢˜,<code>for  in</code>åˆ°åº•æœ‰å•¥bugï¼Œç»ˆäºå¯ä»¥è¯´å‡ºæ¥äº†ã€‚</p>
</blockquote>
<p><strong>ç®€å•åœ°è¯´å°±æ˜¯å¦‚æœå¯¹è±¡å°†å…¶åŸå‹ä¸Šçš„ç±»ä¼¼<code>toString</code>çš„æ–¹æ³•è¦†ç›–äº†çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¤ä¸º<code>toString</code>å°±æ˜¯å¯æšä¸¾çš„äº†ï¼Œä½†æ˜¯åœ¨ie9ä»¥ä¸‹çš„æµè§ˆå™¨ä¸­è¿˜æ˜¯è®¤ä¸ºæ˜¯ä¸å¯ä»¥æšä¸¾çš„ï¼Œåˆæ˜¯ä¸‡æ¶çš„ie</strong></p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦å­˜åœ¨æšä¸¾bugï¼Œå¦‚æœæœ‰ï¼Œåœ¨å–åæ“ä½œå‰ä¼šè¿”å›false</span></div><div class="line"><span class="keyword">var</span> hasEnumBug = !&#123;<span class="attr">toString</span>: <span class="literal">null</span>&#125;.propertyIsEnumerable(<span class="string">'toString'</span>); </div><div class="line"><span class="comment">// æ‰€æœ‰éœ€è¦å¤„ç†çš„å¯èƒ½å­˜åœ¨æšä¸¾é—®é¢˜çš„å±æ€§</span></div><div class="line"><span class="keyword">var</span> nonEnumerableProps = [<span class="string">'valueOf'</span>, <span class="string">'isPrototypeOf'</span>, <span class="string">'toString'</span>,</div><div class="line">                    <span class="string">'propertyIsEnumerable'</span>, <span class="string">'hasOwnProperty'</span>, <span class="string">'toLocaleString'</span>]; </div><div class="line"></div><div class="line"><span class="comment">// å¤„ç†ie9ä»¥ä¸‹çš„ä¸€ä¸ªæšä¸¾bug                      </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">collectNonEnumProps</span>(<span class="params">obj, keys</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> nonEnumIdx = nonEnumerableProps.length;</div><div class="line">  <span class="keyword">var</span> <span class="keyword">constructor</span> = obj.<span class="keyword">constructor</span>;</div><div class="line">  // è¯»å–objçš„åŸå‹</div><div class="line">  var proto = (_.isFunction(<span class="keyword">constructor</span>) &amp;&amp; <span class="keyword">constructor</span>.prototype) || ObjProto;  </div><div class="line"></div><div class="line">  // è¿™é‡Œæˆ‘æœ‰ä¸ªç–‘é—®ï¼Œå¯¹äº<span class="keyword">constructor</span>å±æ€§ä¸ºä»€ä¹ˆè¦å•ç‹¬å¤„ç†ï¼Ÿ</div><div class="line">  // Constructor is a special case.</div><div class="line">  var prop = '<span class="keyword">constructor</span>'; </div><div class="line">  if (_.has(obj, prop) &amp;&amp; !_.contains(keys, prop)) keys.push(prop);</div><div class="line"></div><div class="line">  while (nonEnumIdx--) &#123;</div><div class="line">    prop = nonEnumerableProps[nonEnumIdx];</div><div class="line">    <span class="comment">// nonEnumerablePropsä¸­çš„å±æ€§å‡ºç°åœ¨objä¸­ï¼Œå¹¶ä¸”å’ŒåŸå‹ä¸­çš„åŒåæ–¹æ³•ä¸ç­‰ï¼Œå†è€…keysä¸­ä¸å­˜åœ¨è¯¥å±æ€§ï¼Œå°±æ·»åŠ è¿›å»</span></div><div class="line">    <span class="keyword">if</span> (prop <span class="keyword">in</span> obj &amp;&amp; obj[prop] !== proto[prop] &amp;&amp; !_.contains(keys, prop)) &#123;</div><div class="line">      keys.push(prop);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ä»£ç çœ‹èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå°ç–‘é—®ï¼Œå¯¹äºconstructorå±æ€§ä¸ºä»€ä¹ˆè¦å•ç‹¬å¤„ç†å‘¢ï¼Ÿå„ä¸ªçœ‹å®˜ï¼Œå¦‚æœçŸ¥æ™“ï¼Œè¯·æ•™æˆ‘å•Š</strong></p>
<h2 id="allKeys-object"><a href="#allKeys-object" class="headerlink" title="_.allKeys(object)"></a>_.allKeys(object)</h2><blockquote>
<p>è·å–objectä¸­æ‰€æœ‰çš„å±æ€§ï¼ŒåŒ…æ‹¬åŸå‹ä¸Šçš„ã€‚</p>
</blockquote>
<p><strong>ä¸¾ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name</div><div class="line">  <span class="keyword">this</span>.sex = sex</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="attr">constructor</span>: Person,</div><div class="line">  showName () &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> Person(<span class="string">'qianlongo'</span>, <span class="string">'boy'</span>)</div><div class="line"></div><div class="line">_.keys(p)</div><div class="line"><span class="comment">// ["name", "sex"] åªåŒ…æ‹¬è‡ªèº«çš„å±æ€§</span></div><div class="line"></div><div class="line"></div><div class="line">_.allKeys(p)</div><div class="line"><span class="comment">// ["name", "sex", "constructor", "showName"] è¿˜åŒ…æ‹¬åŸå‹ä¸Šçš„å±æ€§</span></div></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥çœ‹ä¸‹æºç æ˜¯æ€ä¹ˆå¹²çš„</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// è·å–å¯¹è±¡objçš„æ‰€æœ‰çš„é”®</span></div><div class="line"><span class="comment">// ä¸keysä¸åŒï¼Œè¿™é‡ŒåŒ…æ‹¬ç»§æ‰¿æ¥çš„key</span></div><div class="line"></div><div class="line"><span class="comment">// Retrieve all the property names of an object.</span></div><div class="line">_.allKeys = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!_.isObject(obj)) <span class="keyword">return</span> [];</div><div class="line">  <span class="keyword">var</span> keys = [];</div><div class="line">  <span class="comment">// ç›´æ¥è¯»éå†å–åˆ°çš„keyï¼ŒåŒ…æ‹¬åŸå‹ä¸Šçš„</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) keys.push(key); </div><div class="line">  <span class="comment">// Ahem, IE &lt; 9.</span></div><div class="line">  <span class="keyword">if</span> (hasEnumBug) collectNonEnumProps(obj, keys); <span class="comment">// åŒæ ·å¤„ç†ä¸€ä¸‹æœ‰æšä¸¾é—®é¢˜çš„æµè§ˆå™¨</span></div><div class="line">  <span class="keyword">return</span> keys;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°å’Œ_.keysçš„å”¯ä¸€çš„ä¸åŒå°±åœ¨äºéå†objçš„æ—¶å€™æœ‰æ²¡æœ‰ç”¨<code>hasOwnProperty</code>å»åˆ¤æ–­</p>
<h2 id="values"><a href="#values" class="headerlink" title="_.values()"></a>_.values()</h2><blockquote>
<p>è¿”å›objectå¯¹è±¡æ‰€æœ‰çš„å±æ€§å€¼ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">_.values(obj)</div><div class="line"><span class="comment">// ["qianlongo", "boy"]</span></div></pre></td></tr></table></figure>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// Retrieve the values of an object's properties.</span></div><div class="line">_.values = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="comment">// ç”¨åˆ°äº†å‰é¢å·²ç»å†™å¥½çš„keyså‡½æ•°ï¼Œæ‰€ä»¥valuesè®¤ä¸ºè·å–çš„å±æ€§å€¼ï¼Œä¸åŒ…æ‹¬åŸå‹</span></div><div class="line">  <span class="keyword">var</span> keys = _.keys(obj);</div><div class="line">  <span class="keyword">var</span> length = keys.length;</div><div class="line">  <span class="keyword">var</span> values = <span class="built_in">Array</span>(length);</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</div><div class="line">    values[i] = obj[keys[i]];</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> values;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="invert-object"><a href="#invert-object" class="headerlink" title="_.invert(object)"></a>_.invert(object)</h2><blockquote>
<p>è¿”å›ä¸€ä¸ªobjectå‰¯æœ¬ï¼Œä½¿å…¶é”®ï¼ˆkeysï¼‰å’Œå€¼ï¼ˆvaluesï¼‰å¯¹æ¢ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">secName</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">100</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">_.invert(obj)</div><div class="line"></div><div class="line"><span class="comment">// &#123;100: "age", qianlongo: "secName"&#125;</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨æ„å“Ÿï¼Œå¦‚æœå¯¹è±¡ä¸­æœ‰äº›å±æ€§å€¼æ˜¯ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆç¿»è½¬è¿‡æ¥çš„å¯¹è±¡å…¶keyå–æœ€åä¸€ä¸ª</strong></p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">_.invert = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> result = &#123;&#125;;</div><div class="line">  <span class="comment">// æ‰€ä»¥ä¹Ÿåªæ˜¯å–å¯¹è±¡æœ¬èº«çš„å±æ€§</span></div><div class="line">  <span class="keyword">var</span> keys = _.keys(obj); </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">    <span class="comment">// å€¼ä¸ºkeyï¼Œkeyä¸ºå€¼ï¼Œå¦‚æœæœ‰å€¼ç›¸ç­‰ï¼Œåé¢çš„è¦†ç›–å‰é¢çš„</span></div><div class="line">    result[obj[keys[i]]] = keys[i]; </div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="functions-object"><a href="#functions-object" class="headerlink" title="_.functions(object)"></a>_.functions(object)</h2><blockquote>
<p>è¿”å›ä¸€ä¸ªå¯¹è±¡é‡Œæ‰€æœ‰çš„æ–¹æ³•å, è€Œä¸”æ˜¯å·²ç»æ’åºçš„(æ³¨æ„è¿™é‡ŒåŒ…æ‹¬åŸå‹ä¸Šçš„å±æ€§)</p>
</blockquote>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">_.functions = _.methods = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> names = [];</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</div><div class="line">    <span class="comment">// æ˜¯å‡½æ•°ï¼Œå°±è£…è½½è¿›å»</span></div><div class="line">    <span class="keyword">if</span> (_.isFunction(obj[key])) names.push(key);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> names.sort(); <span class="comment">// æœ€åè¿”å›ç»è¿‡æ’åºçš„æ•°ç»„</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>å¤œæ·±äººé™ï¼Œæ‚„æ‚„åœ°è¯´ä¸€ä¸ªbugè¿™ä¸ªé¬¼æ•…äº‹è®²å®Œäº†ï¼Œå„ä½good nightã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ•™ä½ è®¤æ¸…è¿™8å¤§æ€æ‰‹é”]]></title>
      <url>https://qianlongo.github.io/2017/05/10/%E6%95%99%E4%BD%A0%E8%AE%A4%E6%B8%85%E8%BF%998%E5%A4%A7%E6%9D%80%E6%89%8B%E9%94%8F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>underscore.jsæºç åˆ†æç¬¬ä¸‰ç¯‡,å‰ä¸¤ç¯‡åœ°å€åˆ†åˆ«æ˜¯</p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/5" target="_blank" rel="external">é‚£äº›ä¸èµ·çœ¼çš„å°å·¥å…·ï¼Ÿ</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/4" target="_blank" rel="external">(void 0)ä¸undefinedä¹‹é—´çš„å°ä¹ä¹</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis/issues/6" target="_blank" rel="external">æœ¬ç¯‡åŸæ–‡é“¾æ¥</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>ğŸ˜”çœ‹äº†å¾ˆå¤šç¯‡æŠ€æœ¯æ–‡ç« ï¼Œå´ä¾ç„¶å†™ä¸å¥½å‰ç«¯ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/145902-7a9b95469a275d2c.jpeg" alt=""></p>
<p>ä»æ­¥å…¥ç¨‹åºçŒ¿è¿™ä¸ªå¤§å‘å¼€å§‹åˆ°ç°åœ¨ï¼Œå·²ç»çœ‹è¿‡æ•°ä¸æ¸…çš„æŠ€æœ¯æ–‡ç« å’Œä¹¦ç±ï¼Œæœ‰çš„æ˜¯é›¶æ•£çš„çŸ¥è¯†ï¼Œæœ‰çš„æ˜¯ç³»åˆ—æƒå¨çš„æ•™ç¨‹ï¼Œä½†ä¸ºæ¯›è¿˜å†™ä¸å¥½æŒšçˆ±çš„å‰ç«¯ï¼Œå¬è¯´è¿‡ä¸€å¥è¯ï¼Œ<strong>è¿™ä¸ªä¸–ç•Œåˆä¸æ˜¯åªæœ‰ä½ ä¸€ä¸ªäººæ·±çˆ±è€Œä¸å¾—</strong>ã€‚ä½†çºµä½¿å¦‚æ­¤ï¼Œæˆ‘ä¹Ÿè¦æŠ€æœ¯è¿™æ¡è·¯ä¸Šä¸€è·¯èµ°åˆ°é»‘ã€‚ç›´åˆ°å¤©æ¶¯è¿·äº†è·¯ï¼Œæµ·è§’ç¿»äº†èˆ¹ã€‚</p>
<a id="more"></a>
<h2 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h2><blockquote>
<p>ä»Šå¤©æƒ³è¯´å‡ ä¸ªç±»ä¼¼æˆ‘ä»¬å¹³å¸¸çš„å·¥ä½œä¸­ç»å¸¸ç”¨åˆ°çš„å‡ ä¸ª<strong>å®è´</strong>,å§‘ä¸”æŠŠä»–å«åšæ€æ‰‹é”å¥½äº†ï¼Œå› ä¸ºå®åœ¨æ˜¯ç‰¹åˆ«å¥½ç”¨å‘€ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯â€¦</p>
</blockquote>
<ol>
<li>each</li>
<li>map</li>
<li>reduce</li>
<li>reduceRight</li>
<li>find</li>
<li>filter</li>
<li>every</li>
<li>some</li>
</ol>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä»ä¸‹åˆ’çº¿underscore.jsçš„è§†è§’ï¼Œä¸€æ­¥æ­¥çœ‹ä»–ä»¬çš„å†…éƒ¨è¿è¡Œçš„åŸç†æ˜¯ä»€ä¹ˆâ€¦.</p>
<h2 id="1-each-list-iteratee-context"><a href="#1-each-list-iteratee-context" class="headerlink" title="1 _.each(list, iteratee, [context])"></a>1 _.each(list, iteratee, [context])</h2><blockquote>
<p>éå†listä¸­çš„æ‰€æœ‰å…ƒç´ ï¼ŒæŒ‰é¡ºåºç”¨éå†è¾“å‡ºæ¯ä¸ªå…ƒç´ ï¼Œå¦‚æœä¼ é€’äº†contextï¼Œåˆ™å°†iterateeå‡½æ•°ä¸­çš„thisç»‘å®šåˆ°contextä¸Šã€‚</p>
</blockquote>
<p><strong>å…ˆæ¥çœ‹ä¸€ä¸‹æ€ä¹ˆä½¿ç”¨</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="string">'name'</span>, <span class="string">'sex'</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// ä¸ä¼ å…¥context</span></div><div class="line"><span class="comment">// éå†æ•°ç»„</span></div><div class="line">_.each(arr, <span class="built_in">console</span>.log) </div><div class="line"><span class="comment">// name 0 (2) ["name", "sex"]</span></div><div class="line"><span class="comment">// sex 1 (2) ["name", "sex"]</span></div><div class="line"></div><div class="line"><span class="comment">// éå†å¯¹è±¡</span></div><div class="line">_.each(obj, <span class="built_in">console</span>.log)</div><div class="line"><span class="comment">// qianlongo name &#123;name: "qianlongo", sex: "boy"&#125;</span></div><div class="line"><span class="comment">// boy sex  &#123;name: "qianlongo", sex: "boy"&#125;</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// ä¼ å…¥context</span></div><div class="line">_.each(arr, <span class="function"><span class="keyword">function</span> (<span class="params">val, key, arr</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>[val])</div><div class="line">&#125;, obj)</div><div class="line"><span class="comment">// qianlongo</span></div><div class="line"><span class="comment">// boy</span></div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹å‡ºä¸‹åˆ’çº¿çš„eachå’ŒåŸç”Ÿçš„æ•°ç»„forEachæœ‰äº›ç±»ä¼¼ä¹Ÿæœ‰ä¸åŒçš„åœ°æ–¹</strong></p>
<p>åŸç”Ÿçš„forEachåªå¯ä»¥éå†æ•°ç»„ï¼Œè€Œä¸‹åˆ’çº¿çš„eachè¿˜å¯ä»¥éå†å¯¹è±¡ã€‚æ¥ä¸‹æ¥ä½ æƒ³ä¸æƒ³ä¸€èµ·çœ‹ä¸‹ä¸‹åˆ’çº¿æ˜¯æ€ä¹ˆå®ç°çš„ã€‚come onï¼ï¼ï¼</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">_.each = _.forEach = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">  <span class="comment">// ä¼˜åŒ–éå†å‡½æ•°iterateeï¼Œå°†iterateeä¸­çš„thisåŠ¨æ€è®¾ç½®ä¸ºcontext</span></div><div class="line">  iteratee = optimizeCb(iteratee, context); </div><div class="line">  <span class="keyword">var</span> i, length;</div><div class="line">  <span class="keyword">if</span> (isArrayLike(obj)) &#123; <span class="comment">// å¦‚æœæ˜¯ç±»æ•°ç»„ç±»å‹çš„obj</span></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, length = obj.length; i &lt; length; i++) &#123;</div><div class="line">      <span class="comment">// iterateeæ¥æ”¶çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ æ•°ç»„çš„å€¼ï¼Œæ•°ç»„çš„ç´¢å¼•ï¼Œä»¥åŠæ•°ç»„æœ¬èº«</span></div><div class="line">      iteratee(obj[i], i, obj); </div><div class="line">    &#125;</div><div class="line">  &#125; <span class="keyword">else</span> &#123; <span class="comment">// æ”¯æŒå¯¹è±¡ç±»å‹çš„æ•°æ®è¿­ä»£</span></div><div class="line">    <span class="keyword">var</span> keys = _.keys(obj); <span class="comment">// æ‹¿åˆ°objè‡ªèº«çš„æ‰€æœ‰keys</span></div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, length = keys.length; i &lt; length; i++) &#123;</div><div class="line">      <span class="comment">// iterateeæ¥æ”¶çš„ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ objçš„å±æ€§å€¼ï¼Œobjçš„å±æ€§ï¼Œobjæœ¬èº«</span></div><div class="line">      iteratee(obj[keys[i]], keys[i], obj);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> obj; <span class="comment">// æœ€åå°†objè¿”å›</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>ğŸ˜‰ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾ç†è§£æ˜¯å§ï¼å¼€å§‹mapå‡½æ•°ä¹‹æ—…å§</p>
<h2 id="2-map-list-iteratee-context"><a href="#2-map-list-iteratee-context" class="headerlink" title="2 _.map(list, iteratee, [context])"></a>2 _.map(list, iteratee, [context])</h2><blockquote>
<p>é€šè¿‡iterateeå°†listä¸­çš„æ¯ä¸ªå€¼æ˜ å°„åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ä¸­ï¼ˆæ³¨ï¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚y = f(x),ç±»ä¼¼é«˜ä¸­å­¦è¿‡çš„çŸ¥è¯†ï¼Œå°†xé€šè¿‡f()æ˜ å°„ä¸ºä¸€ä¸ªæ–°çš„æ•°</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="string">'qianlongo'</span>, <span class="string">'boy'</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// listæ˜¯ä¸ªæ•°ç»„çš„æ—¶å€™</span></div><div class="line">_.map(arr, (val, index) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`hello : <span class="subst">$&#123;val&#125;</span>`</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// ["hello : qianlongo", "hello : boy"]</span></div><div class="line"></div><div class="line"><span class="comment">// listæ˜¯ä¸ªå¯¹è±¡çš„æ—¶å€™</span></div><div class="line">_.map(obj, (val, key, obj) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`hello : <span class="subst">$&#123;val&#125;</span>`</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// ["hello : qianlongo", "hello : boy"]</span></div></pre></td></tr></table></figure>
<p><strong>å½“ç„¶è¿˜å¯ä»¥ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°contextï¼Œå…¶æœ¬è´¨å¦‚eachä¸€èˆ¬ï¼Œä¹Ÿæ˜¯è®©iterateeå‡½æ•°ä¸­çš„thisåŠ¨æ€è®¾ç½®ä¸ºcontext</strong></p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"> _.map = _.collect = <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, context</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¯ä»¥å°†è¿™é‡Œçš„å†…éƒ¨cbå‡½æ•°ç†è§£ä¸ºç»‘å®šiterateeçš„thisåˆ°context</span></div><div class="line">  iteratee = cb(iteratee, context);</div><div class="line">  <span class="comment">// éç±»æ•°ç»„å¯¹è±¡å°±è·å–objçš„keysï¼Œè¿™é‡Œå¦‚æœæ˜¯ç±»æ•°ç»„æœ€åå¾—åˆ°çš„keysä¸ºundefined</span></div><div class="line">  <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">      length = (keys || obj).length,</div><div class="line">      results = <span class="built_in">Array</span>(length); <span class="comment">// åˆ›å»ºä¸€ä¸ªå’Œobjé•¿åº¦ç©ºé—´ä¸€æ ·çš„æ•°ç»„</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">    <span class="comment">// æ³¨æ„è¿™é‡Œï¼Œkeyså­˜åœ¨åˆ™ä»£è¡¨objæ˜¯ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥è¦æ‹¿åˆ°keysä¸­çš„å€¼ï¼Œå¦åˆ™æ˜¯ç±»æ•°ç»„çš„è¯ï¼Œç›´æ¥ç”¨indexç´¢å¼•å°±å¥½äº†</span></div><div class="line">    <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">    <span class="comment">// çœ‹åˆ°äº†å—ï¼Œè¿™é‡Œå°†iterateeæ‰§è¡Œåçš„è¿”å›å€¼å¡åˆ°äº†resultsæ•°ç»„ä¸­</span></div><div class="line">    results[index] = iteratee(obj[currentKey], currentKey, obj);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> results; <span class="comment">// æœ€åå°†æ˜ å°„ä¹‹åçš„æ•°ç»„è¿”å›</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>é€šè¿‡æºç å¯ä»¥çœ‹åˆ°mapçš„å®ç°æ€è·¯</strong></p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªå³å°†è¿”å›çš„æ•°ç»„</li>
<li>éå†list(å¯ä»¥ä¸ºæ•°ç»„ä¹Ÿå¯ä»¥ä¸ºå¯¹è±¡)ï¼Œå°†listçš„å…ƒç´ è¾“å…¥åˆ°ä¼ è¿›æ¥çš„iterateeå‡½æ•°ä¸­ï¼Œå¹¶å°†å…¶æ‰§è¡Œåçš„è¿”å›å€¼å¡«å……è¿›æ•°ç»„ã€‚è¿™ä¸ªiterateeè´Ÿè´£æ˜ å°„è§„åˆ™</li>
</ol>
<h2 id="3-every-list-predicate-context"><a href="#3-every-list-predicate-context" class="headerlink" title="3 _.every(list, [predicate], [context])"></a>3 _.every(list, [predicate], [context])</h2><blockquote>
<p>å½“listä¸­çš„æ‰€æœ‰çš„å…ƒç´ éƒ½å¯ä»¥é€šè¿‡predicateçš„æ£€æµ‹ï¼Œé‚£ä¹ˆç»“æœè¿”å›trueï¼Œå¦åˆ™false</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="number">-1</span>, <span class="number">-3</span>, <span class="number">-6</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> result = _.every(arr, (val, key, arr) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val &gt; <span class="number">0</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// false</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> result2 = _.every(obj, (val, key, obj) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val.indexOf(<span class="string">'o'</span>) &gt; <span class="number">-1</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>ä½¿ç”¨èµ·æ¥è›®ç®€å•çš„ï¼Œä¼ å…¥ä¸€ä¸ªè°“è¯å‡½æ•°(è¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼çš„å‡½æ•°)ï¼Œæœ€åå¾—åˆ°trueæˆ–è€…falseã€‚</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">_.every = _.all = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">  <span class="comment">// å¯ä»¥å°†è¿™é‡Œçš„å†…éƒ¨cbå‡½æ•°ç†è§£ä¸ºç»‘å®šiterateeçš„thisåˆ°context</span></div><div class="line">  predicate = cb(predicate, context);</div><div class="line">  <span class="comment">// çŸ­è·¯å†™æ³•ï¼Œéç±»æ•°ç»„åˆ™è·å–å…¶keys</span></div><div class="line">  <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">      length = (keys || obj).length;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">    <span class="comment">// keysè‹¥èƒ½è½¬åŒ–ä¸º"çœŸ" åˆ™è¯´æ˜objæ˜¯å¯¹è±¡ç±»å‹</span></div><div class="line">    <span class="keyword">var</span> currentKey = keys ? keys[index] : index; </div><div class="line">    <span class="comment">// åªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¿”å›falseï¼Œä¸­æ–­è¿­ä»£</span></div><div class="line">    <span class="keyword">if</span> (!predicate(obj[currentKey], currentKey, obj)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// å¦åˆ™æ‰€æœ‰å…ƒç´ éƒ½é€šè¿‡åˆ¤æ–­è¿”å›true</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="4-some-list-predicate-context"><a href="#4-some-list-predicate-context" class="headerlink" title="4 _.some(list, [predicate], [context])"></a>4 _.some(list, [predicate], [context])</h2><blockquote>
<p>å¦‚æœlistä¸­æœ‰ä»»ä½•ä¸€ä¸ªå…ƒç´ é€šè¿‡ predicateçš„æ£€æµ‹å°±è¿”å›trueã€‚å¦åˆ™è¿”å›falseï¼Œå’Œeveryæ°å¥½æœ‰ç‚¹ç›¸åçš„æ„æ€ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="number">-1</span>, <span class="number">-3</span>, <span class="number">-6</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">sex</span>: <span class="string">''</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> result = _.some(arr, (val, key, arr) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val &gt; <span class="number">0</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// true å› ä¸ºè‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´  &gt;0</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> result2 = _.some(obj, (val, key, obj) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val.indexOf(<span class="string">'o'</span>) &gt; <span class="number">-1</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// true ä¸¤ä¸ªéƒ½åŒ…å«'o' å½“ç„¶è¿”å›true</span></div></pre></td></tr></table></figure>
<p>æºç ä¸­æ˜¯æ€ä¹ˆå®ç°çš„å‘¢,ä¸everyå”¯ä¸€ä¸åŒçš„åœ°æ–¹åœ¨è¿”å›<code>true</code>è¿˜æ˜¯<code>falase</code>ä¹‹å¤„ï¼Ÿ</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">_.some = _.any = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">  predicate = cb(predicate, context);</div><div class="line">  <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj),</div><div class="line">      length = (keys || obj).length;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; length; index++) &#123;</div><div class="line">    <span class="keyword">var</span> currentKey = keys ? keys[index] : index;</div><div class="line">    <span class="keyword">if</span> (predicate(obj[currentKey], currentKey, obj)) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// åªè¦æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶å°±è¿”å›true</span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// æ‰€æœ‰éƒ½ä¸æ»¡è¶³åˆ™è¿”å›false</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="5-find-list-predicate-context"><a href="#5-find-list-predicate-context" class="headerlink" title="5 _.find(list, predicate, [context])"></a>5 _.find(list, predicate, [context])</h2><blockquote>
<p>éå†listä¸­çš„å…ƒç´ ï¼Œè¿”å›ç¬¬ä¸€ä¸ªé€šè¿‡predicateå‡½æ•°æ£€æµ‹çš„å€¼ã€‚</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">-1</span>, <span class="number">-3</span>, <span class="number">-6</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span>,</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = _.find(arr, (val, key, arr) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val &gt; <span class="number">0</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// 3</span></div><div class="line"><span class="keyword">let</span> result2 = _.find(obj, (val, key, obj) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val.indexOf(<span class="string">'o'</span>) &gt; <span class="number">-1</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// boy</span></div></pre></td></tr></table></figure>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">_.find = _.detect = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> key;</div><div class="line">  <span class="keyword">if</span> (isArrayLike(obj)) &#123;</div><div class="line">    <span class="comment">// å½“ä¼ å…¥çš„æ˜¯ç±»æ•°ç»„çš„æ—¶å€™ï¼Œè°ƒç”¨findIndexæ–¹æ³•ï¼Œç»“æœæ˜¯&gt;= -1çš„æ•°ç»„</span></div><div class="line">    key = _.findIndex(obj, predicate, context);</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="comment">// å½“ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œè°ƒç”¨findKeyï¼Œç»“æœæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å±æ€§æˆ–è€…undefined</span></div><div class="line">    key = _.findKey(obj, predicate, context);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// è¿”å›ç¬¦åˆæ¡ä»¶çš„value,å¦åˆ™æ²¡æœ‰è¿”å›å€¼ï¼Œå³é»˜è®¤çš„undefined</span></div><div class="line">  <span class="keyword">if</span> (key !== <span class="keyword">void</span> <span class="number">0</span> &amp;&amp; key !== <span class="number">-1</span>) <span class="keyword">return</span> obj[key]; </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><code>_.findIndex</code>å’Œ<code>_.findKey</code>åœ¨åé¢ä¼šä¸€ä¸€åˆ†æï¼Œç›®å‰ç†è§£findå‡½æ•°çŸ¥é“ä»–ä»¬æ€ä¹ˆç”¨å°±å¥½ã€‚</p>
<h2 id="6-filter-list-predicate-context"><a href="#6-filter-list-predicate-context" class="headerlink" title="6 _.filter(list, predicate, [context])"></a>6 _.filter(list, predicate, [context])</h2><blockquote>
<p>éå†listï¼Œè¿”å›åŒ…å«æ‰€æœ‰é€šè¿‡predicateæ£€æµ‹çš„å…ƒç´ (ç»“æœæ˜¯ä¸ªæ•°ç»„)</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> arr = [<span class="number">-1</span>, <span class="number">-3</span>, <span class="number">-6</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>]</div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">  <span class="attr">sex</span>: <span class="string">'boy'</span>,</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlongo'</span>,</div><div class="line">  <span class="attr">age</span>: <span class="number">100</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">let</span> result = _.filter(arr, (val, key, arr) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> val &gt; <span class="number">0</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// [3, 6, 9]</span></div><div class="line"><span class="keyword">let</span> result2 = _.filter(obj, (val, key, obj) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;val&#125;</span>`</span>.indexOf(<span class="string">'o'</span>) &gt; <span class="number">-1</span> <span class="comment">// ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²æ˜¯é˜²æ­¢100æ²¡æœ‰indexOfæ–¹æ³•è€ŒæŠ¥é”™</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// ["boy", "qianlongo"]</span></div></pre></td></tr></table></figure>
<p>èªæ˜çš„ä½ æ˜¯ä¸æ˜¯å·²ç»æƒ³åˆ°äº†æºç æ˜¯æ€ä¹ˆå®ç°çš„äº† ğŸ˜‰</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">_.filter = _.select = <span class="function"><span class="keyword">function</span>(<span class="params">obj, predicate, context</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> results = [];</div><div class="line">  <span class="comment">// ç»‘å®špredicateçš„thisä½œç”¨åŸŸåˆ°context</span></div><div class="line">  predicate = cb(predicate, context);</div><div class="line">  <span class="comment">// ç”¨eachæ–¹æ³•å¯¹objè¿›è¡Œéå†</span></div><div class="line">  _.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">value, index, list</span>) </span>&#123;</div><div class="line">    <span class="comment">// ç¬¦åˆpredicateè¿‡æ»¤æ¡ä»¶çš„ï¼Œå°±æŠŠå¯¹åº”çš„å€¼å¡åˆ°resultsæ•°ç»„ä¸­</span></div><div class="line">    <span class="keyword">if</span> (predicate(value, index, list)) results.push(value);</div><div class="line">  &#125;);</div><div class="line">  <span class="keyword">return</span> results; <span class="comment">// æœ€åè¿”å›</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>æœ€åæ˜¯reduceå’ŒreduceRightï¼Œä¸¤ä¸ªç›¸å¯¹æ¥è¯´æ›´éš¾ä¸€äº›çš„apiï¼Œè™½ç„¶å·²ç»è¿‡äº†12ç‚¹äº†ï¼Œæ‰‹åŠ¨å›°ä¹ğŸ˜ªï¼Œ æˆ‘ä»¬å’¬å’¬ç‰™åšæŒä¸€ä¸‹ï¼ŒæŠŠæœ€åä¸¤ä¸ªè¯´å®Œ</strong></p>
<h2 id="7-reduce-list-iteratee-memo-context-ï¼Œ"><a href="#7-reduce-list-iteratee-memo-context-ï¼Œ" class="headerlink" title="7 _.reduce(list, iteratee, [memo], [context])ï¼Œ"></a>7 _.reduce(list, iteratee, [memo], [context])ï¼Œ</h2><blockquote>
<p>åˆ«åä¸º inject å’Œ foldl, reduceæ–¹æ³•æŠŠlistä¸­å…ƒç´ å½’ç»“ä¸ºä¸€ä¸ªå•ç‹¬çš„æ•°å€¼ã€‚Memoæ˜¯reduceå‡½æ•°çš„åˆå§‹å€¼ï¼Œreduceçš„æ¯ä¸€æ­¥éƒ½éœ€è¦ç”±iterateeè¿”å›ã€‚è¿™ä¸ªè¿­ä»£ä¼ é€’4ä¸ªå‚æ•°ï¼šmemo, value å’Œ è¿­ä»£çš„indexï¼ˆæˆ–è€… keyï¼‰å’Œæœ€åä¸€ä¸ªå¼•ç”¨çš„æ•´ä¸ª list</p>
</blockquote>
<h2 id="8-reduceRight-list-iteratee-memo-context"><a href="#8-reduceRight-list-iteratee-memo-context" class="headerlink" title="8 _.reduceRight(list, iteratee, memo, [context])"></a>8 _.reduceRight(list, iteratee, memo, [context])</h2><blockquote>
<p>reducRightæ˜¯ä»å³ä¾§å¼€å§‹ç»„åˆçš„å…ƒç´ çš„reduceå‡½æ•°</p>
</blockquote>
<p><strong>ä½¿ç”¨æ¡ˆä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</div><div class="line">  sum = _.reduce(arr, (init, cur, i, arr) =&gt; &#123;</div><div class="line">    <span class="keyword">return</span> init + cur;</div><div class="line">  &#125;);	</div><div class="line">  </div><div class="line">  <span class="comment">// 15</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯æ€æ ·çš„ã€‚</p>
<p><strong>ç¬¬ä¸€å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å› ä¸ºinitialValueæ²¡æœ‰ä¼ å…¥æ‰€ä»¥å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°ç»„çš„ç¬¬ä¸€é¡¹</span></div><div class="line">init = <span class="number">0</span>;</div><div class="line">cur = <span class="number">1</span>;</div><div class="line">=&gt; init + cur = <span class="number">1</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬äºŒå›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">1</span>;</div><div class="line">cur = <span class="number">2</span>;</div><div class="line">=&gt; init + cur = <span class="number">3</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬ä¸‰å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">3</span>;</div><div class="line">cur = <span class="number">3</span>;</div><div class="line">=&gt; init + cur = <span class="number">6</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬å››å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">6</span>;</div><div class="line">cur = <span class="number">4</span>;</div><div class="line">=&gt; init + cur = <span class="number">10</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬äº”å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">10</span>;</div><div class="line">cur = <span class="number">5</span>;</div><div class="line">=&gt; init + cur = <span class="number">15</span>;</div></pre></td></tr></table></figure>
<p><strong>ğŸ˜­å¦ˆå¦ˆå•Šï¼Œç»ˆäºæ‰§è¡Œå®Œäº†ï¼Œè¿™ä¹ˆå¤šå›åˆæ‰ç»“æŸï¼Œå“ªåƒäººå®¶æ ¼æ–—é«˜æ‰‹ç¬é—´å°±æŠŠå¤ªæå¤§å¸ˆæ•´æŒ‚äº†</strong></p>
<p>çŸ¥é“äº†ä¸€æ­¥æ­¥æ‰§è¡Œæµç¨‹ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹æºç åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„ã€‚</p>
<p><strong>æºç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æºç è¿˜æ˜¯é€šè¿‡è°ƒç”¨createReduceç”Ÿæˆçš„ï¼Œæ‰€ä»¥ä¸»è¦æ˜¯çœ‹createReduceè¿™ä¸ªå‡½æ•°</span></div><div class="line">_.reduce = _.foldl = _.inject = createReduce(<span class="number">1</span>);</div></pre></td></tr></table></figure>
<p><strong>è¿™å°¼ç›çœ‹èµ·æ¥å¥½å“äººå•Šï¼Œä¸æ€•ï¼Œæˆ‘ä»¬ä¸€ç‚¹ç‚¹æ¥åˆ†æ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createReduce</span>(<span class="params">dir</span>) </span>&#123;</div><div class="line">    <span class="comment">// Optimized iterator function as using arguments.length</span></div><div class="line">    <span class="comment">// in the main function will deoptimize the, see #1991.</span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">iterator</span>(<span class="params">obj, iteratee, memo, keys, index, length</span>) </span>&#123; <span class="comment">// çœŸæ­£æ‰§è¡Œè¿­ä»£çš„åœ°æ–¹</span></div><div class="line">      <span class="keyword">for</span> (; index &gt;= <span class="number">0</span> &amp;&amp; index &lt; length; index += dir) &#123;</div><div class="line">        <span class="keyword">var</span> currentKey = keys ? keys[index] : index; <span class="comment">// å¦‚æœkeyså­˜åœ¨åˆ™è®¤ä¸ºæ˜¯objå½¢å¼çš„å‚æ•°ï¼Œæ‰€ä»¥è¯»å–keysä¸­çš„å±æ€§å€¼ï¼Œå¦åˆ™ç±»æ•°ç»„åªéœ€è¦è¯»å–ç´¢å¼•indexå³å¯</span></div><div class="line">        memo = iteratee(memo, obj[currentKey], currentKey, obj); <span class="comment">// æ¥ç€å°±æ˜¯æ‰§è¡Œå¤–éƒ¨ä¼ å…¥çš„å›è°ƒäº†ï¼Œå¹¶å°†ç»“æœèµ‹å€¼ä¸ºmemoï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æœ€åè¦åˆ°çš„å€¼</span></div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> memo;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">obj, iteratee, memo, context</span>) </span>&#123;</div><div class="line">      iteratee = optimizeCb(iteratee, context, <span class="number">4</span>); <span class="comment">// é¦–å…ˆç»‘å®šä¸€ä¸‹thisä½œç”¨åŸŸ</span></div><div class="line">      <span class="keyword">var</span> keys = !isArrayLike(obj) &amp;&amp; _.keys(obj), <span class="comment">// å¦‚æœä¸æ˜¯ç±»æ•°ç»„å°±è¯»å–å…¶keys</span></div><div class="line">          length = (keys || obj).length,</div><div class="line">          index = dir &gt; <span class="number">0</span> ? <span class="number">0</span> : length - <span class="number">1</span>; <span class="comment">// é»˜è®¤å¼€å§‹è¿­ä»£çš„ä½ç½®ï¼Œä»å·¦è¾¹ç¬¬ä¸€ä¸ªå¼€å§‹è¿˜æ˜¯å³è¾¹ç¬¬ä¸€ä¸ª</span></div><div class="line">      <span class="comment">// Determine the initial value if none is provided.</span></div><div class="line">      <span class="keyword">if</span> (<span class="built_in">arguments</span>.length &lt; <span class="number">3</span>) &#123; <span class="comment">// å¦‚æœæ²¡æœ‰ä¼ å…¥åˆå§‹åŒ–å€¼ï¼Œåˆ™å°†ç¬¬ä¸€ä¸ªå€¼(å·¦è¾¹ç¬¬ä¸€ä¸ªæˆ–è€…å³è¾¹ç¬¬ä¸€ä¸ª)ä½œä¸ºåˆå§‹å€¼</span></div><div class="line">        memo = obj[keys ? keys[index] : index];</div><div class="line">        index += dir; <span class="comment">// ä»ç´¢å¼•ä¸º1å¼€å§‹æˆ–è€…ç´¢å¼•ä¸ºlength - 2å¼€å§‹è¿­ä»£</span></div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> iterator(obj, iteratee, memo, keys, index, length); <span class="comment">// æ¥ç€å¼€å§‹è¿›å…¥è‡ªå®šä¹‰çš„è¿­ä»£å‡½æ•°ï¼Œè¯·å¾€ä¸Šçœ‹</span></div><div class="line">    &#125;;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>å¤œæ·±äººé™ï¼Œæœ‰ç‚¹å›°ä¹äº†ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹å¤§å®¶æœ‰ç‚¹ä½œç”¨ã€‚å¦‚æœå¯¹å‰å‡ ç¯‡æºç åˆ†æçš„æ–‡ç« æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å‰å¾€é¡¶éƒ¨åœ°å€æŸ¥çœ‹</p>
</blockquote>
<p>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</p>
<p>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</p>
<p>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é‚£äº›ä¸èµ·çœ¼çš„å°å·¥å…·ï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2017/05/09/%E9%82%A3%E4%BA%9B%E4%B8%8D%E8%B5%B7%E7%9C%BC%E7%9A%84%E5%B0%8F%E5%B7%A5%E5%85%B7%EF%BC%9F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://github.com/qianlongo/underscore-analysis/issues/5" target="_blank" rel="external">åŸæ–‡é“¾æ¥</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>ä»Šå¤©æƒ³å†™ä¸€ç¯‡å…³äºä¸‹åˆ’çº¿è¿™ä¸ªåº“ä¸­ä¸€äº›å°å·¥å…·å‡½æ•°çš„æ•…äº‹ï¼Œæˆ‘ä»¬éƒ½å¬è¿‡ä¸€å¥è¯ï¼Œä¸€ä¸ªæˆåŠŸçš„ç”·äººèƒŒåä¸€å®šæœ‰ä¸€ä¸ªäº†ä¸èµ·çš„å¥³äºº(ğŸ˜€ï¼Œå…¶å®ä¹Ÿä¸ä¸€å®šï¼Œä¹Ÿè®¸è¿˜æœ‰ç”·äººå‘¢)ï¼Œé‚£ä¹ˆä¸€ä¸ªç»ä¹…ä¸è¡°ï¼Œä¸ºç¨‹åºçŒ¿ä»¬æ‰€ç§°é“çš„åº“ï¼Œæ¡†æ¶çš„èƒŒåè‡ªç„¶ä¹Ÿæœ‰ä¸å°‘çœ‹èµ·æ¥ä¸èµ·çœ¼ï¼Œç”šè‡³ä½ éƒ½æ‡’å¾—æ­£çœ¼ç§ä»–çš„â€å°å·¥å…·â€å­˜åœ¨ã€‚æ­£æ˜¯è¿™äº›èƒŒåçš„æ— åè‹±é›„ä¸ºç±»åº“å’Œæ¡†æ¶çš„å½¢æˆï¼Œè´¡çŒ®äº†ä¸å¯ç£¨ç­çš„åŠ›é‡ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/tool.jpeg" alt="å·¥å…·å›¾ç‰‡"></p>
<a id="more"></a>
<p><strong>ç¬¬ä¸€ç¯‡æ–‡ç« è¯´äº†undefinedï¼Œé‚£æˆ‘ä»¬ä¹Ÿä»undefinedå¼€å§‹ã€‚</strong></p>
<h2 id="isUndefined-obj"><a href="#isUndefined-obj" class="headerlink" title="_.isUndefined(obj)"></a>_.isUndefined(obj)</h2><blockquote>
<p>åˆ¤æ–­objç­‰äºundefinedä¸å¦ï¼Œæ˜¯å°±è¿”å›trueï¼Œåä¹‹falseã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a = <span class="literal">null</span></div><div class="line"><span class="keyword">let</span> b = <span class="built_in">window</span>.b</div><div class="line"><span class="keyword">let</span> c = <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;</div><div class="line"><span class="keyword">let</span> d = <span class="literal">undefined</span></div><div class="line"><span class="keyword">let</span> e = <span class="keyword">void</span> <span class="number">0</span></div><div class="line"><span class="keyword">let</span> f = <span class="string">'qianlongo'</span></div><div class="line"><span class="keyword">let</span> g</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(a)) <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(b)) <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(c())) <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(d)) <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(e)) <span class="comment">// true</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(f)) <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(_.isUndefined(g)) <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p><strong>å¯¹äºä¸€ä¸ªå¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§</strong></p>
<p><strong>å¯¹äºä¸€ä¸ªæ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°</strong></p>
<p><strong>å¯¹äºå£°æ˜å’Œå´æ²¡æœ‰èµ‹å€¼çš„æ ‡é‡</strong></p>
<p><strong>å¯¹äºç›´æ¥èµ‹å€¼ä¸ºundefined(éie8ä»¥ä¸‹)æˆ–è€…void 0</strong></p>
<p>_.isUndefinedéƒ½ä¼šè¿”å›trueï¼Œå…¶ä»–æƒ…å†µå…¨éƒ½æ˜¯è¿”å›false</p>
<p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬ä¼šè¿™æ ·åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯éƒ½å­˜åœ¨ï¼Œ<code>a == null</code><br><code>a == undefined</code>éƒ½å¯ä»¥é€šéš¾è¿‡åˆ¤æ–­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (a == <span class="literal">null</span>) &#123; </div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä½†æ˜¯_.isUndefinedç”¨çš„æ˜¯ä¸‰ç­‰å¼ºåˆ¶åˆ¤æ–­ï¼Œæ‰€ä»¥nullæ˜¯é€šè¿‡ä¸äº†çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.isUndefined = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> obj === <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="isNull-obj"><a href="#isNull-obj" class="headerlink" title="_.isNull(obj)"></a>_.isNull(obj)</h2><blockquote>
<p>åˆ¤æ–­objç­‰äºnullä¸å¦ï¼Œæ˜¯å°±è¿”å›trueï¼Œåä¹‹falseã€‚</p>
</blockquote>
<p>è¿™ä¸ªæ²¡å•¥è¯´çš„ï¼Œåªæœ‰objè¾“å…¥<code>null</code>,ç»“æœè¾“å‡ºæ‰ä¸ºtrueï¼Œå› ä¸ºå†…éƒ¨åˆ¤æ–­ä¹Ÿæ˜¯ç”¨çš„ä¸‰ç­‰åˆ¤æ–­ï¼Œä¸ä»…å€¼è¦ç›¸ç­‰ï¼Œç±»å‹ä¹Ÿè¦ç›¸åŒã€‚</p>
<h2 id="noConflict"><a href="#noConflict" class="headerlink" title="_.noConflict()"></a>_.noConflict()</h2><blockquote>
<p>é˜²æ­¢å…¨å±€å˜é‡å†²çªçš„ä¸€ç§å¸¸è§è§£å†³æ–¹æ¡ˆï¼Œå°†<em>çš„ä½¿ç”¨æƒäº¤æ¢ç»™ä¸Šä¸€ä¸ªå ç”¨</em>å‘ä½çš„äººã€‚</p>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&lt;script src=<span class="string">"lodash.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line">&lt;script src=<span class="string">"underscore.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(_)</div></pre></td></tr></table></figure>
<p>é‡è§é‡åçš„äº‹ä¸æ–°é²œå¯¹å§ï¼Œå…¨å›½æœ‰å¤šå°‘ä¸ªå°æ˜å•Šï¼Œæˆ‘ä»¬ä»å°åˆ°å¤§è¯¾æœ¬é‡Œåˆ°å¤„éƒ½æ˜¯å°æ˜å’Œå°çº¢ã€‚</p>
<p>è¿™é‡Œåé¢å¼•å…¥çš„underscore.jsæŠŠlodash.jsç»™è¦†ç›–äº†ï¼Œå› ä¸ºä¸¤ä¸ªåº“éƒ½æƒ³å ç”¨å…¨å±€çš„_,ç»“æœåæ¥è€…å±…ä¸Šã€‚</p>
<p>å¦‚æœä¸æƒ³lodashè¢«è¦†ç›–æ€ä¹ˆåŠï¼Œæ€»çš„æœ‰ä¸ªå…ˆæ¥ååˆ°å•Šã€‚åªéœ€è¦è°ƒç”¨noConflictæ–¹æ³•ä¾¿å°†å ç€çš„<em>å‘ä½é‡æ–°å½’è¿˜ç»™äº†lodashï¼Œè€Œä¹‹åæˆ‘ä»¬ç”¨my</em>å³å¯è®¿é—®æ‰€æœ‰underscore.jsçš„æ–¹æ³•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> my_ = _.noConflict()</div></pre></td></tr></table></figure>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹æºç æ€ä¹ˆå®ç°çš„</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> previousUnderscore = _ <span class="comment">// åœ¨æºç çš„é¡¶éƒ¨ï¼Œä¿å­˜äº†å‰ä¸€ä¸ªå ç€_å‘ä½çš„äºº</span></div><div class="line"> _.noConflict = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    root._ = previousUnderscore; <span class="comment">// å°†_é‡æ–°èµ‹å€¼ç»™å‰ä¸€ä¸ªå ç€_å‘ä½çš„äºº</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>; <span class="comment">// å¹¶å°†_è¿”å›ä»¥ä¾›åç»­ä½¿ç”¨</span></div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
<h2 id="identity-value"><a href="#identity-value" class="headerlink" title="_.identity(value)"></a>_.identity(value)</h2><blockquote>
<p>è¿”å›ä¸ä¼ å…¥çš„å‚æ•°valueä¸€æ ·çš„å€¼</p>
</blockquote>
<p><strong>è¿™ä¸ªå‡½æ•°çœ‹èµ·æ¥æ²¡æœ‰ä»€ä¹ˆè½¯ç”¨ï¼Œä½†æ˜¯åœ¨åé¢èƒ½å¤Ÿèµ·éå¸¸å¤§çš„ä½œç”¨ï¼Œä¹Ÿæ­£ä½“ç°äº†ï¼Œå·¥å…·è™½å°ï¼Œèƒ½é‡å´å¤§</strong></p>
<p>æˆ‘ä»¬å…ˆæ¥ç®€å•åœ°çœ‹ä¸‹å®ƒçš„åº”ç”¨ï¼Œåœ¨åç»­çš„æºç åˆ†æä¸­é‡åˆ°å†ä»”ç»†è®²è§£ã€‚</p>
<ol>
<li>è¿‡æ»¤ä¸€ä¸ªæ•°ç»„ä¸­ä¸ºâ€çœŸâ€çš„å€¼</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="literal">null</span>, <span class="string">'false'</span>, <span class="number">0</span>, <span class="string">'c'</span>, <span class="string">''</span>, <span class="literal">false</span>, &#123;&#125;]</div><div class="line"><span class="keyword">let</span> arr2 = arr.filter(_.identity) <span class="comment">// ["a", "b", "false", "c", &#123;&#125;]</span></div></pre></td></tr></table></figure>
<ol>
<li>å¤åˆ¶æ•°ç»„</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="literal">null</span>, <span class="string">'false'</span>, <span class="number">0</span>, <span class="string">'c'</span>, <span class="string">''</span>, <span class="literal">false</span>, &#123;&#125;]</div><div class="line"><span class="keyword">let</span> arr2 = arr.map(_.identity) <span class="comment">// ["a", "b", null, "false", 0, "c", "", false, &#123;&#125;]</span></div></pre></td></tr></table></figure>
<h2 id="constant-value"><a href="#constant-value" class="headerlink" title="_.constant(value)"></a>_.constant(value)</h2><blockquote>
<p>è¿”å›ä¸€ä¸ªå‡½æ•°fnï¼Œfnæ‰§è¡Œä¹‹åå†è¿”å›å½“åˆä¼ è¿›æ¥çš„value</p>
</blockquote>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€æ®µgithubä¸Šå…³äºä¸‹åˆ’çº¿çš„ä¸€ä¸ª<a href="https://github.com/jashkenas/underscore/issues/402" target="_blank" rel="external">issue</a>ï¼ŒæŒºæœ‰æ„æ€çš„ã€‚ä¹Ÿè®¸æˆ‘ä»¬æ¯”è¾ƒéš¾åˆ—ä¸¾å‡ºè¿™ä¸ªå‡½æ•°çš„åº”ç”¨ï¼Œä½†æ˜¯è‡³å°‘ä¸‹é¢è¿™ä¸ªä¾‹å­æ˜¯æ¯”è¾ƒå¥½çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">let</span> age = <span class="number">18</span></div><div class="line"><span class="keyword">let</span> cacheAge = _.constant(age)</div><div class="line"></div><div class="line">age += <span class="number">10</span></div><div class="line"><span class="built_in">console</span>.log(cacheAge()) <span class="comment">// 18</span></div></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆå¯ä»¥ç¼“å­˜ä½18ï¼Œæˆ‘ä»¬çœ‹ä¸‹æºç å¤§æ¦‚å°±çŸ¥é“äº†ï¼Œæºç åˆ›å»ºäº†å¸¸è§çš„é—­åŒ…ï¼Œé—­åŒ…å¸¸è§çš„ä½œç”¨ä¹‹ä¸€å°±æ˜¯è®©å¤–é¢é€šè¿‡å‡½æ•°è°ƒç”¨çš„å½¢å¼å»è®¿é—®å†…éƒ¨çš„å˜é‡ï¼Œä»¥åŠåœ¨ä¸€å®šçš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œç¼“å­˜ä½å˜é‡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">_.constant = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="keyword">return</span> value;</div><div class="line">   &#125;;</div><div class="line"> &#125;;</div></pre></td></tr></table></figure>
<h2 id="noop"><a href="#noop" class="headerlink" title="_.noop()"></a>_.noop()</h2><blockquote>
<p>ä¸€ä¸ªç©ºå‡½æ•°ï¼Œå•¥ä¹Ÿä¸å¹²ï¼Œè°ƒç”¨äº†å°±è¿”å›undefinedç»™ä½ ï¼Œå¯ä»¥ä½œä¸ºé»˜è®¤çš„å›è°ƒå‚æ•°</p>
</blockquote>
<p>åˆæ˜¯ä¸€ä¸ªçœ‹èµ·æ¥å•¥ç”¨éƒ½æ²¡æœ‰çš„å‡½æ•°ï¼Œç„¶è€Œäº‹å®çœŸçš„æ˜¯è¿™æ ·å—ï¼Ÿè¯·ç§»æ­¥ä»¥ä¸‹å‡ ä¸ªé“¾æ¥</p>
<ol>
<li><a href="http://stackoverflow.com/questions/21572738/what-is-the-use-of-jquery-noop-function" target="_blank" rel="external">What is the use of jQuery.noop() function?</a></li>
<li><a href="http://stackoverflow.com/questions/21634886/what-is-the-javascript-convention-for-no-operation" target="_blank" rel="external">What is the JavaScript convention for no operation?</a></li>
</ol>
<p>ä¾‹å­ä¸ç”¨å¤šï¼Œæ€»ç»“ä¸€ä¸‹</p>
<p><strong>1. ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ä¸ºä¸€ä¸ªç©ºå‡½æ•°ï¼Œåœ¨åç»­çš„è°ƒç”¨ä¸­ä½ ä¸éœ€è¦å»æ£€æµ‹ä»–æ˜¯ä¸æ˜¯undefined</strong></p>
<p><strong>2. ä¸ºä»€ä¹ˆä¸ç»™éœ€è¦çš„å˜é‡é‡æ–°è®¾ç½®ä¸€ä¸ªç©ºå‡½æ•°ï¼Ÿ _.noopå·²ç»åˆ›å»ºäº†ä¸€ä¸ªå‡½æ•°ç©ºé—´ï¼Œè®©å…¶ä»–å˜é‡ä¹ŸæŒ‡å‘è¿™ä¸ªå‡½æ•°ï¼Œå¯ä»¥å‡å°‘jsä¸­ä¸å¿…è¦çš„èŠ±é”€</strong></p>
<h2 id="times-n-iteratee-context"><a href="#times-n-iteratee-context" class="headerlink" title="_.times(n, iteratee, context)"></a>_.times(n, iteratee, context)</h2><blockquote>
<p>è°ƒç”¨ç»™å®šçš„iterateeè¿­ä»£å‡½æ•°næ¬¡ï¼Œiterateeæ¯æ¬¡éƒ½æ¥æ”¶ä¸€ä¸ªç´¢å¼•å€¼indexï¼Œæœ€åè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜ç€è¿™å‡ æ¬¡iterateeçš„å›è°ƒç»“æœ</p>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> count = <span class="number">0</span></div><div class="line"><span class="keyword">let</span> result = _.times(<span class="number">6</span>, (i) =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(++count)</div><div class="line">  <span class="keyword">return</span> <span class="string">`hello:<span class="subst">$&#123;i&#125;</span>`</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(result) <span class="comment">// ["hello:0", "hello:1", "hello:2", "hello:3", "hello:4", "hello:5"]</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(count) <span class="comment">// 6</span></div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä¼ è¿›å»çš„å‡½æ•°æ‰§è¡Œæ‰§è¡Œäº†6æ¬¡ï¼Œå¹¶å°†å¯¹åº”çš„æ¯æ¬¡æ‰§è¡Œçš„ç»“æœå­˜åœ¨äº†æ•°ç»„ä¸­è¿”å›ã€‚</p>
<h2 id="random-min-max"><a href="#random-min-max" class="headerlink" title="_.random(min, max)"></a>_.random(min, max)</h2><blockquote>
<p>è¿”å›ä¸€ä¸ª[min, max]ä¹‹é—´çš„éšæœºæ•´æ•°ï¼Œå¦‚æœæ²¡æœ‰ä¼ maxï¼Œåˆ™åŒºé—´æ˜¯[0, min]</p>
</blockquote>
<p><strong>ç¤ºä¾‹</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">let num1 = _.random(10, 20) // maybe 13 or other</div><div class="line">let num2 = _.random(10) // maybe 6 or other</div></pre></td></tr></table></figure>
<p><strong>æºç </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">_.random = function(min, max) &#123;</div><div class="line">  if (max == null) &#123; // å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°</div><div class="line">    max = min; // å°±æŠŠç¬¬ä¸€ä¸ªå‚æ•°å½“æœ€å¤§å€¼</div><div class="line">    min = 0; // 0ä½œä¸ºæœ€å°å€¼</div><div class="line">  &#125;</div><div class="line">  return min + Math.floor(Math.random() * (max - min + 1));</div><div class="line">  // è¯•æƒ³æˆ‘ä»¬è¦æ±‚å–[4, 10)ä¹‹é—´çš„æŸä¸ªæ•´æ•°</div><div class="line">  // (min) å°±æ˜¯ä¿è¯æœ€å°å€¼å¯ä»¥å–åˆ°4</div><div class="line">  // (max - min + 1) =&gt; (10 - 4 + 1) =&gt; 7</div><div class="line">  // Math.random() * 7 =&gt; [0, 1) * 7 =&gt; [0, 7)</div><div class="line">  // Math.floor([0, 7)) =&gt; æœ€å°å–0ï¼Œ æœ€å¤§å–6</div><div class="line">  // æœ€åå˜æˆ 4 + [0, 6] =&gt; [4, 10]</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>å½“ç„¶å•¦ï¼Œå¦‚æœä½ ä¼ å…¥éæ•´æ•°ï¼Œæˆ–è€…max &lt; minçš„æ•°ï¼Œé‚£ç»“æœå°±æœ‰å¯èƒ½ä¸èƒ½æŒ‰ç…§é¢„æœŸå‡ºç°äº†</strong></p>
<h2 id="uniqueId-prefix"><a href="#uniqueId-prefix" class="headerlink" title="_.uniqueId(prefix)"></a>_.uniqueId(prefix)</h2><blockquote>
<p>ç”Ÿæˆå”¯ä¸€çš„idï¼Œå¦‚æœprefixä¸å­˜åœ¨åˆ™ç›´æ¥å°†æ•°å­—idè¿”å›ï¼Œè¿™ä¸ªå‡½æ•°åœ¨ç»™domæ·»åŠ å”¯ä¸€çš„idçš„æ—¶å€™æ¯”è¾ƒæœ‰ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">let pre = &apos;qianlongo&apos;</div><div class="line">let id1 = _.uniqueId() // 1</div><div class="line">let id2 = _.uniqueId(pre) // qianlongo2</div></pre></td></tr></table></figure>
<p><strong>æºç </strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var idCounter = 0;</div><div class="line">_.uniqueId = function(prefix) &#123;</div><div class="line">  var id = ++idCounter + &apos;&apos;; // è½¬æˆå­—ç¬¦ä¸²</div><div class="line">  return prefix ? prefix + id : id;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="now"><a href="#now" class="headerlink" title="_.now()"></a>_.now()</h2><blockquote>
<p>ä¸€ä¸ªä¼˜åŒ–çš„æ–¹å¼æ¥è·å¾—ä¸€ä¸ªå½“å‰æ—¶é—´çš„æ•´æ•°æ—¶é—´æˆ³ã€‚</p>
</blockquote>
<p><strong>ç›´æ¥çœ‹æºç </strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.now = Date.now || function() &#123; // å¦‚æœåŸç”Ÿæ”¯æŒnowå°±ç”¨åŸç”Ÿçš„ï¼Œå¦çŸ¥è‡ªå·±å®ç°ä¸€ä¸ª</div><div class="line">  return new Date().getTime();</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>æš‚æ—¶å°±ä»‹ç»è¿™äº›çœ‹èµ·æ¥å¹¶ä¸èµ·çœ¼çš„å·¥å…·å‡½æ•°ï¼Œåœ¨ä»¥åçš„æ–‡ç« å’Œæºç åˆ†æä¸­é‡åˆ°å…¶ä»–çš„ä¼šé™†ç»­æ›´æ–°åˆ°è¿™ç¯‡æ–‡ç« ä¸­æ¥ã€‚å†™ä¸€ç¯‡æ–‡ç« çœŸå¤Ÿè€—è´¹æ—¶é—´çš„ï¼Œé™†é™†ç»­ç»­ç”¨äº†å¥½å‡ ä¸ªå°æ—¶æ‰å†™è¿™ä¹ˆç‚¹ã€‚</p>
</blockquote>
<p><strong>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</strong></p>
<p><strong>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</strong></p>
<p><strong>ä¸ä»‹æ„çš„è¯ï¼Œåœ¨æ–‡ç« å¼€å¤´çš„æºç åœ°å€é‚£é‡Œç‚¹ä¸€ä¸ªå°æ˜Ÿæ˜Ÿå§ğŸ˜€</strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[(void 0)ä¸undefinedä¹‹é—´çš„å°ä¹ä¹]]></title>
      <url>https://qianlongo.github.io/2017/05/08/%E4%B8%8Eundefined%E4%B9%8B%E9%97%B4%E7%9A%84%E5%B0%8F%E4%B9%9D%E4%B9%9D/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="https://github.com/qianlongo/underscore-analysis/issues/4" target="_blank" rel="external">åŸæ–‡é“¾æ¥</a></p>
<p><a href="https://github.com/qianlongo/underscore-analysis" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>è¿™æ˜¯underscore.jsæºç åˆ†æçš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©å†™è¿™ç¯‡æ–‡ç« å‘¢ï¼Ÿå…¶å®ä¸»è¦æœ‰ä¸¤ç‚¹ </p>
</blockquote>
<ol>
<li>ä¸‹åˆ’çº¿æºç ä¸­é€šç¯‡å¯è§è¿™æ ·çš„åˆ¤æ–­<code>obj === void 0</code>,åˆæ¬¡çœ‹è¿™æ ·çš„å†™æ³•å®Œå…¨ä¸çŸ¥é“ä»€ä¹ˆæ„æ€ï¼Œæ‰€ä»¥æƒ³æ•´æ˜ç™½å®ƒã€‚</li>
<li>å†³å®šå†™ä¸€ä¸ªç³»åˆ—æŠŠä¸‹åˆ’çº¿åˆ†æå®Œæ•´ï¼Œå¸Œæœ›ç”±æµ…å…¥æ·±ï¼ŒæŸ¿å­æ¡è½¯çš„æï¼Œå…ˆä»ç®€å•çš„å¼€å§‹å…¥æ‰‹(ğŸ˜€)</li>
</ol>
<p>å†™å®Œè¿™ç¯‡æ–‡ç« å¸Œæœ›è¾¾åˆ°ä»€ä¹ˆæ ·çš„æ•ˆæœå‘¢ï¼Ÿ</p>
<ol>
<li><p><strong>è¯´æ˜ç™½ä¸ºä»€ä¹ˆç”¨(void 0)ä»£æ›¿undefined</strong></p>
</li>
<li><p><strong>(void 0)çš„ä¸€äº›ç®€å•åº”ç”¨</strong></p>
</li>
</ol>
<p><img src="http://odssgnnpf.bkt.clouddn.com/aa36597c9b81cb72.jpg" alt="http://odssgnnpf.bkt.clouddn.com/aa36597c9b81cb72.jpg"></p>
<a id="more"></a>
<h2 id="void-0æ˜¯ä¸ªå•¥"><a href="#void-0æ˜¯ä¸ªå•¥" class="headerlink" title="void 0æ˜¯ä¸ªå•¥"></a>void 0æ˜¯ä¸ªå•¥</h2><blockquote>
<p>void 0æ˜¯ä¸ªå•¥ï¼Œä¸ºæ¯›å®ƒå¯ä»¥ç›´æ¥ä»£æ›¿undefinedå…³é”®å­—æ¥åšåˆ¤æ–­å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" target="_blank" rel="external">mdn</a>ä¸Šçš„è§£é‡Š</p>
</blockquote>
<p>The void operator evaluates the given expression and then returns undefined.</p>
<p><code>void è¿ç®—ç¬¦ å¯¹ç»™å®šçš„è¡¨è¾¾å¼è¿›è¡Œæ±‚å€¼ï¼Œç„¶åè¿”å› undefined</code></p>
<p>å•¥ï¼Ÿå»æ‰§è¡Œäº†ä¸€æ®µè¡¨è¾¾å¼ï¼Œæœ€åå´å¾—åˆ°undefinedï¼Œé‚£è¦æ˜¯è¡¨è¾¾å¼æ‰§è¡Œçš„ç»“æœæ˜¯2ã€3ã€8ã€æ¯›ä¸»å¸­ä¸‡å²ï¼Œä¹Ÿæ˜¯è¿”å›undefinedå—ï¼Ÿç­”æ¡ˆæ˜¯ï¼šå¯¹çš„ã€‚ä»–å°±æ˜¯è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œä¸ç®¡ä½ è¡¨è¾¾å¼é‡Œå†™çš„æ˜¯ä¸ªå•¥ï¼Œæˆ‘æœ€åå°±æ˜¯ç»™ä½ ä¸ªundefinedã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/timg2.jpeg" alt="é»‘äººé—®å·"></p>
<h2 id="undefinedåˆæ˜¯å•¥"><a href="#undefinedåˆæ˜¯å•¥" class="headerlink" title="undefinedåˆæ˜¯å•¥"></a>undefinedåˆæ˜¯å•¥</h2><blockquote>
<p>undefinedæ˜¯jsåŸå§‹ç±»å‹å€¼ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯å…¨å±€å¯¹è±¡windowçš„å±æ€§ï¼Œåœ¨éƒ¨åˆ†ä½çº§åˆ«çš„æµè§ˆå™¨ä¸­å¯ä»¥è¢«ä¿®æ”¹ï¼Œåœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹ã€‚</p>
</blockquote>
<p><strong>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹è¿™ä¸€æ®µæ–­ç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> <span class="literal">undefined</span> = <span class="string">'qianlongo'</span></div><div class="line">alert(<span class="literal">undefined</span>)</div></pre></td></tr></table></figure>
<p>æœ€åconsoleå‡ºæ¥çš„æ˜¯å•¥å‘¢ï¼Ÿ<code>undefined</code> : <code>qianlongo</code>,<br>æ²¡å›¾ä½ è¯´ä¸ªjsï¼Œæ¥ä¸‹æ¥æˆªå–éƒ¨åˆ†æµè§ˆå™¨è¿è¡Œåçš„æˆªå›¾</p>
<p><strong>ie7</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170509-130124.png" alt="ie7"></p>
<p><strong>ie8</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170509-130142.png" alt="ie8"></p>
<p><strong>ie9</strong></p>
<p>æµ‹è¯•ç»“æœä¸ºundefined</p>
<p><strong>ie10</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170509-130504.png" alt="ie10"></p>
<p><strong>chrome</strong></p>
<p>åœ¨æœ€æ–°çš„ç‰ˆæœ¬58.0.3029.81æµ‹è¯•ç»“æœä¸ºundefined</p>
<p><strong>firefox</strong></p>
<p>åœ¨æœ€æ–°çš„ç‰ˆæœ¬52.0.2æµ‹è¯•ç»“æœä¸ºundefined</p>
<p><strong>æ¬§æœ‹æµè§ˆå™¨</strong></p>
<p>åœ¨æœ€æ–°çš„ç‰ˆæœ¬39.0.2256.48æµ‹è¯•ç»“æœä¸ºundefined</p>
<p>ä½ çœ‹ieè€ç‰ˆæœ¬ä¸­å°±æ˜¯é‚£ä¹ˆä»»æ€§ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ä»¥ç›´æ¥æ”¹å†™undefinedï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½ æƒ³çŸ¥é“ä¸€ä¸ªå˜é‡æ˜¯ä¸æ˜¯ç­‰äºundefinedçš„æ—¶å€™ç›´æ¥è¿™æ ·åˆ¤æ–­å·²ç»ä¸å®‰å…¨äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">if</span> (obj === <span class="literal">undefined</span>) &#123;</div><div class="line">  <span class="comment">// xxx</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹ä¸€æ®µjs</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> testUndefined = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> obj = &#123;&#125;</div><div class="line">  <span class="keyword">var</span> <span class="literal">undefined</span> = <span class="string">'underscore'</span></div><div class="line">  <span class="keyword">var</span> <span class="built_in">window</span> = &#123;</div><div class="line">    <span class="string">'undefined'</span>: <span class="string">'qianlongo'</span></div><div class="line">  &#125;</div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">window</span>) <span class="comment">// &#123;'undefined': 'qianlongo'&#125;</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="literal">undefined</span>) <span class="comment">// underscore</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="built_in">window</span>.undefined) <span class="comment">// qianlongo</span></div><div class="line">  <span class="built_in">console</span>.log(obj.name === <span class="literal">undefined</span>) <span class="comment">// false</span></div><div class="line">  <span class="built_in">console</span>.log(obj.name === <span class="built_in">window</span>.undefined) <span class="comment">// false</span></div><div class="line">  <span class="built_in">console</span>.log(obj.name === (<span class="keyword">void</span> <span class="number">0</span>)) <span class="comment">// true</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">testUndefined()</div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥å¾—å‡ºï¼Œwindowï¼Œundefinedæœ¬èº«åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­æ˜¯å¯ä»¥è¢«é‡å†™æ‰çš„</strong>ï¼ŒåŒæ ·çš„é“ç†ï¼Œå¦‚æœä½ åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­åŒæ ·ç”¨ä»¥ä¸‹ä»£ç æ¥åˆ¤æ–­objæ˜¯ä¸æ˜¯undefinedï¼Œæ˜¯æœ‰é£é™©çš„ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (obj === undefined) &#123;</div><div class="line">  // xxx</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ä¸ºå•¥è¦ç”¨void-0æ¥ä»£æ›¿undefined"><a href="#ä¸ºå•¥è¦ç”¨void-0æ¥ä»£æ›¿undefined" class="headerlink" title="ä¸ºå•¥è¦ç”¨void 0æ¥ä»£æ›¿undefined"></a>ä¸ºå•¥è¦ç”¨void 0æ¥ä»£æ›¿undefined</h2><blockquote>
<p>ä¸ºå•¥è¦ç”¨void 0æ¥ä»£æ›¿undefinedï¼ŒåŸºäºä»¥ä¸Šä»‹ç»ï¼ŒåŸå› å°±åœ¨è¿™é‡Œäº†ï¼Œvoid 0æ— è®ºä½•æ—¶ä½•åœ°ï¼Œåé¢è·Ÿäº†ä»€ä¹ˆï¼Œç»“æœéƒ½å¾—åˆ°undefinedï¼Œè¿™æ­£å¥½æ˜¯æˆ‘ä»¬éœ€è¦çš„ã€‚æ‰€ä»¥å°†ä¸Šé¢çš„åˆ¤æ–­æ”¹å†™ä¸€ä¸‹</p>
</blockquote>
<p>å½“ç„¶äº†è¿˜è¦å¦ä¸€ä¸ªåŸå› void 0 æ¯”undefinedçŸ­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (obj === void 0) &#123;</div><div class="line">  // xxx</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="void-0çš„ä¸€äº›å…¶ä»–åº”ç”¨"><a href="#void-0çš„ä¸€äº›å…¶ä»–åº”ç”¨" class="headerlink" title="void 0çš„ä¸€äº›å…¶ä»–åº”ç”¨"></a>void 0çš„ä¸€äº›å…¶ä»–åº”ç”¨</h2><ol>
<li>å¡«å……aæ ‡ç­¾çš„href</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div style="height: 10000px;"&gt;&lt;/div&gt;</div><div class="line">&lt;a href="#"&gt;xxxx&lt;/a&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  console.log('xxxx')</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™æ®µä»£ç ä½¿ç”¨ä¸€ä¸ª#å·æ¥å¡«å……aæ ‡ç­¾çš„hrefå±æ€§ï¼Œè¿™å…¶å®æ˜¯æœ‰ä¸€äº›å¼Šç«¯çš„ï¼Œæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»çš„æ—¶å€™ï¼Œé¡µé¢ä¼šå›åˆ°é¡¶éƒ¨(<strong>ç½‘ä¸Šæœ‰äººè¯´ä¼šåˆ·æ–°é¡µé¢ï¼Œä½†æ˜¯è‡ªå·±è¯•äº†å¥½åƒä¸ä¼š</strong>)ï¼Œè¯•æƒ³æˆ‘å¥½ä¸å®¹æ˜“æ»šå•Šæ»šå•Šæ»šåˆ°xxxxè¿™å‡ ä¸ªæ–‡å­—çš„åœ°æ–¹ï¼Œä¸€ä¸ç•™ç¥æ‰‹è´±ç‚¹äº†ä¸€ä¸‹ï¼Œç¬é—´é¡µé¢åˆå›åˆ°é¡¶éƒ¨äº†ï¼Œæ˜¯ä¸æ˜¯è¦å“­æ­»ğŸ˜­ã€‚</p>
<p>æ‰€ä»¥å¸¸è§çš„è§£å†³æ–¹æ³•æ˜¯</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;div style="height: 10000px;"&gt;&lt;/div&gt;</div><div class="line">&lt;a href="javascript:void(0)"&gt;xxxx&lt;/a&gt;</div><div class="line">&lt;script&gt;</div><div class="line">  console.log('xxxx')</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<ol>
<li><a href="http://stackoverflow.com/questions/5775469/whats-the-valid-way-to-include-an-image-with-no-src" target="_blank" rel="external">Whatâ€™s the valid way to include an image with no src?</a>,åœ¨è¿™ä¸ªé—®é¢˜ä¸­æåˆ°ç”¨void 0å»æ›¿ä»£imageæ ‡ç­¾çš„ç©ºsrcå±æ€§ä¼šå‡å°‘é¡µé¢è¯·æ±‚(æ˜¯å¦å±å®æœ‰å¾…è€ƒè¯)</li>
</ol>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>ç¬¬ä¸€ç¯‡æš‚æ—¶å†™å®Œäº†ï¼Œæ¬¢è¿å¤§å®¶åæ§½å’Œææ„è§ã€‚</p>
</blockquote>
<p>å‚è€ƒæ–‡ç« é“¾æ¥ï¼š</p>
<p><a href="http://stackoverflow.com/questions/7452341/what-does-void-0-mean" target="_blank" rel="external">What does â€œjavascript:void(0)â€ mean?</a></p>
<p><a href="http://stackoverflow.com/questions/4806286/difference-between-void-0-and-undefined" target="_blank" rel="external">difference between â€œvoid 0 â€ and â€œundefinedâ€</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/void" target="_blank" rel="external">void operator</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç”¨åŸç”Ÿjså†™ä¸€ä¸ªå¤šåŠ¨ç—‡çš„ç®€å†]]></title>
      <url>https://qianlongo.github.io/2017/05/03/%E7%94%A8%E5%8E%9F%E7%94%9Fjs%E5%86%99%E4%B8%80%E4%B8%AA%E5%A4%9A%E5%8A%A8%E7%97%87%E7%9A%84%E7%AE%80%E5%8E%86/</url>
      <content type="html"><![CDATA[<h2 id="ç”¨åŸç”Ÿjså†™ä¸€ä¸ªâ€å¤šåŠ¨ç—‡â€çš„ç®€å†"><a href="#ç”¨åŸç”Ÿjså†™ä¸€ä¸ªâ€å¤šåŠ¨ç—‡â€çš„ç®€å†" class="headerlink" title="ç”¨åŸç”Ÿjså†™ä¸€ä¸ªâ€å¤šåŠ¨ç—‡â€çš„ç®€å†"></a>ç”¨åŸç”Ÿjså†™ä¸€ä¸ªâ€å¤šåŠ¨ç—‡â€çš„ç®€å†</h2><p><a href="https://qianlongo.github.io/resume-native/dist/">é¢„è§ˆåœ°å€</a><br><a href="https://github.com/qianlongo/resume-native" target="_blank" rel="external">æºç åœ°å€</a></p>
<blockquote>
<p>æœ€è¿‘åœ¨çŸ¥ä¹ä¸Šçœ‹åˆ°@æ–¹åº”æ­ç”¨vueå†™äº†ä¸€ä¸ª<a href="https://zhuanlan.zhihu.com/p/25541520" target="_blank" rel="external">ä¼šåŠ¨çš„ç®€å†</a>ï¼Œè§‰å¾—æŒºå¥½ç©çš„ï¼Œç ”ç©¶ä¸€ä¸‹å…¶å®ç°æ€è·¯ï¼Œå†³å®šè¯•è¯•ç”¨åŸç”Ÿjsæ¥å®ç°ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/160529jhf0hrzhffcl8jh4.jpg" alt="http://odssgnnpf.bkt.clouddn.com/return.gif"></p>
<a id="more"></a>
<h2 id="ä¼šåŠ¨çš„ç®€å†å®ç°æ€è·¯"><a href="#ä¼šåŠ¨çš„ç®€å†å®ç°æ€è·¯" class="headerlink" title="ä¼šåŠ¨çš„ç®€å†å®ç°æ€è·¯"></a>ä¼šåŠ¨çš„ç®€å†å®ç°æ€è·¯</h2><blockquote>
<p>è¿™å¼ ä¼š<code>åŠ¨</code>çš„ç®€å†ï¼Œå°±å¥½åƒä¸€ä¸ªæ‰“å­—å‘˜åœ¨ä¸æ–­åœ°å½•å…¥æ–‡å­—ï¼Œé¡µé¢å‘ˆç°åŠ¨æ€æ•ˆæœã€‚åˆå¥½åƒä¸€ä¸ªæ—©å·²ç»å½•åˆ¶å¥½å½±ç‰‡ï¼Œè€Œæˆ‘ä»¬åªæ˜¯ååœ¨æ”¾æ˜ æœºå‰è§‚çœ‹ã€‚</p>
</blockquote>
<p><strong>åŸç†åˆ†ä¸¤ä¸ªéƒ¨åˆ†</strong></p>
<ol>
<li>é¡µé¢èƒ½çœ‹è§çš„ä¸æ–­è·³åŠ¨ç€çš„å¢åŠ çš„æ–‡å­—ï¼Œç”±innerHTMLæ§åˆ¶</li>
<li>é¡µé¢çš„å¸ƒå±€æ•ˆæœç”±è—åœ¨â€èƒŒåçš„â€<code>style</code>æ ‡ç­¾å®Œæˆ</li>
</ol>
<p><strong>æƒ³è±¡ä¸€ä¸‹ä½ è¦å¾€ä¸€å¼ ç½‘é¡µæ¯é—´éš”0.1ç§’å¢åŠ ä¸€ä¸ª<code>å•Š</code>å­—ï¼Œæ˜¯ä¸æ˜¯å¼€ä¸ªå®šæ—¶å™¨ï¼Œé—´æ–­åœ°å¾€bodyé‡Œé¢å¡<code>å•Š</code>ï¼Œå°±å¯ä»¥å•Šï¼æ²¡é”™ï¼Œåšåˆ°è¿™ä¸€æ­¥å°±å®Œæˆäº†åŸç†çš„ç¬¬ä¸€éƒ¨åˆ†</strong></p>
<p><strong>å†æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨å¾€é¡µé¢é‡Œé¢å¡<code>å•Š</code>çš„æ—¶å€™ï¼Œæˆ‘è¿˜æƒ³æ”¹å˜å•Šå­—çš„å­—ä½“é¢œè‰²ä»¥åŠç½‘é¡µèƒŒæ™¯é¢œè‰²ï¼Œé‚£åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Œæ˜¯ä¸æ˜¯æ‰§è¡Œä¸‹é¢çš„ä»£ç å°±å¯ä»¥å‘¢ï¼Œæ²¡é”™ï¼Œåªä¸è¿‡æ›´æ”¹å­—ä½“å’ŒèƒŒæ™¯è‰²ä¸æ˜¯çªç„¶æ”¹å˜çš„ï¼Œè€Œæ˜¯ä¹Ÿæ˜¯å¼€ä¸ªå®šæ—¶å™¨ï¼Œé—´æ–­åœ°å¾€<code>style</code>æ ‡ç­¾ä¸­å¡å…¥ä»¥ä¸‹ä»£ç ï¼Œè¿™æ ·å°±å®Œæˆäº†åŸç†çš„ç¬¬äºŒæ­¥ï¼Œæ˜¯ä¸æ˜¯å¥½ç®€å• ğŸ˜€ğŸ˜€ğŸ˜€ï¼Œ æ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€æ­¥æ­¥å®Œæˆå®ƒ</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.xxx&#123;</div><div class="line">  color: blue;</div><div class="line">  background: red; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="é¡¹ç›®æ­å»º"><a href="#é¡¹ç›®æ­å»º" class="headerlink" title="é¡¹ç›®æ­å»º"></a>é¡¹ç›®æ­å»º</h2><blockquote>
<p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­æˆ‘ä»¬</p>
</blockquote>
<ol>
<li>ä½¿ç”¨webpack2æ¥å®Œæˆé¡¹ç›®çš„æ„å»º</li>
<li>ä½¿ç”¨yarnæ¥å¤„ç†ä¾èµ–åŒ…çš„ç®¡ç†</li>
<li>ä½¿ç”¨es6çš„å†™æ³•</li>
<li>ä½¿ç”¨éƒ¨åˆ†åŸç”Ÿdomæ“ä½œapi</li>
<li>standard.js(ä»£ç é£æ ¼çº¦æŸåˆ©å™¨)</li>
</ol>
<p>ç›®å½•ç»“æ„å¦‚ä¸‹</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170503-013138@2x.png" alt="ç›®å½•ç»“æ„"></p>
<p>æœ€é‡è¦çš„å‡ ä¸ªæ¨¡å—åˆ†åˆ«æ˜¯<code>resumeEditor(ç®€å†ç¼–è¾‘æ¨¡å—)</code> ã€ <code>stylesEditor(ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—)</code> ã€ <code>ä»¥åŠvQuery(å°è£…çš„domæ“ä½œæ¨¡å—)</code><br>æœ€å<code>app.js(å…¥å£æ¨¡å—)</code>å†å°†å‡ ä¸ªæ¨¡å—çš„åŠŸèƒ½ç»“åˆèµ·æ¥å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚</p>
<h2 id="vQuery-å°è£…çš„domæ“ä½œæ¨¡å—"><a href="#vQuery-å°è£…çš„domæ“ä½œæ¨¡å—" class="headerlink" title="vQuery(å°è£…çš„domæ“ä½œæ¨¡å—)"></a>vQuery(å°è£…çš„domæ“ä½œæ¨¡å—)</h2><blockquote>
<p>å› ä¸ºåé¢çš„å‡ ä¸ªæ¨¡å—éƒ½è¦ä¾èµ–è¿™ä¸ªå°æ¨¡å—ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆç®€å•çš„çœ‹ä¸‹ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vquery</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span> (selector, context) &#123;</div><div class="line">    <span class="keyword">this</span>.elements = getEles(selector, context)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  optimizeCb (callback) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  get (index) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  html (sHtml) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  addClass (iClass) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  css (styles) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  height (h) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  scrollTop (top) &#123;</div><div class="line">    ...</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> (selector, context) =&gt; &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Vquery(selector, context)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹å‡ºå®ƒåšçš„äº‹å°±æ˜¯å°è£…ä¸€ä¸ªæ„é€ å‡½æ•°Vqueryï¼Œå®ƒçš„å®ä¾‹ä¼šæœ‰ä¸€äº›ç®€å•çš„domæ“ä½œæ–¹æ³•ï¼Œæœ€åä¸ºäº†èƒ½å¤ŸåƒjQueryé‚£æ ·ä½¿ç”¨$().funcNameçš„å½¢å¼å»ä½¿ç”¨ï¼Œæˆ‘ä»¬å¯¼å‡ºäº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œåœ¨åŒ¿åå‡½æ•°ä¸­å»new Vquery</strong></p>
<h3 id="stylesEditor-ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—"><a href="#stylesEditor-ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—" class="headerlink" title="stylesEditor(ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—)"></a>stylesEditor(ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—)</h3><blockquote>
<p>ç®€å†æ‰€å±•ç°çš„å¸ƒå±€æ•ˆæœéƒ½æ˜¯ç”±è¿™ä¸ªæ¨¡å—å®Œæˆçš„,æ ¸å¿ƒæ–¹æ³•æ˜¯showStylesã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> showStyles = <span class="function">(<span class="params">num, callback</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">let</span> style = styles[num]</div><div class="line">  <span class="keyword">let</span> length</div><div class="line">  <span class="keyword">let</span> prevLength</div><div class="line"></div><div class="line">  <span class="keyword">if</span> (!style) &#123;</div><div class="line">    <span class="keyword">return</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  length = styles.filter(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123; <span class="comment">// è®¡ç®—æ•°ç»„styleså‰nä¸ªå…ƒç´ çš„é•¿åº¦</span></div><div class="line">    <span class="keyword">return</span> i &lt;= num</div><div class="line">  &#125;).reduce(<span class="function">(<span class="params">result, item</span>) =&gt;</span> &#123;</div><div class="line">    result += item.length</div><div class="line">    <span class="keyword">return</span> result</div><div class="line">  &#125;, <span class="number">0</span>)</div><div class="line"></div><div class="line">  prevLength = length - style.length</div><div class="line"></div><div class="line">  clearInterval(timer)</div><div class="line">  timer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="keyword">let</span> start = currentStyle.length - prevLength</div><div class="line">    <span class="keyword">let</span> char = style.substring(start, start + <span class="number">1</span>) || <span class="string">''</span></div><div class="line">    currentStyle += char</div><div class="line">    <span class="keyword">if</span> (currentStyle.length === length) &#123; <span class="comment">// æ•°ç»„styleså‰nä¸ªå…ƒç´ å·²ç»å…¨éƒ¨å¡å…¥ï¼Œåˆ™å…³é—­å®šæ—¶å™¨ï¼Œå¹¶ä¸”æ‰§è¡Œå¤–é¢ä¼ è¿›æ¥çš„å›è°ƒï¼Œè¿›è€Œæ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œ</span></div><div class="line">      clearInterval(timer)</div><div class="line">      callback &amp;&amp; callback()</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">let</span> top = $stylePre.height() - MAX_HEIGHT</div><div class="line">      <span class="keyword">if</span> (top &gt; <span class="number">0</span>) &#123; <span class="comment">// å½“å¡å…¥çš„å†…å®¹å·²ç»è¶…è¿‡äº†å®¹å™¨çš„é«˜åº¦ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹æ»šåŠ¨è·ç¦»æ‰æ–¹ä¾¿æ¼”ç¤ºæ¥ä¸‹æ¥çš„å†…å®¹</span></div><div class="line">        goBottom(top)</div><div class="line">      &#125;</div><div class="line">      $style.html(currentStyle)</div><div class="line">      $stylePre.html(Prism.highlight(currentStyle, Prism.languages.css))</div><div class="line">    &#125;</div><div class="line">  &#125;, delay)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="stylesEditor-ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—-1"><a href="#stylesEditor-ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—-1" class="headerlink" title="stylesEditor(ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—)"></a>stylesEditor(ç®€å†æ ·å¼ç¼–è¾‘æ¨¡å—)</h2><blockquote>
<p>ç®€å†ç¼–è¾‘æ¨¡å—ç”¨æ¥å±•ç¤ºç®€å†å†…å®¹ï¼Œä¸»è¦ä¼šç»å†ç”±markdownæ ¼å¼å¾€htmlé¡µé¢å½¢å¼çš„è½¬æ¢ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">const markdownToHtml = (callback) =&gt; &#123;</div><div class="line">  $resumeMarkdown.css(&#123;</div><div class="line">    display: &apos;none&apos;</div><div class="line">  &#125;)</div><div class="line">  $resumeWrap.addClass(iClass)</div><div class="line">  $resumetag.html(marked(resumeMarkdown)) // å€ŸåŠ©markedå·¥å…·å°†markdownè½¬åŒ–ä¸ºhtml</div><div class="line">  callback &amp;&amp; callback() // æ‰§è¡Œåç»­çš„å›è°ƒ</div><div class="line">&#125;</div><div class="line"></div><div class="line">const showResume = (callback) =&gt; &#123; // åŸç†åŸºæœ¬ä¸ŠåŒstylesEditorï¼Œ ä¸æ–­åœ°å¾€ç®€å†ç¼–è¾‘çš„å®¹å™¨ä¸­å¡å…¥äº‹å…ˆå‡†å¤‡å¥½çš„ç®€å†å†…å®¹ï¼Œå½“å…¨éƒ¨å¡å…¥çš„æ—¶å€™å†å…³é—­å®šæ—¶å™¨ï¼Œå¹¶æ‰§è¡Œåç»­çš„å›è°ƒæ“ä½œ</div><div class="line">  clearInterval(timer)</div><div class="line">  timer = setInterval(() =&gt; &#123;</div><div class="line">    currentMarkdown += resumeMarkdown.substring(start, start + 1)</div><div class="line">    if (currentMarkdown.length === length) &#123;</div><div class="line">      clearInterval(timer)</div><div class="line">      callback &amp;&amp; callback()</div><div class="line">    &#125; else &#123;</div><div class="line">      $resumeMarkdown.html(currentMarkdown)</div><div class="line">      start++</div><div class="line">    &#125;</div><div class="line">  &#125;, delay)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="app-å…¥å£æ¨¡å—"><a href="#app-å…¥å£æ¨¡å—" class="headerlink" title="app(å…¥å£æ¨¡å—)"></a>app(å…¥å£æ¨¡å—)</h2><blockquote>
<p>æœ€åç”±appå…¥å£æ¨¡å—å°†ä»¥ä¸Šå‡ ä¸ªæ¨¡å—æ•´åˆå®Œæˆé¡¹ç›®çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ‰¾å‡ºå…¶ä¸­çš„æ ¸å¿ƒä»£ç æ¥, ğŸ˜€ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¼ è¯´ä¸­çš„å›è°ƒåœ°ç‹±ï¼Œäº®çäº†æˆ‘çš„ç‹—çœ¼å•Šã€‚æƒ³å¿…å¤§å®¶å’Œæˆ‘ä¸€æ ·éƒ½æ˜¯ä¸æ„¿æ„çœ‹åˆ°è¿™å¨æ¶å¿ƒçš„ä»£ç çš„ï¼Œä½†å¯¹äºå¤„ç†å¼‚æ­¥é—®é¢˜ï¼Œå›è°ƒåˆçš„ç¡®æ˜¯ä¸€ç›´ä»¥æ¥çš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
</blockquote>
<p><strong>å› ä¸ºå®šæ—¶å™¨çš„æ“ä½œæ˜¯å¼‚æ­¥è¡Œä¸ºï¼Œè€Œæˆ‘ä»¬çš„ç®€å†ç”Ÿæˆè¿‡ç¨‹ä¼šæ¶‰åŠåˆ°å¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸ºäº†çœ‹åˆ°å¦‚é¦–é¡µé¢„è§ˆé“¾æ¥çš„æ•ˆæœï¼Œå¿…é¡»ç­‰å‰ä¸€ä¸ªæ­¥éª¤å®Œæˆä¹‹åï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ­¥æ­¥éª¤ï¼Œè¿™é‡Œé¦–å…ˆä½¿ç”¨çš„å›è°ƒå‡½æ•°çš„è§£å†³æ–¹æ¡ˆï¼Œå¤§å®¶å¯ä»¥ä»githubä¸Šæ‹‰å–ä»£ç ï¼Œåˆ†åˆ«åˆ‡æ¢ä»¥ä¸‹å‡ ä¸ªåˆ†æ”¯æ¥æŸ¥çœ‹ä¸åŒçš„è§£å†³æ–¹æ¡ˆ</strong></p>
<ol>
<li>master(ä½¿ç”¨å›è°ƒå‡½æ•°å¤„ç†)</li>
<li>promise(ä½¿ç”¨promiseå¤„ç†)</li>
<li>generator-thunk(ä½¿ç”¨generator + thunkå‡½æ•°å¤„ç†)</li>
<li>generator-promise(ä½¿ç”¨generator + promiseå¤„ç†)</li>
<li>async(ä½¿ç”¨asyncå¤„ç†)</li>
</ol>
<p><img src="http://odssgnnpf.bkt.clouddn.com/400-5.jpg" alt=""></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">showStyles(<span class="number">0</span>, () =&gt; &#123;</div><div class="line">  showResume(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    showStyles(<span class="number">1</span>, () =&gt; &#123;</div><div class="line">      markdownToHtml(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        showStyles(<span class="number">2</span>)</div><div class="line">      &#125;)</div><div class="line">    &#125;)</div><div class="line">  &#125;)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="è§£å†³å›è°ƒåœ°ç‹±ä¹‹promise"><a href="#è§£å†³å›è°ƒåœ°ç‹±ä¹‹promise" class="headerlink" title="è§£å†³å›è°ƒåœ°ç‹±ä¹‹promise"></a>è§£å†³å›è°ƒåœ°ç‹±ä¹‹promise</h2><blockquote>
<p>å›è°ƒæ–¹å¼èƒ½å¤Ÿè§£å†³å¼‚æ­¥æ“ä½œé—®é¢˜ï¼Œä½†æ˜¯ä»£ç å†™èµ·æ¥éå¸¸çš„ä¸ç¾è§‚ï¼Œå¯è¯»æ€§å·®ï¼Œä»£ç å‘ˆæ¨ªå‘å‘å±•è¶‹åŠ¿â€¦ä¼Ÿå¤§çš„ç¨‹åºå‘˜ä»¬å¼€ç–†æ‰©åœŸå‘æ˜äº†promiseçš„è§£å†³æ–¹æ¡ˆã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹promiseåˆ†æ”¯ä¸­appæ¨¡å—æœ€ç»ˆçš„å†™æ³•</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">showStylesWrap(<span class="number">0</span>)</div><div class="line">  .then(showResumeWrap)</div><div class="line">  .then(showStylesWrap.bind(<span class="literal">null</span>, <span class="number">1</span>))</div><div class="line">  .then(markdownToHtmlWrap)</div><div class="line">  .then(showStylesWrap.bind(<span class="literal">null</span>, <span class="number">2</span>))</div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹åˆ°ï¼Œä»£ç æ¸…çˆ½äº†å¾ˆå¤šï¼Œçºµå‘å‘å±•ï¼Œåº”ç”¨ç¬¬ä¸€æ­¥ç¬¬äºŒæ­¥ç¬¬ä¸‰æ­¥â€¦ä¸€çœ¼å°±èƒ½å¤Ÿçœ‹å‡ºæ¥ï¼Œå½“ç„¶å®ç°çš„é€»è¾‘æ˜¯å°†åŸæ¥çš„ç›¸å…³çš„æ¨¡å—ç”¨PromiseåŒ…è£…èµ·æ¥ï¼Œå¹¶ä¸”åœ¨åŸæ¥å›è°ƒå‡½æ•°æ‰§è¡Œçš„åœ°æ–¹resolveå³å¯ï¼Œè¯¦ç»†å®ç°ï¼Œæ¬¢è¿æŸ¥çœ‹é¡¹ç›®æºç </strong></p>
<h2 id="è§£å†³å›è°ƒåœ°ç‹±ä¹‹generator-thunkï¼Œgenerator-promise"><a href="#è§£å†³å›è°ƒåœ°ç‹±ä¹‹generator-thunkï¼Œgenerator-promise" class="headerlink" title="è§£å†³å›è°ƒåœ°ç‹±ä¹‹generator-thunkï¼Œgenerator-promise"></a>è§£å†³å›è°ƒåœ°ç‹±ä¹‹generator-thunkï¼Œgenerator-promise</h2><blockquote>
<p>ä¸¤ç§æ–¹å¼æ¯”è¾ƒç±»ä¼¼ï¼Œéƒ½è¦ç”¨åˆ°es6ä¸­çš„generatorã€‚å…³äºä»€ä¹ˆæ˜¯generatorï¼Œthunkå‡½æ•°ï¼Œå¯ä»¥æŸ¥çœ‹è½¯å¤§ç¥å…³äº<a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">ECMAScript 6 å…¥é—¨</a>,è¿™é‡Œç®€è¦åœ°è®²è¿°ä¸€ä¸‹ï¼Œå…¶å¦‚ä½•å¤„ç†å¼‚æ­¥æ“ä½œé—®é¢˜ä½¿å¾—å¯ä»¥å°†å¼‚æ­¥è¡Œä¸ºå†™èµ·æ¥å¦‚åŒæ­¥èˆ¬çˆ½ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut1</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1111</span>)</div><div class="line">     g.next()</div><div class="line">  &#125;, <span class="number">1000</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut2</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2222</span>)</div><div class="line">  &#125;, <span class="number">200</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> timeOut1()</div><div class="line">  <span class="keyword">yield</span> timeOut2()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> g = gen()</div><div class="line">g.next()</div></pre></td></tr></table></figure>
<p><strong>ä¸Šé¢çš„ä»£ç åœ¨è¿‡äº†200æ¯«ç§’ä¼šlogå‡º2222ï¼Œè¿‡äº†1ç§’é’Ÿä¹‹ålogå‡º1111</strong></p>
<p>è¿™ï¼Œè¦ğŸ˜­äº†ï¼Œä½ ä¸æ˜¯è¯´generatorå†™èµ·æ¥åŒæ­¥å¯ä»¥è§£å†³å¼‚æ­¥é—®é¢˜å—ï¼Œä¸ºæ¯›è¿™é‡ŒtimeOut2æ²¡æœ‰åœ¨timeOut1ä¹‹åæ‰§è¡Œå‘¢ï¼Œæ¯•ç«Ÿgenå‡½æ•°ä¸­çœ‹èµ·æ¥æ˜¯å¸Œæœ›è¿™æ ·çš„å˜›ã€‚</p>
<p>å…¶å®ä¸ç„¶ï¼ŒtimeOut2å•¥æ—¶å€™æ‰§è¡Œå–å†³äº</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">g.next()</div><div class="line">g.next()</div><div class="line"></div><div class="line"><span class="string">``</span><span class="string">` </span></div><div class="line">è¯•æƒ³ä¸¤ä¸ªå‡½æ•°å‡ ä¹åŒæ—¶æ‰§è¡Œï¼Œé‚£åœ¨å®šæ—¶å™¨ä¸­å½“ç„¶æ˜¯200æ¯«ç§’åçš„timeOut2å…ˆæ‰“å°å‡º2222æ¥ï¼Œä½†æ˜¯æœ‰æ²¡æœ‰åŠæ³•ï¼Œè®©timeOut2åœ¨timeOut1åæ‰§è¡Œå‘¢ï¼Ÿç­”æ¡ˆæ˜¯æœ‰çš„</div><div class="line"></div><div class="line">`<span class="string">``</span> javascript</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut1</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">1111</span>)</div><div class="line">  &#125;, <span class="number">1000</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut2</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="number">2222</span>)</div><div class="line">  &#125;, <span class="number">200</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> * <span class="title">gen</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> timeOut1()</div><div class="line">  <span class="keyword">yield</span> timeOut2()</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> g = gen()</div><div class="line">g.next()</div><div class="line">g.next()</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨timeOut1æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†å°†æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå³timeOut2å†å»æ‰§è¡Œï¼Œè¿™æ ·çš„ç»“æœå°±å’Œgenå‡½æ•°ä¸­ä¸¤ä¸ªyieldçš„å†™èµ·æ¥åŒæ­¥æ„Ÿè§‰ä¸€æ ·äº†ã€‚ä½†æ˜¯å«æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ¶‰åŠåˆ°å¾ˆå¤šä¸ªå¼‚æ­¥æ“ä½œï¼Œæˆ‘ä»¬æ˜¯å¾ˆéš¾é€šè¿‡ä¸Šé¢çš„æ–¹å¼å°†å¼‚æ­¥æµç¨‹ç®¡ç†èµ·æ¥çš„ã€‚äºæ˜¯æˆ‘ä»¬éœ€è¦åšä¸‹é¢ä¸€ä»¶äº‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">co</span> (<span class="params">fn</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> gen = fn();</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = gen.next(data);</div><div class="line">    <span class="keyword">if</span> (result.done) <span class="keyword">return</span>;</div><div class="line">    result.value(next); <span class="comment">// thunkå’Œpromiseä¸åŒåœ°æ–¹ä¹‹ä¸€åœ¨è¿™é‡Œï¼Œ promiseæ˜¯result.value.then(next)</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  next();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å†…éƒ¨çš„nextå‡½æ•°å°±æ˜¯ thunk çš„å›è°ƒå‡½æ•°ã€‚nextå‡½æ•°å…ˆå°†æŒ‡é’ˆç§»åˆ° generator å‡½æ•°çš„ä¸‹ä¸€æ­¥ï¼ˆgen.nextæ–¹æ³•ï¼‰ï¼Œç„¶ååˆ¤æ–­ generator å‡½æ•°æ˜¯å¦ç»“æŸï¼ˆresult.doneå±æ€§ï¼‰ï¼Œå¦‚æœæ²¡ç»“æŸï¼Œå°±å°†nextå‡½æ•°å†ä¼ å…¥ thunk å‡½æ•°ï¼ˆresult.valueå±æ€§ï¼‰ï¼Œå¦åˆ™å°±ç›´æ¥é€€å‡ºã€‚</p>
<p><strong>æœ€åæˆ‘ä»¬åœ¨çœ‹ä¸€ä¸‹é€šè¿‡coå‡½æ•°çš„å†™æ³•å®Œæˆä¸Šé¢çš„ä¾‹å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">callback</span>) =&gt;</span> &#123;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="number">1111</span>)</div><div class="line">      callback()</div><div class="line">    &#125;, <span class="number">1000</span>)</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeOut2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">callback</span>) =&gt;</span> &#123;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="number">2222</span>)</div><div class="line">      callback()</div><div class="line">    &#125;, <span class="number">200</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">co</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> gen = fn();</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">next</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = gen.next(data);</div><div class="line">    <span class="keyword">if</span> (result.done) <span class="keyword">return</span>;</div><div class="line">    result.value(next); <span class="comment">// thunkå’Œpromiseä¸åŒåœ°æ–¹ä¹‹ä¸€åœ¨è¿™é‡Œï¼Œ promiseæ˜¯result.value.then(next)</span></div><div class="line">  &#125;</div><div class="line"></div><div class="line">  next();</div><div class="line">&#125;</div><div class="line"></div><div class="line">co(<span class="function"><span class="keyword">function</span> * (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> timeOut1()</div><div class="line">  <span class="keyword">yield</span> timeOut2()</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="è§£å†³å›è°ƒåœ°ç‹±ä¹‹async"><a href="#è§£å†³å›è°ƒåœ°ç‹±ä¹‹async" class="headerlink" title="è§£å†³å›è°ƒåœ°ç‹±ä¹‹async"></a>è§£å†³å›è°ƒåœ°ç‹±ä¹‹async</h2><blockquote>
<p>asyncå…¶å®å°±æ˜¯generatorå‡½æ•°çš„è¯­æ³•ç³–ã€‚å¤§å®¶å¦‚æœæŠŠgeneratorå¼„æ˜ç™½äº†ï¼Œä½¿ç”¨å®ƒä¸€å®šä¸å†è¯ä¸‹ï¼Œå…³äºè¿™ä¸ªé¡¹ç›®çš„ç”¨æ³•ï¼Œæ¬¢è¿æŸ¥çœ‹asyncåˆ†æ”¯æºä»£ç ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚</p>
</blockquote>
<h2 id="å°¾è¿°"><a href="#å°¾è¿°" class="headerlink" title="å°¾è¿°"></a>å°¾è¿°</h2><blockquote>
<p>æœ¬æ–‡ä¸­å¯èƒ½å­˜åœ¨é˜è¿°ä¸å½“çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚ğŸ˜€ğŸ˜€ğŸ˜€ï¼Œæœ€åç‚¹ä¸ªèµï¼Œç‚¹ä¸ªstarå¥½ä¸å¥½å‘€ã€‚<br><a href="https://github.com/qianlongo/resume-native" target="_blank" rel="external">æºç åœ°å€</a></p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[æ·±å…¥æµ…å‡ºES6ï¼ˆäºŒï¼‰ï¼šè¿­ä»£å™¨å’Œfor-ofå¾ªç¯]]></title>
      <url>https://qianlongo.github.io/2017/04/24/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAES6%EF%BC%88%E4%BA%8C%EF%BC%89%EF%BC%9A%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%92%8Cfor-of%E5%BE%AA%E7%8E%AF/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><a href="http://www.infoq.com/cn/es6-in-depth/" target="_blank" rel="external">åŸæ–‡çº¿ä¸Šåœ°å€</a></p>
<blockquote>
<p>æœ€è¿‘ç»å¸¸å»å¬é—¨æˆ·çš„å°ä¼™ä¼´çš„åˆ†äº«ï¼Œéå¸¸çš„å®ç”¨ï¼Œå†…å®¹å±å¹²è´§ä¸€ç±»ï¼Œéƒ½æ˜¯å®é™…å·¥ä½œä¸­æ€»ç»“å‡ºæ¥çš„ä¸œè¥¿ï¼Œå¾ˆå€¼å¾—å­¦ä¹ ã€‚å…¶ä¸­æœ‰å°ä¼™ä¼´æ¨èä¸€æœ¬es6æ·±å…¥æµ…å‡ºçš„ä¹¦ï¼Œçœ‹åè§‰å¾—ä¸é”™ï¼Œç°å°†ç›¸åº”çš„ç¬”è®°è®°å½•ä¸‹æ¥ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/timg.jpeg" alt="es6"></p>
<a id="more"></a>
<h2 id="ä»è¿­ä»£å’Œå¾ªç¯è¯´èµ·"><a href="#ä»è¿­ä»£å’Œå¾ªç¯è¯´èµ·" class="headerlink" title="ä»è¿­ä»£å’Œå¾ªç¯è¯´èµ·"></a>ä»è¿­ä»£å’Œå¾ªç¯è¯´èµ·</h2><blockquote>
<p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨å¦‚ä¸‹çš„ä»£ç æ¥è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">0</span>; index &lt; myArray.length; index++) &#123;</div><div class="line">  <span class="built_in">console</span>.log(myArray[index]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>æœ‰ä¸€å¤©es5ã€es6æ¥ä¸´åï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">myArray.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(value);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æœ‰æœ¨æœ‰è§‰å¾—è¿™ç§å†™æ³•ç®€æ´äº†è®¸å¤šï¼Œçˆ½äº†è®¸å¤šï¼Œå†ä¹Ÿä¸ç”¨å†™è¯¥æ­»çš„å¾ªç¯äº†</p>
<p><strong>ä½†æ˜¯ä½ ä¸èƒ½ä½¿ç”¨breakè¯­å¥ä¸­æ–­å¾ªç¯ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨returnè¯­å¥è¿”å›åˆ°å¤–å±‚å‡½æ•°ã€‚</strong></p>
<p><strong>ä½†æ˜¯ä½ ä¸èƒ½ä½¿ç”¨breakè¯­å¥ä¸­æ–­å¾ªç¯ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨returnè¯­å¥è¿”å›åˆ°å¤–å±‚å‡½æ•°ã€‚</strong></p>
<p><strong>ä½†æ˜¯ä½ ä¸èƒ½ä½¿ç”¨breakè¯­å¥ä¸­æ–­å¾ªç¯ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨returnè¯­å¥è¿”å›åˆ°å¤–å±‚å‡½æ•°ã€‚</strong></p>
<p>é‡è¦çš„è¯è¯´ä¸‰é</p>
<h2 id="ä¸è¦ç”¨for-inå»éå†æ•°ç»„"><a href="#ä¸è¦ç”¨for-inå»éå†æ•°ç»„" class="headerlink" title="ä¸è¦ç”¨for inå»éå†æ•°ç»„"></a>ä¸è¦ç”¨<code>for in</code>å»éå†æ•°ç»„</h2><ol>
<li><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œèµ‹ç»™indexçš„å€¼ä¸æ˜¯å®é™…çš„æ•°å­—ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²â€œ0â€ã€â€œ1â€ã€â€œ2â€ï¼Œæ­¤æ—¶å¾ˆå¯èƒ½åœ¨æ— æ„ä¹‹é—´è¿›è¡Œå­—ç¬¦ä¸²ç®—æ•°è®¡ç®—ï¼Œä¾‹å¦‚ï¼šâ€œ2â€ + 1 == â€œ21â€ï¼Œè¿™ç»™ç¼–ç è¿‡ç¨‹å¸¦æ¥æå¤§çš„ä¸ä¾¿ã€‚</p>
</li>
<li><p>ä½œç”¨äºæ•°ç»„çš„for-inå¾ªç¯ä½“é™¤äº†éå†æ•°ç»„å…ƒç´ å¤–ï¼Œè¿˜ä¼šéå†è‡ªå®šä¹‰å±æ€§ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ çš„æ•°ç»„ä¸­æœ‰ä¸€ä¸ªå¯æšä¸¾å±æ€§myArray.nameï¼Œå¾ªç¯å°†é¢å¤–æ‰§è¡Œä¸€æ¬¡ï¼Œéå†åˆ°åä¸ºâ€œnameâ€çš„ç´¢å¼•ã€‚å°±è¿æ•°ç»„åŸå‹é“¾ä¸Šçš„å±æ€§éƒ½èƒ½è¢«è®¿é—®åˆ°ã€‚</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line">  arr.sex = <span class="string">'boy'</span></div><div class="line">	 </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> arr) &#123;</div><div class="line">  <span class="built_in">console</span>.log(arr[key]) <span class="comment">// 1, 2, 3, 4, boy</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>æœ€è®©äººéœ‡æƒŠçš„æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™æ®µä»£ç å¯èƒ½æŒ‰ç…§éšæœºé¡ºåºéå†æ•°ç»„å…ƒç´ ã€‚</li>
<li>ç®€è€Œè¨€ä¹‹ï¼Œfor-inæ˜¯ä¸ºæ™®é€šå¯¹è±¡è®¾è®¡çš„ï¼Œä½ å¯ä»¥éå†å¾—åˆ°å­—ç¬¦ä¸²ç±»å‹çš„é”®ï¼Œå› æ­¤ä¸é€‚ç”¨äºæ•°ç»„éå†ã€‚</li>
</ol>
<h2 id="å¼ºå¤§çš„for-ofå¾ªç¯"><a href="#å¼ºå¤§çš„for-ofå¾ªç¯" class="headerlink" title="å¼ºå¤§çš„for-ofå¾ªç¯"></a>å¼ºå¤§çš„for-ofå¾ªç¯</h2><blockquote>
<p>es6ä¸­æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å¦å¤–ä¸€ç§æ–¹å¼å»éå†æ•°ç»„å…ƒç´ ï¼Œä¾¿æ˜¯<code>for of</code></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> val <span class="keyword">of</span> arr) &#123;</div><div class="line">  <span class="built_in">console</span>.log(val) <span class="comment">// 1, 2, 3, 4</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ä¼˜åŠ¿</strong></p>
<ol>
<li>æœ€ç®€æ´ã€æœ€ç›´æ¥çš„éå†æ•°ç»„çš„æ–¹å¼</li>
<li>è¿™ç§æ–¹å¼é¿å¼€äº†for inçš„æ‰€æœ‰ç¼ºé™·</li>
<li>ä¸forEachæ–¹å¼ä¸åŒï¼Œå…¶å¯ä»¥continue breackå’Œreturn</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å†™ä¸€ä¸ªnodeå°çˆ¬è™«]]></title>
      <url>https://qianlongo.github.io/2017/02/21/%E5%86%99%E4%B8%80%E4%B8%AAnode%E5%B0%8F%E7%88%AC%E8%99%AB/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>è¯´èµ·å†™nodeçˆ¬è™«çš„åŸå› ï¼ŒçœŸæ˜¯ç¾ç¾å‘€ã€‚ä¸€å¤©ï¼Œå’Œå¾€å¸¸ä¸€æ ·ï¼Œæ™šä¸Šåƒè¿‡é¥­ä¾¿åˆ·èµ·çŸ¥ä¹æ¥ï¼Œé¦–é¡µä¾¿æ˜¯æ¨èçš„<code>ä½ è§è¿‡æœ€æ¼‚äº®çš„å¥³ç”Ÿé•¿ä»€ä¹ˆæ ·ï¼Ÿ</code>,ç‚¹è¿›å»å„ç§æ¼‚äº®çš„å¦¹çº¸çˆ†ç…§å•Šï¼ï¼!,çœ‹çš„æˆ‘å¥½æƒ³æŠŠè¿™äº›å¥½çœ‹çš„å¦¹çº¸ç…§ç‰‡éƒ½å­˜ä¸‹æ¥å•Šï¼ä¸€å¼ å¼ ç‚¹å‡»ä¿å­˜ï¼Œå°±åœ¨ç¬¬18å¼ å¾—æ—¶å€™ï¼Œçªç„¶æƒ³èµ·ã€‚æˆ‘ç‰¹ä¹ˆä¸æ˜¯ç¨‹åºå‘˜ä¹ˆï¼Œè¿™ç§æ‰‹åŠ¨<code>è‰</code>åšçš„äº‹ï¼Œæ€ä¹ˆèƒ½åšï¼Œä¸è¡Œæˆ‘ä¸èƒ½ä¸¢ç¨‹åºå‘˜çš„è„¸äº†ï¼Œäºæ˜¯ä¾¿å¼€å§‹è¿™æ¬¡çˆ¬è™«ä¹‹æ—…ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/160529jhf0hrzhffcl8jh4.jpg" alt=""></p>
<a id="more"></a>
<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><blockquote>
<p>åˆå…¥çˆ¬è™«çš„å‘ï¼Œæ²¡æœ‰å¤ªå¤šæ·±å¥¥çš„ç†è®ºçŸ¥è¯†ï¼Œè¦è·å–çŸ¥ä¹ä¸Šå¸–å­ä¸­çš„ä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘æŠŠå®ƒå½’ç»“ä¸ºä»¥ä¸‹å‡ æ­¥ã€‚</p>
</blockquote>
<ol>
<li>å‡†å¤‡ä¸€ä¸ªurl(<code>å½“ç„¶æ˜¯è¯¸å¦‚ä½ è§è¿‡æœ€æ¼‚äº®çš„å¥³ç”Ÿé•¿ä»€ä¹ˆæ ·ï¼ŸğŸ˜„</code>)</li>
<li>è·å–è¿™ä¸ªurlçš„htmlå†…å®¹ï¼Œå¹¶åˆ†æå…¶ä¸­çš„domç»“æ„ï¼Œéå†æ‰¾åˆ°è¿™äº›æ¼‚äº®çš„å¦¹çº¸å›¾ç‰‡url</li>
<li>è·å–å›¾ç‰‡å†…å®¹</li>
<li>å°†å›¾ç‰‡å†…å®¹å†™å…¥æœ¬åœ°æ–‡ä»¶</li>
</ol>
<h2 id="å¼€å§‹åŠ¨æ‰‹"><a href="#å¼€å§‹åŠ¨æ‰‹" class="headerlink" title="å¼€å§‹åŠ¨æ‰‹"></a>å¼€å§‹åŠ¨æ‰‹</h2><blockquote>
<p>å¤§æ¦‚çŸ¥é“åŸç†ä¹‹åæˆ‘ä»¬å°±å¯ä»¥å¼€å¹²äº†</p>
</blockquote>
<p><strong>å‡†å¤‡ä¸€ä¸ªurl</strong></p>
<p>è¿™ä¸ªæœ€ç®€å•äº†ï¼Œå»çŸ¥ä¹éšä¾¿ä¸€æœå°±æ˜¯ä¸€å¤§æŠŠï¼Œæˆ‘ä»¬ä»¥</p>
<p><a href="https://www.zhihu.com/question/34078228" target="_blank" rel="external">å‘ä¸€å¼ ä½ è®¤ä¸ºå¾ˆæ¼‚äº®çš„ç¾å¥³ç…§ç‰‡ï¼Ÿ</a></p>
<p>ä¸ºä¾‹å­ï¼Œå…ˆæ¥åˆ†æä¸€ä¸‹è¿™ä¸ªé¡µé¢çš„domç»“æ„,å…¶å®å¾ˆç®€å•ï¼ŒçŸ¥ä¹çš„ä¸€ä¸ªé¡µé¢ä¸­ä¼šåŒ…å«å¾ˆå¤šç§ç±»å‹çš„å›¾ç‰‡ï¼Œæœ‰å¤´åƒï¼Œç”¨æˆ·è¯„ä»·ä¸Šä¼ çš„å›¾ç‰‡å•¥çš„ã€‚åŸºæœ¬ä¸Šåœ¨<code>noscript</code>ç§éƒ½å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å›¾ç‰‡åœ°å€ã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/QQ20170401-000306@2x.png" alt=""></p>
<p><strong>è·å–è¿™ä¸ªurlçš„htmlå†…å®¹,å¹¶ä¸”æ‹¿åˆ°å½“å‰é¡µé¢noscriptä¸­çš„imgé“¾æ¥</strong></p>
<p>è¿™ä¸€æ­¥æˆ‘ä»¬éœ€è¦ä¼šç‚¹ç®€å•çš„nodejsçš„çŸ¥è¯†ï¼Œä»¥åŠç”¨åˆ°ä¸€ä¸ªåº“å«<code>cheerio</code>,è¿™ä¸ªåº“å…·ä½“æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„ï¼Œè¯¦ç»†è¯·ç§»æ­¥<a href="https://cheerio.js.org/" target="_blank" rel="external">cheerio</a>ã€‚</p>
<p>ç®€å•æ¥è¯´å°±æ˜¯å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨jQueryæ¥æœç´¢éå†è·å–ç›¸åº”çš„å…ƒç´ ã€‚</p>
<p><strong>é‚£ä¹ˆæ€æ ·æ‰èƒ½è·å–è¿™ä¸ªå¸–å­çš„htmlå‘¢</strong></p>
<p>ä½¿ç”¨nodejsçš„httpsæ¨¡å—</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> https = <span class="built_in">require</span>(<span class="string">'https'</span>)</div><div class="line"></div><div class="line">getAllHtml (url, callback) &#123;</div><div class="line">	<span class="keyword">let</span> sHtml = <span class="string">''</span>,</div><div class="line">    _this = <span class="keyword">this</span>;</div><div class="line">	https.get(url, (res) =&gt; &#123;</div><div class="line">	  res.on(<span class="string">'data'</span>, (data) =&gt; &#123;</div><div class="line">	    sHtml += data;</div><div class="line">	  &#125;);</div><div class="line">	  res.on(<span class="string">'end'</span>, () =&gt; &#123;</div><div class="line">	    callback.bind(_this, sHtml)();</div><div class="line">	  &#125;)</div><div class="line">	&#125;).on(<span class="string">'error'</span>, (err) =&gt; &#123;</div><div class="line">	  <span class="built_in">console</span>.log(err);</div><div class="line">	&#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>é€šè¿‡ä»¥ä¸Šæ“ä½œæ‹¿åˆ°ç½‘ç«™çš„htmlä¹‹åï¼Œä¾¿æ˜¯éå†å‡ºæˆ‘ä»¬éœ€è¦çš„å›¾ç‰‡åœ°å€æ¥äº†</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">filterHtml (sHtml, filePath) &#123;</div><div class="line">  <span class="keyword">let</span> $ = cheerio.load(sHtml), <span class="comment">// å°†ä¸Šä¸€æ­¥æ‹¿åˆ°çš„ç½‘ç«™htmlä¼ å…¥cheerio.loadï¼Œä¾¿å¾—åˆ°ç±»ä¼¼äºåŒ…è£…è¿‡çš„jQueryå¯¹è±¡ï¼Œå¯ä»¥åƒjQueyçš„é€‰æ‹©å™¨ä¸€æ ·æ¥é€‰æ‹©å…ƒç´ </span></div><div class="line">      $Imgs = $(<span class="string">'noscript img'</span>),</div><div class="line">      imgData = [],</div><div class="line">      _this = <span class="keyword">this</span>;</div><div class="line"></div><div class="line">    $Imgs.each(<span class="function">(<span class="params">i, e</span>) =&gt;</span> &#123;</div><div class="line">      <span class="keyword">let</span> imgUrl = $(e).attr(<span class="string">'src'</span>); <span class="comment">//å–å‡ºå¯¹åº”çš„url</span></div><div class="line"></div><div class="line">      imgData.push(imgUrl);</div><div class="line">      <span class="comment">// å°†urlä¼ å…¥å¼€å§‹ä¸‹è½½</span></div><div class="line">      _this.downloadImg(imgUrl, _this.filePath, </div><div class="line">      <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(imgUrl + <span class="string">'has be down'</span>);</div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">    <span class="built_in">console</span>.log(imgData);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æœ‰äº†å›¾ç‰‡çš„urlï¼Œå¦‚ä½•ä¸‹è½½åˆ°æœ¬åœ°å‘¢ï¼Ÿ</strong><br>æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>request</code>è¿™ä¸ªåº“ï¼Œç®€å•çš„è°ƒç”¨ä¸€ä¸‹apiå†ç»“åˆnodeåŸç”Ÿå†™æ–‡ä»¶çš„apiã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">downloadImg (imgUrl, filePath, callback) &#123;</div><div class="line">    <span class="keyword">let</span> fileName = <span class="keyword">this</span>.parseFileName(imgUrl);</div><div class="line">    request(imgUrl).pipe(fs.createWriteStream(<span class="string">'./'</span> + filePath + <span class="string">'/'</span>+fileName)).on(<span class="string">'close'</span>, callback &amp;&amp; callback);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>åˆ°è¿™é‡Œå°±å¤§åŠŸå‘Šæˆäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•!!!</p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>å·²ç»å°†æºç æ”¾åˆ°gitHubäº†ï¼Œæ¬¢è¿æŸ¥çœ‹ã€‚</p>
<p><a href="https://github.com/qianlongo/node-small-crawler" target="_blank" rel="external">é¡¹ç›®githubåœ°å€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[this-æƒ³è¯´çˆ±ä½ ä¸å®¹æ˜“]]></title>
      <url>https://qianlongo.github.io/2016/12/31/this-%E6%83%B3%E8%AF%B4%E7%88%B1%E4%BD%A0%E4%B8%8D%E5%AE%B9%E6%98%93/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>javascriptä¸­çš„thisæ˜¯å•¥ä¸œè¥¿ï¼Ÿä¸ºå•¥æˆ‘ä»¬ç»å¸¸è¢«ä»–æå¾—æ™•å¤´è½¬å‘ä¸çŸ¥æ‰€ä»¥ï¼Ÿä»–æ˜¯æ¶é­”ï¼Ÿæ˜¯å¤©ä½¿ ï¼Ÿæ˜¯æ€ªèƒï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·æ¥æ­å¼€å®ƒé‚£ç¥ç§˜çš„é¢çº±ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E4%B8%8B%E8%BD%BD111.jpeg" alt=""></p>
<a id="more"></a>
<h2 id="ä»–æ˜¯ä¸ªå•¥"><a href="#ä»–æ˜¯ä¸ªå•¥" class="headerlink" title="ä»–æ˜¯ä¸ªå•¥"></a>ä»–æ˜¯ä¸ªå•¥</h2><blockquote>
<p>é¦–å…ˆ<code>this</code>æ˜¯Javascriptè¯­è¨€çš„å…³é”®å­—ä¹‹ä¸€ï¼ŒæŒ‡å‡½æ•°<code>è¿è¡Œ</code>æ—¶çš„å½“å‰å¯¹è±¡ã€‚é‚£æ—¢ç„¶å’Œå‡½æ•°è¿è¡Œæœ‰å…³ï¼Œjsä¸­å‡½æ•°æœ‰å“ªäº›è°ƒç”¨æ¨¡å¼å‘¢ï¼Ÿ</p>
</blockquote>
<ol>
<li>çº¯ç²¹çš„å‡½æ•°è°ƒç”¨</li>
<li>å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</li>
<li>æ„é€ å‡½æ•°è°ƒç”¨</li>
<li>applyã€callè°ƒç”¨</li>
</ol>
<p><strong>æˆ‘æ“¦ï¼Œæœ‰æœ¨æœ‰ä¸€åƒåªè‰æ³¥é©¬åœ¨å¿ƒé‡Œè¹¦è…¾ä¸æ¯ï¼Œäººå®¶æ˜¯è¦å¼„æ‡‚thisï¼Œä½ è¿™åˆæ˜¯æ•´çš„å“ªä¸€å‡º</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/1440757221622060.jpg" alt=""></p>
<p><strong>æˆ‘ä»¬æ…¢æ…¢æ¥ï¼Œä¸€æ­¥æ­¥ä»è¿™äº›è°ƒç”¨æ¨¡å¼ä¸­æ¢ç©¶thisè¿™ä¸ªç¥å¥‡çš„è¿œå¤ç¥å…½</strong></p>
<h2 id="çº¯ç²¹çš„å‡½æ•°è°ƒç”¨"><a href="#çº¯ç²¹çš„å‡½æ•°è°ƒç”¨" class="headerlink" title="çº¯ç²¹çš„å‡½æ•°è°ƒç”¨"></a>çº¯ç²¹çš„å‡½æ•°è°ƒç”¨</h2><blockquote>
<p>å‡½æ•°è°ƒç”¨ å³ <code>functionName ()</code> æ¨¡å¼ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨çš„æœ€å¤šçš„ä¸€ç§æ–¹å¼ï¼Œå…¶å±äºå…¨å±€è°ƒç”¨ï¼Œæµè§ˆä¸­é»˜è®¤æƒ…å†µä¸‹å‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘<code>window</code>ï¼Œå½“ç„¶æ˜¯åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.name = <span class="string">'qianlong'</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">showName</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">showName() </div><div class="line"> </div><div class="line"><span class="comment">// qianlong</span></div><div class="line"><span class="comment">// true</span></div></pre></td></tr></table></figure>
<h2 id="å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨"><a href="#å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨" class="headerlink" title="å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨"></a>å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨</h2><blockquote>
<p>å½“ä¸€ä¸ªå‡½æ•°ä½œä¸ºå¯¹è±¡çš„æŸä¸ªå±æ€§æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showName();</div><div class="line"><span class="comment">// qianlong</span></div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹å‡º<code>this</code>æŒ‡å‘æ˜¯objè¿™ä¸ªå¯¹è±¡ï¼Œå…¶å®æœ¬è´¨ä¸Šè®²å‡½æ•°è°ƒç”¨å½¢å¼å†…éƒ¨<code>this</code>å°±æ˜¯æŒ‡å‘è°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡</strong></p>
<p>ä¸Šé¢çš„ä¾‹å­ç›¸å½“äº</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.showName()</div></pre></td></tr></table></figure>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå¯ä»¥è¯»å–åˆ°å…¨å±€å®šä¹‰çš„nameå±æ€§çš„åŸå› ã€‚</p>
<p><code>å†æ¥</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> showName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;,</div><div class="line">  obj = &#123;</div><div class="line">    <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">    <span class="attr">showName</span>: showName</div><div class="line">  &#125;;</div><div class="line"></div><div class="line">  obj.showName();</div></pre></td></tr></table></figure>
<p><strong>è¿™ä¸ªæ—¶å€™è¾“å‡ºçš„æ˜¯ä»€ä¹ˆå‘¢</strong></p>
<p>ç»“æœæ˜¯ä¸å˜çš„ï¼Œåœ¨jsä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ï¼Œè€Œè¿™é‡Œä¹Ÿåªæ˜¯å°†ï¼Œobjçš„showNameå±æ€§æŒ‡å‘ï¼ŒshowNmaeå‡½æ•°çš„å¼•ç”¨åœ°å€ã€‚</p>
<p><code>ç»§ç»­</code></p>
<p>å½“æˆ‘ä»¬æŠŠ<code>showName</code>æ–¹æ³•èµ‹å€¼ç»™äº†ä¸€ä¸ªå˜é‡ï¼Œåˆä¼šæœ‰ä»€ä¹ˆäº‹æƒ…å‘ç”Ÿå‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> tempShowName = obj.showName;</div><div class="line"></div><div class="line">tempShowName()</div><div class="line"></div><div class="line"><span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆä¸æ˜¯æœŸæœ›çš„é‚£æ ·è¾“å‡º qianlongå‘¢ã€‚objçš„showNameæ–¹æ³•æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æŠŠå®ƒèµ‹å€¼ç»™äº†tempShowNameå˜é‡ï¼Œæ­¤æ—¶ä¾¿å’Œobjæ²¡æœ‰ä»€ä¹ˆå…³ç³»äº†ï¼Œè€Œè¿™ä¸ªæ—¶å€™çš„è°ƒç”¨å’Œä¸‹é¢æ˜¯ç­‰ä»·çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.tempShowName()</div></pre></td></tr></table></figure>
<p>windowä¸Šæ­¤äº‹å¹¶æ²¡æœ‰<code>name</code>å±æ€§ï¼Œè‡ªç„¶è¾“å‡ºæ˜¯<code>undefined</code>ã€‚</p>
<h2 id="æ„é€ å‡½æ•°è°ƒç”¨"><a href="#æ„é€ å‡½æ•°è°ƒç”¨" class="headerlink" title="æ„é€ å‡½æ•°è°ƒç”¨"></a>æ„é€ å‡½æ•°è°ƒç”¨</h2><blockquote>
<p>å½“ä½¿ç”¨ <code>new</code> å»è°ƒç”¨ä¸€ä¸ªæ„é€ å‡½æ•°çš„æ—¶å€™ï¼Œå†…éƒ¨çš„thisï¼ŒæŒ‡å‘çš„æ˜¯å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.sex = sex;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'qianlong'</span>, <span class="string">'boy'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Person &#123;name: 'qianlong', sex: 'boy'&#125;;</span></div></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°ä¹Ÿæ˜¯å‡½æ•°ï¼Œæ‰€ä»¥å½“ä½ ç”¨æ™®é€šè°ƒç”¨æ–¹å¼è°ƒç”¨æ—¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.sex = sex;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Person(<span class="string">'qianlong'</span>, <span class="string">'boy'</span>);</div><div class="line"></div><div class="line"><span class="comment">// è¿™ä¸ªæ—¶å€™ç›¸å½“äºç»™windowå¯¹è±¡æ·»åŠ äº†nameå’Œsexä¸¤ä¸ªå±æ€§ã€‚</span></div><div class="line"></div><div class="line"><span class="built_in">window</span>.name <span class="comment">// 'qianlong'</span></div><div class="line"><span class="built_in">window</span>.sex <span class="comment">// 'boy'</span></div></pre></td></tr></table></figure>
<h2 id="applyã€callè°ƒç”¨"><a href="#applyã€callè°ƒç”¨" class="headerlink" title="applyã€callè°ƒç”¨"></a>applyã€callè°ƒç”¨</h2><blockquote>
<p>ä½¿ç”¨callå’Œapplyæ–¹å¼å»è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå†…éƒ¨çš„thisæŒ‡å‘çš„æ˜¯ä¼ è¿›æ¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå½“ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>undefined</code>æˆ–è€…<code>null</code>çš„æ—¶å€™ï¼Œä¾æ—§æŒ‡å‘<code>window</code></p>
</blockquote>
<p>å…³äºcallå’Œapplyæ¬¢è¿æŸ¥çœ‹å¦ä¸€ç¯‡æ–‡ç« </p>
<p><a href="https://qianlongo.github.io/2016/04/26/js%E4%B8%ADcall%E3%80%81apply%E3%80%81bind%E9%82%A3%E4%BA%9B%E4%BA%8B/">jsä¸­callã€applyã€bindé‚£äº›äº‹</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> showName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">showName() <span class="comment">// window</span></div><div class="line">showName.call(<span class="literal">undefined</span>) <span class="comment">// window</span></div><div class="line">showName.call(<span class="literal">null</span>) <span class="comment">// window</span></div><div class="line">showName.call(&#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125;) <span class="comment">// &#123;name: 'qianlong'&#125;</span></div></pre></td></tr></table></figure>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><blockquote>
<p>åœ¨ ES6 çš„æ–°è§„èŒƒä¸­ï¼ŒåŠ å…¥äº†ç®­å¤´å‡½æ•°ï¼Œå®ƒå’Œæ™®é€šå‡½æ•°æœ€ä¸ä¸€æ ·çš„ä¸€ç‚¹å°±æ˜¯ this çš„æŒ‡å‘ï¼Œæ™®é€šå‡½æ•°ä¸­çš„thisï¼Œæ˜¯è¿è¡Œæ—¶å€™å†³å®šçš„ï¼Œè€Œç®­å¤´å‡½æ•°å´æ˜¯å®šä¹‰æ—¶å€™å°±å†³å®šäº†ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">showNameLater</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">    &#125;, <span class="number">1000</span>)</div><div class="line">  &#125;		</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showNameLater();</div><div class="line"></div><div class="line"><span class="comment">// qianlong</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showName();</div><div class="line"><span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p><strong>ä¸€äº›å‘</strong></p>
<ol>
<li>setTimeout</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">showNameLater</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </div><div class="line">    setTimeout(<span class="keyword">this</span>.showName, <span class="number">1000</span>);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showNameLater();</div><div class="line"></div><div class="line"><span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œåœ¨æ‰§è¡ŒsetTimeoutè¿™ä¸ªå‡½æ•°çš„æ—¶å€™ä¼ äº†objçš„showNameå‡½æ•°ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶æ•ˆæœä¸</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> showName = obj.showName</div></pre></td></tr></table></figure>
<p>æ˜¯ç›¸åŒçš„ã€‚è€ŒsetTimeoutå†…éƒ¨å…¶å®ä¹Ÿæ˜¯æ‰§è¡Œäº†ä¼ è¿›å»è¿™ä¸ªå‡½æ•°è€Œå·²ï¼Œå³ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">showName();</div></pre></td></tr></table></figure>
<p>è¿˜è®°å¾—è¿™ç§è°ƒç”¨æ–¹å¼å’Œ<code>window.showName()</code>æ˜¯ç±»ä¼¼çš„æ•ˆæœå—ï¼Ÿè¿™ä¸ªæ—¶å€™è¾“å…¥ä¸ºundefinedä¹Ÿå°±å¥½ç†è§£äº†ã€‚</p>
<p>é‚£ä¹ˆæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œæ¯•ç«Ÿæˆ‘ä»¬æœŸæœ›çš„æ•ˆæœæ˜¯è¾“å‡º<code>qianlong</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">showNameLater</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      self.showName();</div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showNameLater();</div></pre></td></tr></table></figure>
<p><code>æˆ–è€…</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">showNameLater</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </div><div class="line">    setTimeout(<span class="keyword">this</span>.showName.bind(<span class="keyword">this</span>), <span class="number">1000</span>);</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">obj.showNameLater();</div></pre></td></tr></table></figure>
<ol>
<li>setTimeout</li>
</ol>
<blockquote>
<p>å°¼ç›å‘çˆ¹å•Šï¼Œå±…ç„¶è¿˜æ˜¯å› ä¸ºä½ ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">show(); <span class="comment">// undefined </span></div><div class="line"></div><div class="line">setTimeout(show, <span class="number">1</span>); <span class="comment">// window</span></div></pre></td></tr></table></figure>
<p>åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹é¢ï¼Œå‡½æ•°è°ƒç”¨çš„æ—¶å€™æ²¡æœ‰æŒ‡å®šthisçš„æƒ…å†µä¸‹ï¼Œå†…éƒ¨thisçš„è¡¨ç°ä¸º<code>undefined</code>,ä½†æ˜¯setTimeoutå´ä¸åŒï¼Œå…¶å†…éƒ¨é»˜è®¤è¿˜æ˜¯æŒ‡å‘windowã€‚</p>
<ol>
<li>ä¸ºæ„é€ å‡½æ•°æŒ‡å®šthis</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.sex = sex;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person.call(&#123;&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Uncaught TypeError: Person.call is not a constructor</span></div></pre></td></tr></table></figure>
<p><code>è¿™é‡ŒæŠ¥é”™äº†ï¼ŒåŸå› æ˜¯æˆ‘ä»¬å» new äº† Person.call å‡½æ•° ï¼Œè¿™é‡Œçš„å‡½æ•°ä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼›</code></p>
<p>å½“ç„¶è§£å†³æ–¹å¼ä¹Ÿæ˜¯æœ‰çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, sex</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.sex = sex;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> (Person.bind(&#123;&#125;))(<span class="string">'qianlong'</span>, <span class="string">'sex'</span>);</div><div class="line"></div><div class="line"><span class="comment">// Person &#123;name: "qianlong", sex: "sex"&#125;</span></div></pre></td></tr></table></figure>
<ol>
<li>ä¸ºç®­å¤´å‡½æ•°æŒ‡å®šthis</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var show = (str) =&gt; &#123;</div><div class="line">  console.log(str);</div><div class="line">  console.log(this);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">show(&apos;qianlong&apos;);</div><div class="line">// qianlong</div><div class="line">// window</div><div class="line"></div><div class="line">show.call(&#123;name: &apos;qianlong&apos;&#125;, &apos;qianlong&apos;);</div><div class="line">// qianlong</div><div class="line">// window</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨callæ¥æ‰‹åŠ¨æ”¹å˜ç®­å¤´å‡½æ•°ä¸­çš„thisçš„æ—¶å€™ï¼Œæ— æ³•æˆåŠŸã€‚ ç®­å¤´å‡½æ•°ä¸­çš„ this åœ¨å®šä¹‰å®ƒçš„æ—¶å€™å·²ç»å†³å®šäº†ï¼ˆæ‰§è¡Œå®šä¹‰å®ƒçš„ä½œç”¨åŸŸä¸­çš„ thisï¼‰ï¼Œä¸å¦‚ä½•è°ƒç”¨ä»¥åŠåœ¨å“ªé‡Œè°ƒç”¨å®ƒæ— å…³ï¼ŒåŒ…æ‹¬ (call, apply, bind) ç­‰æ“ä½œéƒ½æ— æ³•æ”¹å˜å®ƒçš„ thisã€‚</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>æ–‡ç« å¯èƒ½æœ‰äº›ç–æ¼ä¸é”™è¯¯ä¹‹å¤„ï¼Œæ¬¢è¿å„ä½æŒ‡æ­£ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¤§å­¦å›å¿†-åˆå…¥æ ¡é—¨çš„é‚£äº›å›§äº‹]]></title>
      <url>https://qianlongo.github.io/2016/11/20/%E5%A4%A7%E5%AD%A6%E5%9B%9E%E5%BF%86-%E5%88%9D%E5%85%A5%E6%A0%A1%E9%97%A8%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9B%A7%E4%BA%8B/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>2016/11/20æ—¥ï¼Œç®—ç®—å·²ç»æ¯•ä¸šå¿«åŠå¹´äº†å•Šã€‚å¾ˆå¿«ä¹Ÿå¾ˆæ…¢ï¼Œè¶ç€é‚£4å¹´ç¾å¥½çš„å¤§å­¦ç”Ÿæ´»ä¾ç¨€åœ¨è„‘æµ·ï¼Œæç¬”è¿½å¿†ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/V1paper-vol051-blogger11.jpg" alt=""></p>
<a id="more"></a>
<h2 id="é‚£äº›å›§äº‹"><a href="#é‚£äº›å›§äº‹" class="headerlink" title="é‚£äº›å›§äº‹"></a>é‚£äº›å›§äº‹</h2><blockquote>
<p>ç”Ÿæ´»ä¸­ä½ æœ‰æ²¡æœ‰åšä¸€äº›ç‰¹åˆ«å›§çš„äº‹å‘¢ï¼Ÿæ¯”å¦‚è®©è‡ªå·±äº‹åå›æƒ³èµ·æ¥è§‰å¾—ç‰¹åˆ«é€—ï¼Œå¿ä¸ä½æš´å£ â€œæˆ‘æ“¦ æ€ä¹ˆé‚£ä¹ˆå‚»å‰å’§â€ã€‚æ˜¯å“’ï¼Œè‡ªå·±åœ¨åˆšè¿›å¤§å­¦çš„æ—¶å€™å°±åšäº†å¥½å‡ ä»¶å›§äº‹ã€‚ä½ æƒ³çœ‹å—ï¼Ÿ è·Ÿç€æˆ‘æ¥ã€‚</p>
</blockquote>
<h2 id="æ…æ–­é’¥åŒ™"><a href="#æ…æ–­é’¥åŒ™" class="headerlink" title="æ…æ–­é’¥åŒ™"></a>æ…æ–­é’¥åŒ™</h2><blockquote>
<p>å‰é¢è¯´æ¥æ¥æˆ‘ä»¬çš„<code>æ¸©ç¨‹</code>åŒå­¦å› ä¸ºä¸æ˜¯æ±Ÿç†çš„å­¦ç”Ÿé—¨å«ä¸è®©è¿›ï¼Œæ‰€ä»¥åªæœ‰æˆ‘å’Œé™ˆè‰¯æ˜¥ä¸¤ä¸ªäººè¿›å»æŠ¥é“äº†ã€‚ä»æ ¡é—¨å£åˆ°å®¿èˆæ¥¼ä¸‹ï¼Œä¸ä¼šå‘Šè¯‰ä½ æˆ‘ä»¬èµ°äº†æ¥è¿‘40å¤šåˆ†é’Ÿï¼Œå½“ç„¶äº†ï¼Œè¿™å¹¶ä¸æ˜¯è¯´æˆ‘ä»¬çš„å­¦æ ¡å¤§ï¼Œè€Œæ˜¯å› ä¸ºç‰¹ä¹ˆçš„ç¬¬ä¸€æ¬¡æ¥ï¼Œä¸€ç‚¹éƒ½ç†Ÿæ‚‰ï¼Œå†åŠ ä¸Šæ¥çš„æ—©å­¦æ ¡æ ¹æœ¬æ²¡æœ‰å‡ ä¸ªäººï¼Œå¶å°”ç¢°ä¸Šä¸ªä¹Ÿæ˜¯æ—©æ¥çš„å­¦ç”Ÿé—®è·¯ï¼Œç»“æœä»–ä¹Ÿåªèƒ½å¤§æ¦‚æŒ‡ä¸ªæ–¹å‘ã€‚æŠ˜æŠ˜è…¾è…¾æ—¶é—´ä¹Ÿå°±è¿‡å»äº†ã€‚</p>
</blockquote>
<p>å¥½ä¸å®¹æ˜“æ‰¾åˆ°è‡ªå·±çš„å¯å®¤åœ¨4æ ‹508ï¼Œæ°å·§è‰¯æ˜¥çš„å¯å®¤ä¹Ÿåœ¨åŒä¸€æ ‹ï¼Œç®¡å®¿ç®¡å”å”è¦äº†é’¥åŒ™ä¾¿å‡†å¤‡ä¸Šæ¥¼æ”¾ä¸‹è¡Œæã€‚å®¿èˆæ˜¯é‚£ç§4äººçš„å°é—´ï¼Œè¿˜æ˜¯ä¸Šä¸‹é“ºï¼Œè¯´å¥½çš„ä¸Šé“ºæ˜¯åºŠä¸‹é“ºæ˜¯æ¡Œå­çš„å¸ƒå±€å‘¢ï¼ä¸å¸¦è¿™æ ·çš„å•Šï¼Œå‘œå‘œã€‚</p>
<p>æœ¬æ¥å­¦æ ¡å°å°±æœ‰ç‚¹ä¸ä¹æ„äº†ï¼Œä½†æ˜¯å®¿èˆçš„ç¯å¢ƒè¿˜è¿™ä¹ˆå·®ï¼Œå½“æ—¶çš„å¿ƒæƒ…åªæœ‰ä¸€ä¸ªå­—ã€‚æ—¥äº†ğŸ¶äº†ã€‚</p>
<p>ç¨å¾®æ”¶æ‹¾äº†ä¸€ä¸‹ï¼Œæ­£æ‰“ç®—å…³é—¨å‡ºå»èµ°èµ°çš„æ—¶å€™ï¼Œç¥å¥‡çš„äº‹æƒ…å‘ç”Ÿäº†ï¼Œç”±äºä¸å¤ªç†Ÿæ‚‰è¿™é‡Œçš„é’¥åŒ™æ€ä¹ˆç”¨ï¼Œçœ‹åˆ°è¿™é‡Œä½ æ˜¯ä¸æ˜¯å¿ƒé‡Œæš—æš—æƒ³ï¼šå°¼ç›è¿™æ™ºéšœï¼Œé’¥åŒ™éƒ½ä¸ä¼šç”¨ä¹ˆï¼ å…¶å®ä½ è¿˜çœŸåˆ«æƒ³ï¼Œæˆ‘ä»¬å­¦æ ¡çš„é’¥åŒ™å’Œä¸€èˆ¬å¸¸è§çš„é’¥åŒ™ä½¿ç”¨æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¿…é¡»æŸä¸ªæ–¹å‘å¯¹å‡†äº†ï¼Œæ‰å¯ä»¥å¼€é”ï¼Œè€Œæ‚²å‰§å°±æ˜¯å› ä¸ºæ–¹å‘å¼„åï¼Œæœ€åé’¥åŒ™ç›´æ¥æ–­é‡Œé¢äº†ï¼æ–­é‡Œé¢äº†ï¼æ–­é‡Œé¢äº†ï¼</p>
<p>æœ›ç€è¿™ä¸ç‚¹å¤§çš„å¤§å­¦ï¼Œæ…æ–­çš„é’¥åŒ™ã€‚word å¤©ï¼ŒçœŸæ˜¯å‰å®³äº†ï¼Œå’‹è¿™ä¹ˆå€’éœ‰ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[vscodeä½¿ç”¨ä¸å®Œå…¨è®°å½•]]></title>
      <url>https://qianlongo.github.io/2016/11/13/vscode%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%AE%8C%E5%85%A8%E6%8C%87%E5%8D%97/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ä½œä¸ºç¨‹åºå‘˜çš„ä¿ºä»¬ï¼Œæœ‰ä¸€æ¬¾é€‚åˆè‡ªå·±çš„ç¼–è¾‘å™¨å½“ç„¶æ˜¯éå¸¸å¥½çš„ä¸€ä»¶äº‹å•¦ï¼ï¼ï¼å‰ç«¯å¼€å‘ç»å¸¸ä½¿ç”¨çš„ç¼–è¾‘å™¨æœ‰<code>sublime</code>,<code>webstorm</code>,<code>atom</code>ç­‰ç­‰ç­‰ã€‚çœ‹çš„æˆ‘éƒ½çœ¼èŠ±ç¼­ä¹±äº†ï¼Œè¿™äº›ç¼–è¾‘å™¨å„è‡ªæœ‰è‡ªå·±çš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ï¼Œæ€ä¹ˆé€‰æ‹©è¿˜å¾—çœ‹è‡ªå·±çš„å®é™…éœ€æ±‚ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/source-code-583537_960_720.jpg" alt="vscode"></p>
<a id="more"></a>
<h2 id="è½¯ä»¶ä¸‹è½½å®‰è£…ï¼Œç¼–è¾‘å™¨å¯¹æ¯”ã€‚"><a href="#è½¯ä»¶ä¸‹è½½å®‰è£…ï¼Œç¼–è¾‘å™¨å¯¹æ¯”ã€‚" class="headerlink" title="è½¯ä»¶ä¸‹è½½å®‰è£…ï¼Œç¼–è¾‘å™¨å¯¹æ¯”ã€‚"></a>è½¯ä»¶ä¸‹è½½å®‰è£…ï¼Œç¼–è¾‘å™¨å¯¹æ¯”ã€‚</h2><p><a href="https://code.visualstudio.com/download" target="_blank" rel="external">ä¸‹è½½åœ°å€</a></p>
<p><a href="https://www.zhihu.com/question/41857899" target="_blank" rel="external">ç¼–è¾‘å™¨å¯¹æ¯”</a></p>
<h2 id="é¢œå€¼-ä¸»é¢˜"><a href="#é¢œå€¼-ä¸»é¢˜" class="headerlink" title="é¢œå€¼(ä¸»é¢˜)"></a>é¢œå€¼(ä¸»é¢˜)</h2><blockquote>
<p>å†™ä»£ç çš„æ—¶å€™æœ‰ä¸€ä¸ªå¥½çœ‹çš„ä¸»é¢˜ï¼Œå°±åƒå®¶é‡Œæœ‰ä¸€ä¸ªæ¼‚äº®çš„å¥³ç›†å‹ï¼Œæ’¸ä»£ç çš„æ—¶å€™è‡ªç„¶ä¼šæœ‰å¥½å¿ƒæƒ…ã€‚ ğŸ˜„ï¼Œæ‰€ä»¥å¥½çœ‹çš„ä¸»é¢˜è‡ªç„¶ä¸èƒ½å°‘.</p>
</blockquote>
<ol>
<li>å¦‚æœä½ ä½¿ç”¨è¿‡atomï¼Œä¸€å®šå¾ˆç†Ÿæ‚‰è¿™ç§é…è‰². <img src="http://odssgnnpf.bkt.clouddn.com/48280C7F-167E-4C54-A17E-66FF6AB12818.png" alt=""><br>é‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨<code>One Dark Theme</code></li>
</ol>
<p>å…¶å®ƒä¸»é¢˜å¯ä»¥å‚çœ‹<a href="https://code.visualstudio.com/Docs/customization/themes" target="_blank" rel="external">vscodeä¸»é¢˜</a></p>
<h2 id="å®ç”¨æ’ä»¶"><a href="#å®ç”¨æ’ä»¶" class="headerlink" title="å®ç”¨æ’ä»¶"></a>å®ç”¨æ’ä»¶</h2><blockquote>
<p>æœ‰äº†å¥½çœ‹çš„ä¸»é¢˜ï¼Œæ¥ä¸‹æ¥è¯¥å®‰å¿ƒcodingå•¦ï¼Œäºæ˜¯æˆ‘ä»¬éœ€è¦ä¸€äº›æ¯”è¾ƒå®ç”¨çš„æ’ä»¶æ¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„å¼€å‘ã€‚</p>
</blockquote>
<ol>
<li>Path Intellisense (è‡ªåŠ¨è¡¥å…¨è·¯å¾„)</li>
<li>auto rename tag (è‡ªåŠ¨ä¿®æ”¹htmlæ ‡ç­¾)</li>
<li>beautify(ä»£ç æ ¼å¼åŒ–æ’ä»¶)</li>
<li>git history (git æ’ä»¶)</li>
<li>eslint (å¼ºå¤§çš„ä»£ç æ£€æŸ¥æ’ä»¶)</li>
<li>jQuery Code Snippets (jQueryæç¤ºæ’ä»¶)</li>
</ol>
<h2 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h2><blockquote>
<p>æ˜æ˜¾ä½¿ç”¨å¿«æ·é”®ä¸¢å¼ƒé¼ æ ‡å¯ä»¥è®©æˆ‘ä»¬çš„å·¥ä½œæ›´åŠ é«˜æ•ˆå’Œå¿«é€Ÿï¼Œæ‰€ä»¥è®°ä½ä¸€äº›å¸¸ç”¨çš„å¿«æ·é”®æ˜¯å¿…è¦çš„ã€‚</p>
</blockquote>
<p>å•è¡Œç¼–è¾‘</p>
<ol>
<li>â‡§âŒ˜K - å•è¡Œæ“ä½œï¼Œåˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ</li>
<li>â‡§âŒ¥â†“ - å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ä¸‹ä¸€è¡Œ</li>
<li>âŒ¥â†“ - å°†å…‰æ ‡æ‰€åœ¨è¡Œç§»è‡³ä¸‹ä¸€è¡Œ</li>
</ol>
<p>å¤šè¡Œç¼–è¾‘</p>
<ol>
<li>âŒ¥âŒ˜â†“ - å‘ä¸‹æ’å…¥ä¸€ä¸ªå…‰æ ‡ï¼Œæˆ–è€…ä½¿ç”¨ âŒ¥ + Click</li>
<li>â‡§âŒ¥ + é¼ æ ‡æ‹–åŠ¨ - å¤šåˆ—åŒºå—é€‰æ‹©ï¼Œå†é…åˆ â‡§âŒ˜â†’ å¯é€‰ä¸­è‡³ç»“å°¾å¤„</li>
<li>â‡§âŒ˜L - é€‰æ‹©ç›¸åŒæ–‡æœ¬</li>
<li>âŒ˜F2 - é€‰æ‹©ç›¸åŒå•è¯ï¼Œæˆ–è€…ä½¿ç”¨ âŒ˜D ä¾æ¬¡åŠ å…¥é€‰ä¸­</li>
</ol>
<p>ä»£ç å®šä½</p>
<ol>
<li>â‡§âŒ˜\ - è·³è½¬è‡³å¯¹åº”åŒ¹é…æ‹¬å·å¤„</li>
<li>â‡§âŒ˜O - è·³è½¬è‡³å¯¹è±¡ã€å±æ€§ã€æ–¹æ³•</li>
<li>âŒƒG - è·³è½¬è‡³æŒ‡å®šè¡Œ</li>
<li>âŒ˜â†“ - è·³è½¬è‡³æ–‡ä»¶ç»“å°¾</li>
<li>â‡§âŒ˜M - æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„é”™è¯¯ä¸è­¦å‘Šä¿¡æ¯</li>
<li>F12 - è·³è½¬è‡³å®šä¹‰è¡Œ</li>
<li>âŒ¥F12 - æµ®çª—æ‰“å¼€å®šä¹‰è¡Œï¼ˆå¯ç›´æ¥ä¿®æ”¹ï¼‰</li>
<li>âŒ¥âŒ˜ + Click - æ–°å¼€ä¾§è¾¹çª—å£è·³è½¬è‡³å®šä¹‰è¡Œ</li>
<li>â‡§âŒ˜G - é€‰ä¸­ä¸Šä¸€æ¬¡çš„æŸ¥æ‰¾ç»“æœ</li>
</ol>
<p>ä»£ç å±•ç¤º</p>
<ol>
<li>âŒ¥Z - å¼€å¯/å…³é—­ä»£ç è‡ªåŠ¨æ¢è¡Œï¼Œè¿˜å¯é€šè¿‡ editor.wrappingColumn é…ç½®å•è¡Œæœ€å¤§å­—ç¬¦æ•°</li>
<li>â‡§âŒ˜[ - ä»£ç æŠ˜å ï¼Œâ‡§âŒ¥âŒ˜[ ä¸ºå…¨éƒ¨æŠ˜å </li>
<li>â‡§âŒ˜] - ä»£ç å±•å¼€ï¼Œâ‡§âŒ¥âŒ˜] ä¸ºå…¨éƒ¨å±•å¼€</li>
<li>â‡§âŒ¥F - ä»£ç æ ¼å¼åŒ–</li>
</ol>
<p>çª—å£æ“ä½œ</p>
<ol>
<li>âŒ˜1 âŒ˜2 âŒ˜3 - åˆ‡æ¢è‡³å¯¹åº”çš„å­çª—å£</li>
<li>âŒƒTab - åˆ‡æ¢å½“å‰å­çª—å£çš„æ ‡ç­¾é¡µ</li>
<li>âŒƒ` - æ‰“å¼€å†…ç½® Terminal çª—å£</li>
<li>âŒ˜â‡§U - æ‰“å¼€/å…³é—­ Output çª—å£ï¼Œå¯æŸ¥çœ‹ Extensions/Git/Task è¾“å‡º</li>
</ol>
<h2 id="æ¨èå‡ ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« "><a href="#æ¨èå‡ ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« " class="headerlink" title="æ¨èå‡ ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« "></a>æ¨èå‡ ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« </h2><ol>
<li><a href="https://segmentfault.com/a/1190000006697219" target="_blank" rel="external"><br>vscode æ’ä»¶ç²¾é€‰ - çŒ®ç»™æ‰€æœ‰å‰ç«¯å·¥ç¨‹å¸ˆ</a></li>
<li></li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä¸€èµ·æ¥å®ç°es5ä¸­æ–°å¢çš„æ•°ç»„æ–¹æ³•]]></title>
      <url>https://qianlongo.github.io/2016/10/22/%E4%B8%80%E8%B5%B7%E6%9D%A5%E5%AE%9E%E7%8E%B0es5%E4%B8%AD%E6%96%B0%E5%A2%9E%E7%9A%84%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸€ç›´ä»¥æ¥æƒ³å†™ä¸€ç¯‡å…³äºes5ä¸­æ–°å¢æ•°ç»„çš„ä½¿ç”¨æ–¹æ³•ä¸æºç å®ç°çš„æ–‡ç« ï¼Œæ‹–äº†æŒºä¹…äº†ï¼Œè¶ç€è¿™å¤œæ·±äººé™ï¼Œå¤§è„‘æ¸…é†’ï¼Œåˆå›°æ„ä¸åœ¨çš„æ—¶åˆ»å†™ä¸‹æ¥ã€‚ä¹Ÿè®¸æœ‰äººä¼šé—®ï¼Œç°å¦‚ä»Šes6éƒ½å¤§è¡Œå…¶é“äº†ï¼Œè¿˜å­¦es5æ˜¯ä¸æ˜¯æœ‰äº›è¿‡æ—¶äº†ï¼ŒğŸ˜„ï¼Œæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¯ä»¥ä¸ºå¸ˆçŸ£ï¼Œè€Œä¸”æˆ‘ä»¬æ˜¯è¦è‡ªå·±å®ç°è¿™äº›æ–¹æ³•å˜›ï¼ŒçŸ¥å…¶ç„¶è¿˜è¦çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œä¸å…‰è¦ä¼šç”¨ï¼Œè¿˜è¦çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ç”¨å“’ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/43d555c6434bc10db279724d5aa66dc8.jpg" alt="å‰ç«¯é…å›¾"></p>
<a id="more"></a>
<h2 id="æ–°å¢æ–¹æ³•é¢„è§ˆ"><a href="#æ–°å¢æ–¹æ³•é¢„è§ˆ" class="headerlink" title="æ–°å¢æ–¹æ³•é¢„è§ˆ"></a>æ–°å¢æ–¹æ³•é¢„è§ˆ</h2><blockquote>
<p>es5ä¸­ç»™jsçš„æ•°ç»„å¢æ·»äº†è®¸å¤šå®ç”¨çš„æ–¹æ³•ï¼Œåˆ©ç”¨è¿™äº›æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´åŠ å¿«é€Ÿæ–¹ä¾¿çš„å†™jsä»£ç ï¼Œç„¶åè›‹ç–¼çš„æ˜¯ä½ç‰ˆæœ¬ieè‚¯å®šæ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥â€¦â€¦â€¦â€¦â€¦â€¦è‡ªå·±åŠ¨æ‰‹ä¸°è¡£è¶³é£Ÿã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨ä¸å®ç°è¿™äº›æ–¹æ³•ã€‚</p>
</blockquote>
<ol>
<li>forEach </li>
<li>map </li>
<li>filter </li>
<li>some </li>
<li>every </li>
<li>indexOf </li>
<li>lastIndexOf </li>
<li>reduce </li>
<li>reduceRight </li>
</ol>
<h2 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h2><blockquote>
<p>è¿™ä¸ªæ–¹æ³•ä½œç”¨æ˜¯å•¥å’§ï¼Œå°±æ˜¯å¾ªç¯ï¼Œéå†ã€‚æ¯”å¦‚ä¸€èˆ¬æˆ‘ä»¬åœ¨forå¾ªç¯åšè¿™æ ·çš„äº‹çš„æ—¶å€™å¦‚ä¸‹ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arr.length; i &lt; len; i++) &#123;</div><div class="line">  <span class="built_in">console</span>.log(arr[i], i, arr);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å¦‚æœç”¨forEachæˆ‘ä»¬åº”è¯¥å¦‚ä½•åšå‘¢ï¼Ÿ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</div><div class="line"></div><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e, i, array)</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><strong>æ˜¯ä¸æ˜¯è§‰å¾—ä¸ç”¨å†™forå¾ªç¯äº†ï¼Œç¬é—´é€¼æ ¼éƒ½é«˜äº†</strong></p>
<blockquote>
<p>forEachå‡½æ•°ä¸­çš„å›è°ƒå‡½æ•°æ”¯æŒä¸‰ä¸ªå‚æ•°ï¼Œ<code>1ã€æ•°ç»„çš„å€¼</code>ï¼Œ<code>2ã€å€¼çš„ç´¢å¼•</code>ï¼Œ<code>3ã€æ•°ç»„æœ¬èº«</code>ã€‚è¿™æ ·çš„è°ƒç”¨æ–¹å¼æ˜¯ä¸æ˜¯å’ŒjQueryä¸­çš„$.eachå¾ˆåƒï¼Ÿ å…¶å®ä¸ç„¶ï¼ŒjQueryå’ŒforEachå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‚æ•°æ­£å¥½æ˜¯åç€æ¥çš„ã€‚</p>
</blockquote>
<p><strong>çœ‹çœ‹å¯¹æ¯”</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="comment">// forEach</span></div><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e, i, array);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"></div><div class="line"><span class="number">1</span> <span class="number">0</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="number">2</span> <span class="number">1</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="number">3</span> <span class="number">2</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="number">4</span> <span class="number">3</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"><span class="number">5</span> <span class="number">4</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// $.each</span></div><div class="line">$.each(arr, <span class="function"><span class="keyword">function</span> (<span class="params">i, e, array</span>) </span>&#123; <span class="comment">// æµ‹è¯•çš„æ—¶å€™å‘ç°arrayæ˜¯undefined,æŸ¥äº†æ–‡æ¡£ä¹Ÿå‘ç°æ²¡æœ‰ç¬¬ä¸‰ä¸ªå‚æ•°</span></div><div class="line">  <span class="built_in">console</span>.log(i, e, array);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"></div><div class="line"><span class="number">0</span> <span class="number">1</span> <span class="literal">undefined</span></div><div class="line"><span class="number">1</span> <span class="number">2</span> <span class="literal">undefined</span></div><div class="line"><span class="number">2</span> <span class="number">3</span> <span class="literal">undefined</span></div><div class="line"><span class="number">3</span> <span class="number">4</span> <span class="literal">undefined</span></div><div class="line"><span class="number">4</span> <span class="number">5</span> <span class="literal">undefined</span></div></pre></td></tr></table></figure>
<p><strong>æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹forEachçš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å†³å®šç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°çš„å†…éƒ¨thisæŒ‡å‘</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="comment">//  é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ä¼ å…¥æ—¶</span></div><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e, i, array, <span class="keyword">this</span>);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"><span class="number">1</span> <span class="number">0</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="built_in">window</span> </div><div class="line"><span class="number">2</span> <span class="number">1</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="built_in">window</span> </div><div class="line"><span class="number">3</span> <span class="number">2</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="built_in">window</span> </div><div class="line"><span class="number">4</span> <span class="number">3</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="built_in">window</span> </div><div class="line"><span class="number">5</span> <span class="number">4</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="built_in">window</span> </div><div class="line"></div><div class="line"><span class="comment">// ä¼ å…¥å‚æ•°</span></div><div class="line">arr.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e, i, array, <span class="keyword">this</span>);</div><div class="line">&#125;, &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"><span class="number">1</span> <span class="number">0</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125; </div><div class="line"><span class="number">2</span> <span class="number">1</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125; </div><div class="line"><span class="number">3</span> <span class="number">2</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125; </div><div class="line"><span class="number">4</span> <span class="number">3</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125; </div><div class="line"><span class="number">5</span> <span class="number">4</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] &#123;<span class="attr">name</span>: <span class="string">'qianlong'</span>&#125;</div></pre></td></tr></table></figure>
<p><strong>æœ€åæ¥ä¸‹æ¥æˆ‘ä»¬è‡ªå·±å®ç°ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeArray = ObjPro.forEach;</div><div class="line"></div><div class="line"><span class="built_in">Array</span>.prototype.forEach = nativeArray || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, ctx</span>) </span>&#123;  </div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i =<span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (hasOwn.call(<span class="keyword">this</span>, i)) &#123;</div><div class="line">      callBack.call(ctx, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="map"><a href="#map" class="headerlink" title="map"></a>map</h2><blockquote>
<p>mapæ˜¯å¹²å˜›çš„ï¼ å…¶æœ€ä¸»è¦çš„ä½œç”¨å°±æ˜¯å°†åŸæ•°ç»„æŒ‰ç…§ä¸€å®šçš„è§„åˆ™æ˜ å°„æˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚å†å°†å…¶è¿”å›ï¼Œ<code>æ³¨æ„æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯å°†åŸæ•°ç»„ç›´æ¥æ”¹å˜</code>ä½¿ç”¨æ–¹å¼å’ŒforEachç±»ä¼¼,ä¹Ÿæ˜¯æ¥å—ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸€ä¸ªæ”¹å˜å†…éƒ¨thisæŒ‡å‘çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p><strong>map</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">array.map(callback,[ thisObject])</div></pre></td></tr></table></figure>
<p><strong>callback</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line">arr.map(<span class="function"><span class="keyword">function</span>(<span class="params">value, index, array</span>) </span>&#123;</div><div class="line">  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><strong>ä¸¾ä¸ªæ —å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> newArr = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">'hello '</span> +  e;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"></div><div class="line">[<span class="string">"hello 1"</span>, <span class="string">"hello 2"</span>, <span class="string">"hello 3"</span>, <span class="string">"hello 4"</span>, <span class="string">"hello 5"</span>] <span class="comment">// newArr</span></div><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment">// arr</span></div></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ä¸Šé¢çš„returnï¼Œå¦‚æœæˆ‘ä»¬ä¸å†™returnä¼šæ€æ ·å‘¢ï¼Ÿ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> newArr = arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="string">'hello '</span> +  e;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"></div><div class="line">[<span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>, <span class="literal">undefined</span>] <span class="comment">// newArr</span></div><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment">// arr</span></div></pre></td></tr></table></figure>
<p>è¿™ä¸€å †çš„undefinedæ˜¯å•¥æƒ…å†µï¼Œè¿˜è®°å¾—ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºçš„è¿”å›å€¼ï¼Œä¼šè¿”å›ä»€ä¹ˆå—ï¼Ÿ <strong>æ²¡é”™</strong> å°±æ˜¯<code>undefined</code>ï¼Œè¿™å°±æ˜¯åŸå› æ‰€åœ¨ï¼Œç­‰ä¼šé€šè¿‡æºç ï¼Œä½ å°±ä¼šæ›´åŠ æ˜ç™½ã€‚</p>
<p><strong>æœ€åæˆ‘ä»¬è‡ªå·±å®ç°ä¸€ä¸‹mapè¿™ä¸ªæ–¹æ³•</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeMap = ObjPro.map;</div><div class="line">    </div><div class="line"><span class="built_in">Array</span>.prototype.map = nativeMap || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, ctx</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> returnArr = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    returnArr.push(callBack.call(ctx, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>)); <span class="comment">// è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå›è°ƒå‡½æ•°æ²¡æœ‰è¿”å›å€¼çš„æƒ…å†µä¸‹ä¼šå¾—åˆ°ä¸€å †çš„undefinedå€¼ï¼Œä»–å°†å›è°ƒå‡½æ•°çš„è¿”å›å€¼pushåˆ°äº†ä¸€ä¸ªæ•°ç»„é‡Œé¢ï¼Œå½“ä½ æ²¡æœ‰æ˜¾ç¤ºçš„è¿”å›å€¼çš„æ—¶å€™ï¼Œè‡ªç„¶pushè¿›å»çš„å°±æ˜¯undefinedäº†     </span></div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span>  returnArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h2><blockquote>
<p>æ¥ä¸‹æ¥æ˜¯<code>filter</code>,ç­›é€‰ï¼Œè¿‡æ»¤çš„æ„æ€ï¼Œç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œç”¨ä¸€äº›ä½ åˆ¶å®šçš„æ¡ä»¶ï¼Œå¯¹å…¶ä¸­çš„å€¼è¿›è¡Œè¿‡æ»¤ï¼Œæœ€åå¾—åˆ°ä½ æƒ³è¦çš„æ–°çš„æ•°ç»„ã€‚åŸºæœ¬ç”¨æ³•å’Œmapå·®ä¸å¤š</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">array.filter(callback,[ thisObject]);</div><div class="line"></div><div class="line"><span class="string">``</span><span class="string">`	</span></div><div class="line"></div><div class="line">ä½†æ˜¯å’Œmapä¹Ÿæœ‰å·®åˆ«çš„åœ°æ–¹ï¼Œfilteréœ€è¦ä½ åœ¨callbackå¤„è¿”å›å¼±ç­‰äº`<span class="literal">true</span><span class="string">` çš„å€¼,æ‰ä¼šå°†åŸæ•°ç»„ä¸­ç­›é€‰å‡ºçš„å€¼è¿”å›ç»™ä½ ã€‚</span></div><div class="line"></div><div class="line">**ä¸¾ä¸ªæ —å­**</div><div class="line"></div><div class="line">`<span class="string">``</span> javascript</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> newArr = arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> e;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// output</span></div><div class="line"></div><div class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment">// newArr</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> newArr2 = arr.filter(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (e &gt;= <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>; </div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// ouput</span></div><div class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] <span class="comment">// newArr2</span></div></pre></td></tr></table></figure>
<p><strong>å½“ç„¶æœ€åè¿˜æœ‰ç¬¬äºŒä¸ªå‚æ•°æ”¹å˜å†…éƒ¨thisæŒ‡å‘çš„å‚æ•°å¯é€‰ï¼Œé»˜è®¤æ˜¯windowå¯¹è±¡ï¼Œä½ ä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªå¯¹è±¡è¿›å», æœ€åæˆ‘ä»¬è‡ªå·±æ¥å®ç°ä¸€ä¸‹è¿™ä¸ªapi</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeFilter = ObjPro.filter;</div><div class="line">    </div><div class="line"><span class="built_in">Array</span>.prototype.filter = nativeFilter || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, ctx</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> returnArr = [];</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (callBack.call(ctx, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>)) &#123;</div><div class="line">      returnArr.push(<span class="keyword">this</span>[i]);</div><div class="line">    &#125;</div><div class="line">  &#125;	</div><div class="line">  <span class="keyword">return</span> returnArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="some-vs-every"><a href="#some-vs-every" class="headerlink" title="some vs every"></a>some vs every</h2><blockquote>
<p>someä¸æ¥ä¸‹é‡Œçš„everyæ­£å¥½ç›¸å¯¹ï¼Œ<code>some</code>æ˜¯åªè¦æ•°ç»„ä¸­çš„æŸä¸ªå€¼ï¼Œç¬¦åˆä½ ç»™å®šçš„åˆ¤æ–­æ¡ä»¶å°±è¿”å›trueï¼Œè€Œ<code>every</code>åˆ™æ˜¯æ•°ç»„ä¸­çš„æ‰€æœ‰å€¼éƒ½ç¬¦åˆä½ ç»™å®šçš„åˆ¤æ–­æ¡ä»¶çš„æ—¶å€™æ‰ä¼šè¿”å›trueï¼Œå¦åˆ™å°±è¿”å›false,ä¹Ÿå°±æ˜¯è¯´ä¸¤ä¸ªæ–¹æ³•æœ€åå¾—åˆ°çš„éƒ½æ˜¯true or false</p>
</blockquote>
<p><strong>ä¸¾ä¸ªæ —å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">	</div><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> result = arr.some(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (e === <span class="number">3</span>) &#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// output  	</span></div><div class="line"><span class="literal">true</span> <span class="comment">// result;</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> result2 = arr.every(<span class="function"><span class="keyword">function</span> (<span class="params">e, i, array</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (e &gt; <span class="number">3</span>) &#123;<span class="keyword">return</span> <span class="literal">true</span>&#125;;</div><div class="line">&#125;);</div><div class="line"><span class="comment">// output  	</span></div><div class="line"><span class="literal">false</span> <span class="comment">// result;</span></div></pre></td></tr></table></figure>
<p><code>some å’Œ everyä½¿ç”¨èµ·æ¥éå¸¸ç®€å•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è‡ªå·±å®ç°ä¸€æŠŠ</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeSome = ObjPro.some,</div><div class="line">    nativeEvery = ObjPro.every;</div><div class="line">    </div><div class="line"><span class="comment">// some    </span></div><div class="line"><span class="built_in">Array</span>.prototype.some = nativeSome || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, ctx</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> resultValue = <span class="literal">false</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (resultValue) &#123;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">    resultValue = !!callBack.call(ctx, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>); </div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span>  resultValue;</div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="comment">// every</span></div><div class="line"></div><div class="line"><span class="built_in">Array</span>.prototype.every = nativeEvery || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, ctx</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line"></div><div class="line">  <span class="keyword">var</span> resultValue = <span class="literal">true</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (!resultValue) &#123;</div><div class="line">      <span class="keyword">break</span>;	</div><div class="line">    &#125;</div><div class="line">    resultValue = !!callBack.call(ctx, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>);</div><div class="line">  &#125;	</div><div class="line">  <span class="keyword">return</span> resultValue;  	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h2><blockquote>
<p>æ•°ç»„çš„indexOfæ–¹æ³•å’Œå­—ç¬¦ä¸²çš„indexOfç”¨æ³•éå¸¸ç±»ä¼¼ï¼Œ<code>array.indexOf(searchElement[, fromIndex])</code>,é’ˆå¯¹ç»™å®šçš„è¦æŸ¥æ‰¾çš„å€¼ï¼Œå’Œå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(å¯é€‰)ï¼Œè¿”å›æ•´æ•°ç´¢å¼•å€¼ã€‚</p>
</blockquote>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"></div><div class="line">arr.indexOf(<span class="number">1</span>) <span class="comment">// 1</span></div><div class="line">arr.indexOf(<span class="number">3</span>, <span class="string">'qianlong'</span>) <span class="comment">// 3 å› ä¸ºç»™å®šçš„å¼€å§‹ç´¢å¼•å€¼ä¸èƒ½è½¬åŒ–æˆæ•°å­—ï¼Œæ‰€ä»¥è¿˜æ˜¯ä»0ä½ç½®å¼€å§‹æœç´¢ </span></div><div class="line">arr.indexOf(<span class="number">3</span>, <span class="number">4</span>) <span class="comment">// -1</span></div><div class="line">arr.indexOf(<span class="number">3</span>, <span class="string">'4'</span>) <span class="comment">// -1</span></div><div class="line">arr.indexOf(<span class="string">'3'</span>) <span class="comment">// -1 // åˆ¤æ–­æ¡ä»¶æ˜¯å¼º 3 !== '3' =&gt; -1</span></div></pre></td></tr></table></figure>
<p><strong>å®ç°ä»£ç </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeIndexOf = ObjPro.indexOf;</div><div class="line">    </div><div class="line"><span class="built_in">Array</span>.prototype.indexOf = nativeIndexOf || <span class="function"><span class="keyword">function</span> (<span class="params">searchElement, fromIndex</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> returnIndex = <span class="number">-1</span>,</div><div class="line">      fromIndex = fromIndex * <span class="number">1</span> || <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = fromIndex, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (searchElement === <span class="keyword">this</span>[i]) &#123;</div><div class="line">	   returnIndex = i;</div><div class="line">	   <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;     		</div><div class="line">  <span class="keyword">return</span> returnIndex;    	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="lastIndexOf"><a href="#lastIndexOf" class="headerlink" title="lastIndexOf"></a>lastIndexOf</h2><blockquote>
<p>æ•°ç»„çš„lastIndexOfæ–¹æ³•å’Œå­—ç¬¦ä¸²çš„lastIndexOfç”¨æ³•éå¸¸ç±»ä¼¼ï¼Œ<code>array. lastIndexOf(searchElement[, fromIndex])</code>,é’ˆå¯¹ç»™å®šçš„è¦æŸ¥æ‰¾çš„å€¼ï¼Œå’Œå¼€å§‹æŸ¥æ‰¾çš„ä½ç½®(å¯é€‰)ï¼Œè¿”å›æ•´æ•°ç´¢å¼•å€¼ã€‚ä¸indexOfä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œå®ƒæ˜¯ä»åå¾€å‰æŸ¥æ‰¾ã€‚é»˜è®¤å¼€å§‹æŸ¥æ‰¾çš„ä½ç½®æ˜¯ <code>array.length - 1</code></p>
</blockquote>
<p><strong>ä¸¾ä¸ªæ —å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>];</div><div class="line"></div><div class="line">arr.lastIndexOf(<span class="number">1</span>) <span class="comment">// 9</span></div><div class="line">arr.lastIndexOf(<span class="number">3</span>, <span class="string">'qianlong'</span>) <span class="comment">// -1 è¿™é‡Œå’ŒindexOfä¸ä¸€æ ·ï¼Œä¼ å…¥çš„å€¼ä¸èƒ½è½¬åŒ–ä¸ºæ•°å­—å°†å¾—åˆ°-1</span></div><div class="line">arr.lastIndexOf(<span class="number">3</span>, <span class="number">4</span>) <span class="comment">// 3</span></div><div class="line">arr.lastIndexOf(<span class="number">3</span>, <span class="string">'4'</span>) <span class="comment">// 3</span></div><div class="line">arr.lastIndexOf(<span class="string">'3'</span>) <span class="comment">// -1 // åˆ¤æ–­æ¡ä»¶æ˜¯å¼º 3 !== '3' =&gt; -1</span></div></pre></td></tr></table></figure>
<p><strong>æºç å®ç°</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeLastIndexOf = ObjPro.lastIndexOf;</div><div class="line">    </div><div class="line"><span class="built_in">Array</span>.prototype.lastIndexOf = nativeLastIndexOf || <span class="function"><span class="keyword">function</span> (<span class="params">searchElement, fromIndex</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> len = <span class="keyword">this</span>.length,</div><div class="line">      returnIndex = <span class="number">-1</span>,</div><div class="line">      fromIndex = fromIndex * <span class="number">1</span> || len - <span class="number">1</span>;</div><div class="line">      </div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = fromIndex; i &gt; <span class="number">-1</span>; i -= <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>[i] === searchElement)&#123;</div><div class="line">      returnIndex = i;</div><div class="line">      <span class="keyword">break</span>;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> returnIndex;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h2><blockquote>
<p>reduce ç›¸å¯¹es5ä¸­æ•°æ·»åŠ çš„å…¶ä»–æ–¹æ³•éƒ½å¤æ‚ä¸€äº›ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ —å­æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªapiæ€ä¹ˆä½¿ç”¨ã€‚é¦–å…ˆåŸºæœ¬å‚æ•°å¦‚ä¸‹</p>
</blockquote>
<p><code>array.reduce(callback[, initialValue])</code>,æ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œä¸€ä¸ªåˆå§‹åŒ–çš„å€¼<code>initialValue</code>ã€‚å…¶ä¸­callbackå‚æ•°åˆ†åˆ«æ˜¯åˆå§‹åŒ–çš„å€¼<code>initialValue</code>,å¦‚æœæ²¡æœ‰ä¼ å…¥<code>initialValue</code>,åˆ™é»˜è®¤æ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ã€‚ç¬¬äºŒä¸ªåŠå…¶åé¢çš„å‚æ•°åˆ†åˆ«æ˜¯<code>å½“å‰å€¼</code>,<code>ç´¢å¼•</code>,<code>æ•°ç»„æœ¬èº«</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</div><div class="line">    sum = arr.reduce(<span class="function"><span class="keyword">function</span> (<span class="params">init, cur, i, array</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> init + cur;</div><div class="line">    &#125;);	</div><div class="line">    </div><div class="line">   <span class="comment">//output</span></div><div class="line">   sum <span class="comment">// 15</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸Šé¢çš„æ‰§è¡Œè¿‡ç¨‹æ˜¯æ€æ ·çš„ã€‚</p>
<p><strong>ç¬¬ä¸€å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// å› ä¸ºinitialValueæ²¡æœ‰ä¼ å…¥æ‰€ä»¥å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°ç»„çš„ç¬¬ä¸€é¡¹</span></div><div class="line"></div><div class="line">init = <span class="number">0</span>;</div><div class="line">cur = <span class="number">1</span>;</div><div class="line"></div><div class="line">=&gt; init + cur = <span class="number">1</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬äºŒå›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">1</span>;</div><div class="line">cur = <span class="number">2</span>;</div><div class="line"></div><div class="line">=&gt; init + cur = <span class="number">3</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬ä¸‰å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">3</span>;</div><div class="line">cur = <span class="number">3</span>;</div><div class="line"></div><div class="line">=&gt; init + cur = <span class="number">6</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬å››å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">6</span>;</div><div class="line">cur = <span class="number">4</span>;</div><div class="line"></div><div class="line">=&gt; init + cur = <span class="number">10</span>;</div></pre></td></tr></table></figure>
<p><strong>ç¬¬äº”å›åˆ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">init = <span class="number">10</span>;</div><div class="line">cur = <span class="number">5</span>;</div><div class="line"></div><div class="line">=&gt; init + cur = <span class="number">15</span>;</div></pre></td></tr></table></figure>
<p>æœ€åå¾—åˆ°ç»“æœ<code>15</code></p>
<p><strong>é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ªreduceå‘¢ï¼Ÿ</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeReduce = ObjPro.reduce;</div><div class="line">    </div><div class="line"><span class="built_in">Array</span>.prototype.reduce = nativeReduce || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, initialVal</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> init = initialVal,</div><div class="line">      i = <span class="number">0</span>;</div><div class="line">  </div><div class="line">      <span class="keyword">if</span> (init === <span class="keyword">void</span> (<span class="number">0</span>)) &#123;</div><div class="line">        init = <span class="keyword">this</span>[<span class="number">0</span>];</div><div class="line">        i = <span class="number">1</span>;</div><div class="line">      &#125;</div><div class="line">  <span class="keyword">for</span> (i, len = <span class="keyword">this</span>.length; i &lt; len; i++) &#123;</div><div class="line">    <span class="keyword">if</span> (hasOwn.call(<span class="keyword">this</span>, i)) &#123;</div><div class="line">      init = callBack(init, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>);</div><div class="line">    &#125;  </div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> init;    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h2><blockquote>
<p>reduceRightåŸºæœ¬ç”¨æ³•ä¸reduceç±»ä¼¼ï¼Œå¥½æ¯”indexOfä¸lastIndexOfï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒæ˜¯ä»æœ€å³è¾¹çš„å€¼å¼€å§‹è®¡ç®—çš„ã€‚æˆ‘ä»¬ç›´æ¥å»çœ‹æºç æ€ä¹ˆå®ç°å§</p>
</blockquote>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjPro = <span class="built_in">Object</span>.prototype,</div><div class="line">    hasOwn = ObjPro.hasOwnProperty,</div><div class="line">    nativeReduceRight = ObjPro.reduceRight;</div><div class="line">   </div><div class="line"><span class="built_in">Array</span>.prototype.reduceRight = nativeReduceRight || <span class="function"><span class="keyword">function</span> (<span class="params">callBack, initialVal</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> callBack != <span class="string">'function'</span>) <span class="keyword">return</span>;</div><div class="line">  </div><div class="line">  <span class="keyword">var</span> init = initialVal,</div><div class="line">      len = <span class="keyword">this</span>.length,</div><div class="line">      i = len - <span class="number">1</span>;</div><div class="line">      </div><div class="line">  <span class="keyword">if</span> (init === <span class="keyword">void</span>(<span class="number">0</span>)) &#123;</div><div class="line">    init = <span class="keyword">this</span>[len - <span class="number">1</span>];</div><div class="line">    i -= <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">for</span> (i; i &gt; <span class="number">-1</span>; i -=<span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">if</span> (hasOwn.call(<span class="keyword">this</span>, i)) &#123;</div><div class="line">      init = callBack(init, <span class="keyword">this</span>[i], i, <span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;    </div><div class="line">  <span class="keyword">return</span> init;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p> ç»ˆäºå†™å®Œäº†ï¼Œæ–­æ–­ç»­ç»­å¿«å†™äº†ä¸¤å¤©ï¼Œæ¬¢è¿å¤§å®¶çœ‹äº†ä»¥åæä¸€äº›æ„è§ï¼Œå‡½æ•°å®ç°çš„ä¸ä¸€å®šéƒ½å¯¹ï¼Œè‚¯å®šæœ‰ä¸€äº›é—®é¢˜çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ã€‚</p>
</blockquote>
<p><strong>æœ€åæŠŠä»£ç æ”¾åˆ°githubä¸Šé¢äº†</strong> </p>
<p><a href="https://github.com/qianlongo/es5-funcs" target="_blank" rel="external">githubåœ°å€</a></p>
<p>å„ä½å¤§å¤§ï¼Œè¯·è®©æˆ‘æ‰“ä¸ªå°å¹¿å‘Šã€‚ğŸ˜„ğŸ˜„ğŸ˜„</p>
<p><a href="https://qianlongo.github.io/">åšå®¢åœ°å€</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[underscoreæºç åˆ†æç³»åˆ—ï¼3ï¼å¯¹è±¡æ–¹æ³•ç®€åˆ†æ]]></title>
      <url>https://qianlongo.github.io/2016/10/16/underscore%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%EF%BC%8D3/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>åœ¨å‰ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦è¯´äº†<code>underscore</code>ä¸­å‡ ä¸ªå¾ˆå¸¸è§ä¹Ÿå¾ˆç®€å•çš„apiï¼Œåœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›è¯´ä¸€ä¸‹<code>å¯¹è±¡</code>æ–¹é¢çš„api</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/687474703a2f2f6a6263646e322e62302e7570616979756e2e636f6d2f323031362f30322f65333666346164353166656637333466616536636466313535623035333233392e6a706567.jpeg" alt="underscoreæºç åˆ†æç³»åˆ—ï¼3"></p>
<a id="more"></a>
<h2 id="isNull"><a href="#isNull" class="headerlink" title="_.isNull"></a>_.isNull</h2><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯nullï¼Œå¦‚æœäº‹å°±è¿”å›trueã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.isNull = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> obj === <span class="literal">null</span>;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ¤æ–­ç”¨çš„äº‹ä¸‰ç­‰ï¼Œä¹Ÿå°±æ˜¯å½“ä½ ä¼ å…¥undefined çš„æ—¶å€™ï¼Œè¿”å›çš„äº‹falseã€‚</p>
<h2 id="isUndefined"><a href="#isUndefined" class="headerlink" title="_.isUndefined"></a>_.isUndefined</h2><blockquote>
<p>åˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦äº‹undefined</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.isUndefined = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> obj === <span class="keyword">void</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>åˆ¤æ–­æ¡ä»¶ä¸­ç”¨çš„æ˜¯ voidï¼Œå…¶ä½œç”¨çš„èµ·åˆ°è®¡ç®—è¡¨è¾¾å¼çš„ä½œç”¨ï¼Œè®¡ç®—ç»“æŸä¹‹åæ°¸è¿œè¿”å›undefinedï¼Œä¸ºä»€ä¹ˆè¿™é‡Œè¦ç”¨åˆ°voidè¿™ä¸ªç‰¹æ€§å‘¢ï¼Ÿ æœ¬è´¨ä¸Šè¿˜æ˜¯å› ä¸ºä½ç‰ˆæœ¬çš„ieä¸­undefinedæ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚</p>
<h2 id="isNaN"><a href="#isNaN" class="headerlink" title="_.isNaN"></a>_.isNaN</h2><blockquote>
<p>å¦‚æœobject æ˜¯ â€œä¸æ˜¯ä¸€ä¸ªæ•°å­—â€ï¼Œåˆ™è¿”å›trueã€‚ </p>
</blockquote>
<p><strong>æ³¨æ„ï¼š è¿™å’ŒåŸç”Ÿçš„isNaN å‡½æ•°ä¸ä¸€æ ·ï¼Œå¦‚æœå˜é‡æ˜¯undefinedï¼ŒåŸç”Ÿçš„isNaN å‡½æ•°ä¹Ÿä¼šè¿”å› true ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.isNaN = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> _.isNumber(obj) &amp;&amp; obj !== +obj;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é¦–å…ˆåˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯Numberç±»å‹ï¼Œæ¥ç€åˆ¤æ–­è¯¥å€¼æ˜¯å¦ç­‰äºæœ¬èº«ã€‚é‡ç‚¹çœ‹åé¢çš„åˆ¤æ–­æ¡ä»¶ <code>+obj</code>,è¿™å¥è¯å¯ä»¥å°†å­—ç¬¦ä¸²çš„æ•°å­—è½¬åŒ–æˆçœŸæ­£çš„æ•°å­—ï¼Œä¾¿æ’é™¤äº†<code>isNaN</code>è¿™ç§æƒ…å†µã€‚</p>
<h2 id="isObject"><a href="#isObject" class="headerlink" title="_.isObject"></a>_.isObject</h2><blockquote>
<p>å¦‚æœobjectæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›trueã€‚éœ€è¦æ³¨æ„çš„æ˜¯JavaScriptæ•°ç»„å’Œå‡½æ•°æ˜¯å¯¹è±¡ï¼Œå­—ç¬¦ä¸²å’Œæ•°å­—ä¸æ˜¯ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">_.isObject = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> type = <span class="keyword">typeof</span> obj;</div><div class="line">  <span class="keyword">return</span> type === <span class="string">'function'</span> || type === <span class="string">'object'</span> &amp;&amp; !!obj;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>jsçš„é›†ä¸­æ•°æ®ç±»å‹ä¸­åŒ…æ‹¬å¸¸è§çš„<code>{}</code>,å…¶å®å‡½æ•°ä¹Ÿçœ‹ä½œæ˜¯ä¸€ç§å¯¹è±¡ç±»å‹ã€‚å½“ç„¶<code>null</code>ä¹Ÿç§°ä½œæ˜¯ç©ºå¯¹è±¡ã€‚æ‰€ä»¥è¯¥apiï¼Œå°†ç±»å‹æ˜¯<code>function</code>æˆ–è€…<code>object</code>(å‡ºäº†null)éƒ½è¿”å›trueã€‚</p>
<h2 id="isElement"><a href="#isElement" class="headerlink" title="_.isElement"></a>_.isElement</h2><blockquote>
<p>å¦‚æœobjectæ˜¯ä¸€ä¸ªDOMå…ƒç´ ï¼Œè¿”å›trueã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.isElement = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> !!(obj &amp;&amp; obj.nodeType === <span class="number">1</span>);	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é€šè¿‡ä¼ å…¥å¯¹è±¡çš„nodeTypeå±æ€§æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯DOMå…ƒç´ ï¼Œå…¶å®è¿™æ ·å¹¶ä¸ä¸¥è°¨ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="attr">nodeType</span>: <span class="number">1</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(_.isElement(obj)) =&gt; <span class="literal">true</span>;</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°åªè¦å¯¹è±¡æœ‰ä¸€ä¸ªå±æ€§æ˜¯nodeTypeå¹¶ä¸”æ˜¯1ï¼Œé‚£ä¹ˆ_.isElementå°±ä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªDOMå…ƒç´ ã€‚</p>
<h2 id="has-object-key"><a href="#has-object-key" class="headerlink" title="_.has(object, key)"></a>_.has(object, key)</h2><blockquote>
<p>åˆ¤æ–­objectå¯¹è±¡æ˜¯å¦å«æœ‰keyå±æ€§ã€‚ æœ‰åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var ObjProto = Object.prototype;</div><div class="line">var hasOwnProperty = ObjProto.hasOwnProperty;</div><div class="line"></div><div class="line">_.has = function (obj, has) &#123;</div><div class="line">  return obj != null &amp;&amp; hasOwnProperty.call(obj, key);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>æ³¨æ„è¿™é‡Œé€šè¿‡hasOwnPropertyåˆ¤æ–­ï¼Œä¹Ÿå°±æ˜¯åŸå½¢æ˜¯ä¸Šé¢çš„å±æ€§ï¼Œä¸ä¼šå»åˆ¤æ–­ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Person.prototype.sex = <span class="string">'boy'</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Person(<span class="string">'qianlong'</span>);</div><div class="line"></div><div class="line">_.has(p1, <span class="string">'name'</span>); <span class="comment">// true</span></div><div class="line">_.has(p1, <span class="string">'sex'</span>); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<h2 id="isArray"><a href="#isArray" class="headerlink" title="_.isArray"></a>_.isArray</h2><blockquote>
<p>åˆ¤æ–­ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯æ•°ç»„ï¼Œå¦‚æœæ˜¯å°±è¿”å›<code>true</code></p>
</blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œæƒ³å¿…å¤§å®¶æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œæˆ‘ä»¬çœ‹ä¸‹_ä¸­æ˜¯æ€ä¹ˆå®ç°çš„</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ObjProto = <span class="built_in">Object</span>.prototype;</div><div class="line"><span class="keyword">var</span> toString = ObjProto.toString;</div><div class="line"><span class="keyword">var</span> nativeIsArray = <span class="built_in">Array</span>.isArray;</div><div class="line"></div><div class="line">_.isArray = nativeIsArray || <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> toString.call(obj) === <span class="string">'[object Array]'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>é¦–å…ˆåœ¨æºç çš„å¼€å¤´ä¿å­˜äº†nativeIsArrayï¼Œå¦‚æœåœ¨æ”¯æŒè¯¥å‡½æ•°çš„æµè§ˆå™¨ä¸­å°±ç”¨è¿™ä¸ªï¼Œå¦‚æœåœ¨ä¸€äº›ç‰ˆæœ¬è¾ƒä½çš„æµè§ˆå™¨ä¸­å°±ç”¨è‡ªå·±å®ç°çš„ã€‚å¾ˆæ˜¾ç„¶å…¶ä»–çš„æ•°æ®ç±»å‹ä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•æ¥å®ç°ã€‚</p>
<h2 id="isArguments-isFunction-isString-isNumber-isDate-isRegExp-isError"><a href="#isArguments-isFunction-isString-isNumber-isDate-isRegExp-isError" class="headerlink" title=".isArguments, .isFunction ,.isString, .isNumber, .isDate, .isRegExp, _.isError"></a><em>.isArguments, </em>.isFunction ,<em>.isString, </em>.isNumber, <em>.isDate, </em>.isRegExp, _.isError</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">_.each([<span class="string">'Arguments'</span>, <span class="string">'Function'</span>, <span class="string">'String'</span>, <span class="string">'Number'</span>, <span class="string">'Date'</span>, <span class="string">'RegExp'</span>, <span class="string">'Error'</span>], <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    _[<span class="string">'is'</span> + name] = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> toString.call(obj) === <span class="string">'[object '</span> + name + <span class="string">']'</span>;</div><div class="line">    &#125;;</div><div class="line">  &#125;);</div></pre></td></tr></table></figure>
<p>è¿™é‡Œç”¨åˆ°äº†å…¶è‡ªèº«çš„å·¥å…·æ–¹æ³•<code>_.each</code>æ¥å¯¹ä¸€ä¸ªæ•°ç»„è¿›è¡Œéå†ï¼Œæœ€åå¯¼å‡ºå¤šä¸ªç›¸åº”çš„åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[underscoreæºç åˆ†æç³»åˆ—ï¼2ï¼å¸¸è§ç®€å•å‡½æ•°åˆ†æ]]></title>
      <url>https://qianlongo.github.io/2016/10/16/underscore%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%EF%BC%8D2/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>è¿™ä¸€ç¯‡æºç åˆ†æä¸­ï¼Œæˆ‘ä»¬ä¼šè¯•ç€å»çœ‹<code>underscore</code>å‡ ä¸ªæ¯”è¾ƒå¸¸è§çš„å‡½æ•°</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/075139_ey1FV7wc.jpg" alt=""></p>
<a id="more"></a>
<h2 id="random"><a href="#random" class="headerlink" title="_.random"></a>_.random</h2><blockquote>
<p>è¿”å›ä¸€ä¸ªmin å’Œ maxä¹‹é—´çš„éšæœºæ•´æ•°ã€‚å¦‚æœä½ åªä¼ é€’ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå°†è¿”å›0å’Œè¿™ä¸ªå‚æ•°ä¹‹é—´çš„<code>æ•´æ•°</code>ã€‚å–å€¼èŒƒå›´æ˜¯[min, max],æ³¨æ„æ˜¯é—­åŒºé—´</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">_.random = <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (max == <span class="literal">null</span>) &#123;</div><div class="line">    max = min;</div><div class="line">    min = <span class="number">0</span>;</div><div class="line">  &#125;	</div><div class="line">  <span class="keyword">return</span> min + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‡½æ•°å‚æ•°å¯ä»¥ä¼ è¿›å»ä¸¤ä¸ªæˆ–è€…ä¸€ä¸ªï¼Œå½“ä¸ºä¸€ä¸ªçš„æ—¶å€™ï¼Œè¿”å›çš„æ˜¯[0, max] ä¹‹é—´çš„ä¸€ä¸ªæ•´æ•°ï¼Œå¹³å®éœ€è¦å¾—åˆ°ä¸€ä¸ªæŒ‡å®šèŒƒå›´çš„æ•°å­—çš„æ—¶å€™ï¼Œæ¯”è¾ƒå¸¸ç”¨ã€‚</p>
<h2 id="noConflict"><a href="#noConflict" class="headerlink" title="_.noConflict"></a>_.noConflict</h2><blockquote>
<p>æ”¾å¼ƒUnderscore çš„æ§åˆ¶å˜é‡â€_â€ã€‚è¿”å›Underscore å¯¹è±¡çš„å¼•ç”¨ã€‚ä¹Ÿå°±æ˜¯ä¸ºäº†é˜²æ­¢å†²çªè€Œåšçš„å¤„ç†ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ³¨æ„åœ¨æºç ä¸€å¼€å¤´æœ‰è¿™å¥è¯</span></div><div class="line"><span class="keyword">var</span> previousUnderscore = root._;</div><div class="line"></div><div class="line">_.noConflict = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  root._ = previousUnderscore;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">this</span>;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»£ç éå¸¸ç®€å•ï¼Œå°±æ˜¯æŠŠåŸæ¥çš„å…¨å±€å˜é‡_ç»™èµ‹å€¼å›å»ï¼Œè€Œå°†underscoreçš„å¼•ç”¨ä½œä¸ºå‡½æ•°è°ƒç”¨åçš„è¿”å›å€¼ï¼Œæä¾›ç»™è°ƒç”¨æ–¹ä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ç§éå¸¸ç»å…¸çš„é˜²æ­¢å…¨å±€å†²çªçš„æ–¹æ³•ã€‚</p>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong>æˆ‘ä»¬è¦å†™ä¸€ä¸ªå¹³å®è‡ªå·±ç»å¸¸è¦ç”¨åˆ°çš„å·¥å…·ç±»ï¼Œå–çš„åå­—æ˜¯$,å½“ç„¶å‡è®¾ä¹‹å‰ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“jQueryä¸­ä¹Ÿç”¨äº†è¿™ä¸ªåå­—ï¼Œé‚£ä¹ˆåœ¨å®é™…é¡¹ç›®ä¸­ä¸ºäº†é˜²æ­¢è‡ªå·±å†™çš„è¿™ä¸ªå·¥å…·åº“æŠŠå…¨å±€çš„ç¾å…ƒç¬¦å·ç»™æ±¡æŸ“æ‰ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/jquery/3.0.0/jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line"> (<span class="function"><span class="keyword">function</span>(<span class="params">win</span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> prev$ = win.$,</div><div class="line">      $ = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      </div><div class="line">      &#125;;</div><div class="line">      $.isUndefined = <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> obj === <span class="keyword">void</span>(<span class="number">0</span>);		</div><div class="line">      &#125;</div><div class="line">      $.random = <span class="function"><span class="keyword">function</span> (<span class="params">min, max</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.isUndefined(max)) &#123;</div><div class="line">          max = min;</div><div class="line">          min = <span class="number">0</span>;</div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> min + <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>))</div><div class="line">      &#125;;</div><div class="line">      $.showMessage = <span class="function"><span class="keyword">function</span> (<span class="params">msg</span>) </span>&#123;</div><div class="line">        alert(msg)</div><div class="line">      &#125;;</div><div class="line">      $.noConflict = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        win.$ = prev$;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">      &#125;</div><div class="line">      win.$ = $;</div><div class="line">&#125;)(<span class="built_in">window</span>);</div><div class="line"></div><div class="line"></div><div class="line">	$.showMessage(<span class="string">'hello world'</span>); <span class="comment">// å¼¹å‡ºhello world</span></div><div class="line">		</div><div class="line"><span class="comment">//è‡ªå·±å†™çš„$æŠŠjQueryä¸­çš„$ç»™è¦†ç›–æ‰äº†</span></div><div class="line">  </div><div class="line">    <span class="keyword">var</span> my$ = $.noConflict(); <span class="comment">// ä¸æ‰§è¡Œè¿™å¥ ä¸‹é¢çš„$() è°ƒç”¨ä¼šæ²¡æœ‰ååº”</span></div><div class="line">    </div><div class="line">    $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      alert(<span class="string">'hello world two'</span>); <span class="comment">// å¼¹å‡ºhello world two</span></div><div class="line">    &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="noop"><a href="#noop" class="headerlink" title="_.noop"></a>_.noop</h2><blockquote>
<p>è¿”å›undefinedï¼Œä¸è®ºä¼ é€’ç»™å®ƒçš„æ˜¯ä»€ä¹ˆå‚æ•°ã€‚ å¯ä»¥ç”¨ä½œé»˜è®¤å¯é€‰çš„å›è°ƒå‚æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">_.noop = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</div></pre></td></tr></table></figure>
<p>underscoreå¸®æˆ‘ä»¬æä¾›ä¸€ä¸ªç©ºå‡½æ•°ï¼Œè¿™ä¸ªæœ‰å•¥ç”¨å‘¢ï¼Ÿ å…¶å®è¿˜çœŸæœ‰ç”¨å¤„ï¼Œå¹³å®å¦‚æœæˆ‘ä»¬è¦åˆå§‹åŒ–æŸä¸ªå˜é‡ä¸ºç©ºå‡½æ•°ï¼Œæ–¹ä¾¿åé¢å†æŠŠè¿™ä¸ªå˜é‡å¯¹åº”çš„å€¼æ›¿æ¢æ‰ã€‚åˆæˆ–è€…ç”šè‡³ç”¨ä½œåˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯undefinedã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (a == _.noop()) &#123;</div><div class="line">  alert(<span class="string">'a æ˜¯ undefined'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">showMsg</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</div><div class="line">  <span class="attr">showAge</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  <span class="attr">showMsg</span>: _.noop,</div><div class="line">  <span class="attr">showAge</span>: _.noop</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¾ˆæ˜¾ç„¶è¿™æ ·å¯ä»¥æœ‰ä¸¤ä¸ªå¥½å¤„ï¼Œ</p>
<ol>
<li>å› ä¸ºåœ¨ieä½ç‰ˆæœ¬ä¸­undefinedçš„å€¼å¯èƒ½è¢«æ”¹å†™ï¼Œæ‰€ä»¥å¯¼è‡´åˆ¤æ–­ä¸å‡†ç¡®ã€‚ä½†æ˜¯å¦‚æœç›´æ¥äº<code>_.noop()</code>ç›¸æ¯”è¾ƒå°±ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜</li>
<li>ç›´æ¥ç»™æµè§ˆå™¨çœäº†åˆ›å»ºä¸¤ä¸ªç©ºå‡½æ•°çš„éº»çƒ¦</li>
</ol>
<h2 id="now"><a href="#now" class="headerlink" title="_.now"></a>_.now</h2><blockquote>
<p>ä¸€ä¸ªä¼˜åŒ–çš„æ–¹å¼æ¥è·å¾—ä¸€ä¸ªå½“å‰æ—¶é—´çš„æ•´æ•°æ—¶é—´æˆ³ã€‚å¯ç”¨äºå®ç°å®šæ—¶/åŠ¨ç”»åŠŸèƒ½ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.now = <span class="built_in">Date</span>.now || <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚æœå½“å‰çš„æµè§ˆå™¨æä¾›çš„Dateå¯¹è±¡ä¸­å«æœ‰nowå‡½æ•°å°±ç”¨ç›´æ¥æä¾›çš„ï¼Œå¦åˆ™å°±ç”¨è‡ªå·±å®ç°çš„ã€‚å¹³å¸¸å¦‚æœéœ€è¦ç”Ÿæˆå”¯ä¸€çš„idï¼Œå¯ä»¥ç”¨åˆ°è¿™ä¸ªå‡½æ•°ã€‚</p>
<h2 id="identity"><a href="#identity" class="headerlink" title="_.identity"></a>_.identity</h2><blockquote>
<p>è¿”å›ä¸ä¼ å…¥å‚æ•°ç›¸ç­‰çš„å€¼,è¿™ä¸ªå‡½æ•°çœ‹ä¼¼æ— ç”¨, ä½†æ˜¯åœ¨Underscoreé‡Œè¢«ç”¨ä½œé»˜è®¤çš„è¿­ä»£å™¨iterator.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_.identity = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> value;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å‡½æ•°éå¸¸ç®€å•å°±æ˜¯ä½ ä¼ è¿›æ¥ä»€ä¹ˆä¸œè¥¿å°±è¿”è¿˜ç»™ä½ ä»€ä¹ˆä¸œè¥¿ã€‚</p>
<h2 id="constant"><a href="#constant" class="headerlink" title="_.constant"></a>_.constant</h2><blockquote>
<p>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›ä¼ å…¥çš„å€¼ ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">_.constant = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> value;</div><div class="line">  &#125;	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="uniqueId"><a href="#uniqueId" class="headerlink" title="_.uniqueId"></a>_.uniqueId</h2><blockquote>
<p>ä¸ºéœ€è¦çš„å®¢æˆ·ç«¯æ¨¡å‹æˆ–DOMå…ƒç´ ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„idã€‚å¦‚æœprefixå‚æ•°å­˜åœ¨ï¼Œ id å°†é™„åŠ åœ¨å…¶åé¢ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> idCounter = <span class="number">0</span>;</div><div class="line">_.uniqueId = <span class="function"><span class="keyword">function</span> (<span class="params">prefix</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> id = ++idCounter + <span class="string">''</span>; <span class="comment">// å°†æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></div><div class="line">  <span class="keyword">return</span> prefix ? prefix + id : id;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>ä¸‡äº‹å¼€å¤´éš¾ï¼Œå•¥å¤æ‚éš¾çš„äº‹éƒ½æ˜¯ä»ç®€å•å®¹æ˜“çš„äº‹æƒ…å¼€å§‹åšçš„ï¼Œè¿™ç¯‡åšæ–‡ä¸»è¦è®²äº†å‡ ä¸ª<code>underscore</code>ä¸­éå¸¸ç®€å•çš„apiã€‚æ¥ä¸‹æ¥ä¼šæ…¢æ…¢æ¥è§¦ä¸€äº›æ¯”è¾ƒéš¾çš„ï¼Œåˆéå¸¸é‡è¦çš„apiã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ä½ çœ‹ï¼Œä»–ä»¬éƒ½åœ¨æ„Ÿæ©]]></title>
      <url>https://qianlongo.github.io/2016/10/15/%E4%BD%A0%E7%9C%8B%EF%BC%8C%E4%BB%96%E4%BB%AC%E9%83%BD%E5%9C%A8%E6%84%9F%E6%81%A9/</url>
      <content type="html"><![CDATA[<blockquote>
<p>è¿™æ˜¯ä¸€ç¯‡åœ¨å¤§ä¸€æ—¶å€™å†™çš„æ–‡ç« ï¼Œè½¬çœ¼é—´è¿‡å»å››å¹´ï¼Œè‡ªå·±ä¹Ÿå¼€å§‹å‡ºæ¥å·¥ä½œï¼Œä½†æ˜¯ç»™çˆ¸å¦ˆå”±ã€Šçˆ¶äº²ã€‹è¿™é¦–æ­Œçš„æ„Ÿè§‰ä¾ç„¶è¿˜åœ¨ã€‚æ„¿æˆ‘ä»¬æ—¶å¸¸å¿ƒå­˜æ„Ÿæ¿€ã€æ„Ÿæ©ã€‚</p>
</blockquote>
<p>â€œé¸¦æœ‰åå“ºä¹‹æƒ…ï¼Œç¾Šæœ‰è·ªä¹³ä¹‹ä¹‰â€ç”Ÿè€Œä¸ºäººï¼Œæˆ‘ä»¬è¦æ‡‚å¾—åŠ©äººäºå›°é¡¿ï¼Œæ•‘äººäºå±éš¾ï¼Œæ›´è¦æ‡‚å¾—çŸ¥æ©å›¾æŠ¥ï¼Œå—ä¹‹æ»´æ°´ï¼ŒæŠ¥ä»¥æ¶Œæ³‰ã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/thankyou.jpg" alt="æ„Ÿæ©å›¾ç‰‡"></p>
<a id="more"></a>
<p>æ„Ÿæ©æ˜¯ä¸‰é¡¾èŒ…èŠ¦çš„æ­»è€Œåå·²ã€‚ç”Ÿäºæˆ˜ç«çº·é£çš„ä¸‰å›½ï¼Œä½ é«˜å§èŒ…èŠ¦ï¼Œé—²åº­å±±æ°´ã€‚â€œä¸æ±‚é—»è¾¾äºè¯¸ä¾¯â€æ˜¯ä½ å¿—è¶£çš„å½’å®¿;â€œå‡¤æ­Œç¬‘å­”ä¸˜ï¼Œä¸€ç”Ÿå¥½å…¥åå±±æ¸¸â€æ˜¯ä½ ä¸ªæ€§çš„å†™ç…§ã€‚ä½†æ„Ÿäºåˆ˜å¤‡ä¸‰é¡¾ä¹‹æ©ï¼Œä½ æ¯…ç„¶é€‰æ‹©äº†å‡ºå±±ï¼Œä¸ºäº†ç»Ÿä¸€å¤§ä¸šï¼Œä½ å…­å‡ºç¥ˆå±±ï¼Œä¸ƒæ“’å­Ÿè·ï¼Œæ’å…«é˜µï¼Œæ¼”ä¸ƒæ˜Ÿèµ¤å£ç«æ¸©æš–äº†ä¸œå´ï¼Œè‰èˆ¹ä¸Šåˆ»æœ‰ä½ çš„æ™ºæ…§ã€‚å½“æ±‰å®¤æ±Ÿå±±æ‘‡æ‘‡æ¬²å ä¹‹é™…ï¼Œä½ æŒ½ç‹‚æ¾œäºæ—¢å€’ï¼Œæ‰¶å¤§å¦äºå°†å€¾ï¼Œç”¨åŒæ‰‹æ‰˜èµ·å®ƒçš„å…´è¡°å­˜äº¡ã€‚å½“äº”ä¸ˆåŸçš„ç§‹é£åˆ®èµ·ï¼Œä½ ç”¨ä¸€ç”Ÿçš„å¿ è¯šè¯ é‡Šäº†æ„Ÿæ©çš„é‡é‡ã€‚</p>
<p>æ„Ÿæ©æ˜¯ä¸€æ¯å¥¶çš„ç”Ÿå‘½å›æŠ¥ã€‚ç¾å›½è‘—ååŒ»ç”Ÿå¯Œå…°å…‹æ—.é“å°”é¡¿å¹´å¹¼æ—¶ç–¾è‹¦éš¾å½“ï¼Œä¸€æ—¥ï¼Œèµ°åœ¨å‡›å†½çš„å¯’é£ä¸­ï¼Œåˆç´¯åˆé¥¿çš„ä»–é€è¿‡è¡—é“æ—çš„çª—æˆ·ï¼Œæ¸©æš–çš„ç¯å…‰ä¸‹ï¼Œä¸€ä¸ªå°å¥³å­©æ­£åœ¨å’Œå¥¹çš„å®¶äººåƒé¥­ï¼Œæœ‰è¯´æœ‰ç¬‘ã€‚é¼“èµ·ä¸‡åˆ†å‹‡æ°”ï¼Œä»–æ•²å“äº†é‚£åº§é—¨ã€‚â€œèƒ½ç»™æˆ‘â€¦ä¸€å£æ°´å–å—ï¼Ÿâ€é“å°”é¡¿æ€¯æ€¯åœ°è¯´é“ã€‚â€œç»™ï¼Œè¶çƒ­å–å§ï¼Œåˆ«å†»ç€ã€‚â€å°å¥³å­©å¾®ç¬‘ç€é€’è¿‡ä¸€æ¯ç‰›å¥¶ã€‚å¤šå¹´åé“å°”é¡¿æˆå°±åŒ»ä¸šï¼Œä¸ºå°å¥³å­©æ²»æ„ˆä¸æ²»ä¹‹ç—‡ï¼Œåˆ†æ–‡ä¸å–ã€‚ä»–è¯´:â€œä¸€æ¯ç‰›å¥¶è¶³ä»¥å”¤é†’ä¸€é¢—æ„Ÿæ©çš„ç”Ÿå‘½ã€‚â€æ˜¯å•Šï¼æ„Ÿæ©è®©æˆ‘ä»¬æ‡‚å¾—å›æŠ¥ï¼Œè®©æˆ‘ä»¬å¿ƒæ€€å–„å¿µã€‚</p>
<p>æ„Ÿæ©æ˜¯ä¹Œé”¥é©¬çš„å«ç¬‘é¥®æ³£ã€‚å½“æ‹”å±±ä¸¾é¼çš„ç›–ä¸–ä¼ å¥‡è¤ªè‰²æˆä¸€é¡µæ·¡é»„çš„å²å†Œï¼Œé‚£ä¸€å¤œæ¥šæ­Œå››èµ·ï¼Œå£«å’é€ƒæ•£ã€‚ç«™åœ¨ç”Ÿå‘½çš„å¼¯é“ï¼Œæ˜¯ç»§ç»­éšé¡¹ç¾½å¥‹åŠ›æ€æ•Œï¼Œè¿˜æ˜¯æ‰å¤´ä¸œè½¬ï¼Œå¼ƒä»–è€Œå»ï¼Ÿè¿™ä¸€åˆ»ï¼Œä¸è§ä½ èŒ«ç„¶å¤±è‰²ï¼Œå´è§ä¹Œé”¥é¢ˆè¡€å°½æŸ“ä¹Œæ±Ÿã€‚è‹å¤©æŠ½æ³£å¤§åœ°æ— è¯­ã€‚å¥½ä¸€åŒ¹ä¹Œé”¥å“¦ï¼æ„Ÿæ©é¡¹ç¾½ï¼Œé‚£ä¸€åˆ»åœ¨æµæ˜Ÿåˆ’ç ´å¤©é™…çš„åˆ¹é‚£ï¼Œä½ çœŸæ­£ä¸å²æœˆé•¿æ²³å®Œç¾å¯¹æ¥ã€‚</p>
<p>å°æ—¶å€™å–œæ¬¢ä¾ååœ¨çˆ¸çˆ¸å¦ˆå¦ˆçš„æ€€æŠ±ï¼Œè§‰å¾—ä»–ä»¬æ˜¯ä¸€åº§å±±ï¼Œæ·±å¹½çš„å±±ã€‚æˆ‘æ˜¯ä¸€æ¡è—¤ï¼Œç¼ ç»•çš„è—¤ã€‚è—¤ä¸ç¦»å±±ï¼Œå±±çœ·ç€è—¤ã€‚å½“å±±ä¸å†é‚£ä¹ˆé«˜å¤§å·å³¨ï¼Œè—¤å°±è¯¥å¥‹åŠ›èŒå£®æˆé•¿ï¼Œä¸ºå±±é€å»ä¸€ä»½é˜´å‡‰ï¼Œä¸€ä»½å¸Œå†€ã€‚</p>
<p>   æ¯äº²èŠ‚ï¼Œå”±äº†ä¸€é¦–ã€Šçˆ¶äº²ã€‹ç»™çˆ¸çˆ¸å¦ˆå¦ˆå¬ï¼Œä½ ä»¬åœ¨å„¿å­å¿ƒä¸­æ˜¯åŒâ€œä¸€ä¸ªäººâ€ï¼Œæ˜¯æœ€é‡è¦ï¼Œæœ€çˆ±ï¼Œæœ€ç–¼çš„äººï¼Œæˆ‘çˆ±ä½ â€¦â€¦æˆ‘æ˜¯ä½ çš„éª„å‚²å—ï¼Ÿè¿˜åœ¨ä¸ºæˆ‘è€Œæ‹…å¿ƒå—ï¼Ÿ ä½ ç‰µæŒ‚çš„å­©å­å•Šï¼Œé•¿å¤§å•¦ã€‚å„¿å­é•¿å¤§å•¦ï¼Œè°¢è°¢ä½ ä»¬åšçš„ä¸€åˆ‡ï¼ŒåŒæ‰‹æ’‘èµ·æˆ‘ä»¬çš„å®¶ã€‚ä»¥åå„¿å­çš„æ‰‹ä¹Ÿè¦å’Œä½ ä»¬ç´§ç´§åœ°æŠ±åœ¨ä¸€èµ·ï¼Œä¸€èµ·æ¸©æš–æˆ‘ä»¬çš„å®¶â€¦â€¦</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[react-slider]]></title>
      <url>https://qianlongo.github.io/2016/10/08/react-slider/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>react è‡ªä»å»å¹´ç«èµ·æ¥ä¹‹åï¼Œåœ¨å‰ç«¯çš„åº”ç”¨å¯è°“å¹¿æ³›ï¼Œè®¸å¤šäººä¸ºä¹‹å€¾å€’ï¼Œç»„ä»¶åŒ–ï¼Œè™šæ‹Ÿdomï¼Œä»å¾ˆå¤§ç¨‹åº¦ä¸Šå°†å‰ç«¯å¼€å‘è€…çš„æ€ç»´ä»jQuery domæ“ä½œçš„æ—¶ä»£åŠˆå°†å¼€æ¥ã€‚å‡ ä¸ªæœˆä¹‹å‰ç”¨reacté…åˆwebpackæ‰“åŒ…å°è¯•å†™äº†ä¸€ä¸ªè½®æ’­å›¾æ»šåŠ¨ç»„ä»¶ï¼Œä¸€ç›´æ²¡æœ‰çºªå½•å’Œæ€»ç»“ä¸‹æ¥ï¼Œç°åœ¨é‡æ–°ç¿»èµ·ï¼Œå¸Œæœ›å¯ä»¥å°†å…¶å†™æˆä¸€ç¯‡åšæ–‡ï¼Œä¸€æ˜¯å›é¡¾reactåŸºæœ¬ç”¨æ³•å’Œåº”ç”¨ï¼ŒäºŒæ˜¯åšæŒå†™åšæ–‡çš„ä¹ æƒ¯ã€‚</p>
</blockquote>
<p><a href="https://github.com/qianlongo/react-slider" target="_blank" rel="external">githubåœ°å€</a></p>
<p><code>è½®æ’­å›¾ç»„ä»¶é¢„è§ˆå¦‚ä¸‹å›¾</code></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/slider.gif" alt="è½®æ’­å›¾å›¾ç¤º"></p>
<a id="more"></a>
<h2 id="ç»„ä»¶åˆ†æ"><a href="#ç»„ä»¶åˆ†æ" class="headerlink" title="ç»„ä»¶åˆ†æ"></a>ç»„ä»¶åˆ†æ</h2><blockquote>
<p>é¦–å…ˆæˆ‘æƒ³åšçš„ç»„ä»¶ä¸»è¦ç›®çš„æ˜¯å±•ç¤ºå¤šå¼ å›¾ç‰‡ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å·¦å³æŒ‰é’®æ¥è¿›è¡Œåˆ‡æ¢ï¼Œåˆæˆ–è€…å¯ä»¥é€šè¿‡åº•éƒ¨çš„å°ç‚¹æŒ‰é’®è¿›è¡Œå›¾ç‰‡åˆ‡æ¢ã€‚ç®€è¦çš„ç”»äº†ä¸€å¼ ç»„ä»¶ç¤ºæ„å›¾å¦‚ä¸‹ï¼Œå°†å…¶æ‹†åˆ†å¼€æ¥ï¼Œå¯ä»¥åˆ†æˆ</p>
</blockquote>
<ol>
<li>å·¦å³ç®­å¤´ï¼ˆæ§åˆ¶å›¾ç‰‡çš„å·¦å³åˆ‡æ¢ï¼‰</li>
<li>åº•éƒ¨å°åœ†ç‚¹ï¼ˆåˆ‡æ¢å›¾ç‰‡ï¼‰</li>
<li>ä¸­é—´å›¾ç‰‡å±•ç¤ºåŒºåŸŸ</li>
</ol>
<p>å‡ ä¸ªéƒ¨åˆ†ã€‚</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/distance.png" alt="ç»„ä»¶åˆ†æ"></p>
<h2 id="é¡¹ç›®ç›®å½•ç»“æ„"><a href="#é¡¹ç›®ç›®å½•ç»“æ„" class="headerlink" title="é¡¹ç›®ç›®å½•ç»“æ„"></a>é¡¹ç›®ç›®å½•ç»“æ„</h2><blockquote>
<p>å¯¹è¦åšçš„ç»„ä»¶æœ‰äº†ä¸€ä¸ªæ¯”è¾ƒæ˜ç¡®çš„åˆ’åˆ†ä¹‹åï¼Œå¯ä»¥å¼€å§‹è§„åˆ’ç›®å½•ç»“æ„ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">--app</div><div class="line">  --components</div><div class="line">  	 --App <span class="comment">// æœ€ç»ˆè¾“å‡ºçš„å®Œæˆçš„å›¾ç‰‡è½®æ’­ç»„ä»¶</span></div><div class="line">  	 	--App.js</div><div class="line">  	 	--App.scss</div><div class="line">  	 --Arrows <span class="comment">// ç®­å¤´å°ç»„ä»¶</span></div><div class="line">  	 	--Arrows.js </div><div class="line">  	 	--Arrows.scss</div><div class="line">  	 --Dots <span class="comment">// å°ç‚¹ç»„ä»¶</span></div><div class="line">  	 	--Dots.js</div><div class="line">  	 	--Dots.scss</div><div class="line">  	 --Imgs <span class="comment">// å›¾ç‰‡ç»„ä»¶</span></div><div class="line">  	 	--Imgs.js</div><div class="line">  	 	--Imgs.scss</div><div class="line">  --images</div><div class="line">  	 ... <span class="comment">// ä¸€äº›é¡¹ç›®ç”¨åˆ°çš„å›¾ç‰‡</span></div><div class="line">  --libs</div><div class="line">    --base.js <span class="comment">// è¾“å‡ºreact éœ€è¦ç”¨åˆ°çš„ React å’Œ DOM</span></div><div class="line">  --styles</div><div class="line">  	 ... <span class="comment">// é¡¹ç›®scss</span></div><div class="line">  --index.js	<span class="comment">// å…¥å£æ–‡ä»¶</span></div><div class="line">--package.json <span class="comment">// é¡¹ç›®ä¾èµ–ä¸ç›¸å…³è¯´æ˜</span></div><div class="line">--READEME.md	 </div><div class="line">--webpack.config.js <span class="comment">// webpacké…ç½®æ–‡ä»¶</span></div><div class="line">--webpack.production.config.js <span class="comment">// æ„å»ºè„šæœ¬</span></div></pre></td></tr></table></figure>
<h2 id="ä»£ç åˆ†æ"><a href="#ä»£ç åˆ†æ" class="headerlink" title="ä»£ç åˆ†æ"></a>ä»£ç åˆ†æ</h2><ul>
<li><strong>webpacké…ç½®æ–‡ä»¶</strong></li>
</ul>
<blockquote>
<p>webpackçš„é…ç½®æ–‡ä»¶å¾ˆå¹³å¸¸ï¼Œå°±æ˜¯æ—¥å¸¸é¡¹ç›®é‡Œé¢ç”¨åˆ°çš„ä¸€ç‚¹çŸ¥è¯†ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</div><div class="line"><span class="keyword">var</span> ROOT_PATH = path.resolve(__dirname);</div><div class="line"><span class="keyword">var</span> APP_PATH = path.resolve(ROOT_PATH, <span class="string">'app'</span>);</div><div class="line"><span class="keyword">var</span> BUILD_PATH = path.resolve(ROOT_PATH, <span class="string">'build'</span>);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">  <span class="attr">entry</span>: APP_PATH, <span class="comment">// å…¥å£æ–‡ä»¶</span></div><div class="line">  output: &#123; <span class="comment">// è¾“å‡ºæ–‡ä»¶</span></div><div class="line">    path: BUILD_PATH,</div><div class="line">    <span class="attr">filename</span>: <span class="string">'bundle.js'</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">devServer</span>: &#123; <span class="comment">// é™æ€æœåŠ¡</span></div><div class="line">    historyApiFallback: <span class="literal">true</span>,</div><div class="line">    <span class="attr">hot</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">inline</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">progress</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">module</span>: &#123;</div><div class="line">    <span class="attr">loaders</span>: [</div><div class="line">      &#123; <span class="comment">// sass loader</span></div><div class="line">        test: <span class="regexp">/\.scss$/</span>,</div><div class="line">        <span class="attr">loaders</span>: [<span class="string">'style'</span>, <span class="string">'css'</span>, <span class="string">'sass'</span>],</div><div class="line">        <span class="attr">include</span>: APP_PATH</div><div class="line">      &#125;,</div><div class="line">      &#123; <span class="comment">// å›¾ç‰‡loader å¤§äº4å…†çš„å›¾ç‰‡è½¬æˆbase64</span></div><div class="line">        test: <span class="regexp">/\.(png|jpg)$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'url?limit=40000'</span></div><div class="line">      &#125;,</div><div class="line">      &#123; <span class="comment">// es6è¯­æ³•æ”¯æŒloader</span></div><div class="line">        test: <span class="regexp">/\.jsx?$/</span>,</div><div class="line">        <span class="attr">loader</span>: <span class="string">'babel'</span>,</div><div class="line">        <span class="attr">include</span>: APP_PATH,</div><div class="line">        <span class="attr">query</span>: &#123;</div><div class="line">          <span class="attr">presets</span>: [<span class="string">'es2015'</span>,<span class="string">'react'</span>]</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">plugins</span>: [ </div><div class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="comment">// å¿«é€Ÿç”Ÿæˆhtmlæ’ä»¶</span></div><div class="line">      title: <span class="string">'hello world app'</span></div><div class="line">    &#125;),</div><div class="line">    <span class="keyword">new</span> webpack.ProvidePlugin(&#123; <span class="comment">// jQueryæ’ä»¶</span></div><div class="line">      $: <span class="string">"jquery"</span>,</div><div class="line">      <span class="attr">jQuery</span>: <span class="string">"jquery"</span>,</div><div class="line">      <span class="string">"window.jQuery"</span>: <span class="string">"jquery"</span></div><div class="line">    &#125;)</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li><strong>lib/base.js</strong></li>
</ul>
<blockquote>
<p>è¯¥æ–‡ä»¶ä¸»è¦ä½œç”¨æ˜¯è¾“å‡ºreactå’Œreact-domçš„å¼•ç”¨è¿™æ ·åœ¨å†™<code>ç®­å¤´ç»„ä»¶</code>ã€<code>å°ç‚¹ç»„ä»¶</code>ã€<code>å›¾ç‰‡ç»„ä»¶</code>çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨æ¯æ¬¡éƒ½å» <code>import</code>äº†ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</div><div class="line"><span class="keyword">import</span> Render <span class="keyword">from</span> <span class="string">'react-dom'</span>;</div><div class="line"></div><div class="line"><span class="keyword">export</span> &#123;</div><div class="line">  React,</div><div class="line">  Render</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å¾ˆç®€å•å§ï¼Œå°±å››å¥ï¼Œåé¢éœ€è¦ç”¨åˆ°reactè¿™ä¸¤ä¸ªå…³é”®åº“çš„æ—¶å€™å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> &#123;React, Render&#125; <span class="keyword">from</span> <span class="string">'./libs/base'</span>;</div></pre></td></tr></table></figure>
<p><strong>å¾…ç»­</strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¤§å­¦å›å¿†-åˆå…¥æ ¡é—¨]]></title>
      <url>https://qianlongo.github.io/2016/10/08/%E5%A4%A7%E5%AD%A6%E5%9B%9E%E5%BF%86-%E5%88%9D%E5%85%A5%E6%A0%A1%E9%97%A8/</url>
      <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><blockquote>
<p>2016å¹´10æœˆ8æ—¥å‡Œæ™¨12ç‚¹åŠï¼Œçª—å¤–çš„ç§‹é›¨æ·…æ·…æ²¥æ²¥åœ°ä¸‹ç€ï¼Œä¸ç´§ä¸æ…¢ï¼Œä¹Ÿä¸å¤§å£°å“ï¼Œæ‚„æ‚„æ»´è½åœ¨åœ°ã€‚æ²¡æœ‰åˆå¤çš„é…·çƒ­éš¾å½“ï¼Œä¹Ÿæ²¡æœ‰å†¬æ—¥çš„å‡Œçƒˆå¯’é£ï¼Œæ­¤æ—¶å…¥çœ å½“æ˜¯æ­£å¥½ã€‚é—­çœ¼æƒ³æ—©æ—©ç¡å»ï¼Œæ˜æ—¥è¿˜å¾—ä¸Šç­å‘¢ï¼ç„¶è„‘æµ·æ€ç»ªä¸æ–­ï¼Œå¤§å­¦ä¸€å¹•å¹•é“ºå°†å¼€æ¥ï¼Œç”šæ˜¯æ€€å¿µã€‚é‚èµ·èº«å¼€ç¯ï¼Œå°†è¿™æ—¶å…‰èµ‹äºˆæ–‡å­—ï¼Œè®°å½•ä¸‹æ¥ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E5%A4%A7%E4%B8%80.jpeg" alt="å¤§ä¸€è„æ©™èŠ‚"></p>
<a id="more"></a>
<p><strong>å¤§ä¸€æˆ‘ä»¬è¿˜æ‡µæ‡µæ‡‚æ‡‚ï¼Œä¸Šè¯¾è¿˜æ˜¯è®¤çœŸå¬è®²çš„å¥½å­©å­ï¼Œå–œæ¬¢å‚åŠ å„ç§ç¤¾å›¢ï¼Œè§åˆ°å–œæ¬¢çš„å¥³å­©å­è¿˜ä¼šå®³ç¾è„¸çº¢â€¦</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E8%A5%BF%E6%A0%A1%E5%8C%BA%E7%85%A7%E7%89%87.jpg" alt="å¤§ä¸€ç¦»å¼€è¥¿æ ¡åŒºç•™å½±"></p>
<p><strong>è½¬çœ¼é—´ï¼Œä¸€å¼ è¥¿æ ¡åŒºçš„åˆå½±æ ‡å¿—ç€ï¼Œå¤§ä¸€å·²ç»ç»“æŸï¼Œå¤§äºŒçš„ç”Ÿæ¶¯å°±è¦å¼€å§‹</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E5%A4%A7%E4%B8%89.jpeg" alt="å¤§ä¸‰é¾™å—æ¸¸ç©"></p>
<p><strong>æ—¶é—´åˆ°äº†å¤§ä¸‰ï¼Œæˆ‘ä»¬ä¸å†çƒ­è¡·äºç¤¾å›¢ã€å­¦ç”Ÿä¼šã€å„ç§æ´»åŠ¨ï¼Œå–œæ¬¢åšäº›è‡ªå·±æƒ³åšçš„äº‹æƒ…ï¼Œä½†æ˜¯ä¾æ—§è¿·èŒ«</strong></p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/%E6%AF%95%E4%B8%9A%E7%85%A7%E7%89%871.jpg" alt="æ¯•ä¸šå­¦å£«ç…§"></p>
<p><strong>ç©¿ä¸Šå­¦å£«æœçš„é‚£ä¸€åˆ»ï¼Œæˆ‘ä»¬æ¯•ä¸šäº†</strong></p>
<blockquote>
<p>å››å¹´åŒ†åŒ†è€Œè¿‡ï¼Œç¦»å¼€æ ¡å›­çš„é‚£ä¸€åˆ»æ„å‘³ç€ä½ æˆ‘éƒ½å‘Šåˆ«äº†ä¸€æ®µçº¯çœŸçš„é’æ˜¥ï¼Œä¸€æ®µå¹´å°‘è½»ç‹‚çš„å²æœˆï¼Œä¸€ä¸ªå……æ»¡å¹»æƒ³çš„æ—¶ä»£â€¦æ¥ä¸‹ä¾¿æ˜¯é£é›¨å…¼ç¨‹ï¼Œä¸ºæ¢¦æƒ³å¤šåŠ åŠªåŠ›ã€‚</p>
</blockquote>
<p>å›æƒ³è¿™å››å¹´ï¼Œä¼¼ä¹å¾ˆæ¼«é•¿ï¼Œå´åˆæ— æ—¶ä¸åˆ»åœ¨é€å»ï¼Œä¸ç»æ„é—´ä¾¿ä»æŒ‡å°–æºœèµ°ã€‚è¿™ä¸ï¼Œä½ æˆ‘éƒ½èƒŒä¸Šè¡Œå›Šï¼Œå¥”å‘è¿œæ–¹ã€‚è¿˜è®°å¾—ç­”è¾©å‰çš„ä¸å®‰ï¼Œåˆ«ç¦»æ—¶çš„ä¼¤æ„Ÿï¼Œæ•£ä¼™é¥­æ—¶å–é†‰çš„æƒ†æ€…å—ï¼Ÿ</p>
<h2 id="é«˜è€ƒç»“æŸ"><a href="#é«˜è€ƒç»“æŸ" class="headerlink" title="é«˜è€ƒç»“æŸ"></a>é«˜è€ƒç»“æŸ</h2><blockquote>
<p>é«˜ä¸‰çš„æ—¥å­æ¯æ¶©åˆæå…¶é…¸ç”œï¼Œç™¾æ— èŠèµ–ä½†å´å……å®é¥±æ»¡ï¼Œé«˜è€ƒè¿‡åï¼ŒåŒå­¦é—´ç›¸äº’å¾€æ¥å¬‰é—¹ï¼Œè®¨è®ºåˆ†æ•°ï¼ŒæœŸå¾…å¤§å­¦æœªæ¥ã€‚åˆ†æ•°å‡ºæ¥åï¼Œä¸æ˜¯å¾ˆç†æƒ³ï¼Œåˆä¸å¤ªæƒ³ç¦»å®¶ä¹¡å¤ªè¿‡é¥è¿œï¼Œäºæ˜¯é€‰æ‹©äº†ä¸€æ‰€æ±Ÿè¥¿çœå£°æœ›ä¸é”™çš„å­¦æ ¡ï¼æ±Ÿè¥¿ç†å·¥å¤§å­¦ã€‚æ”¶åˆ°é€šçŸ¥ä¹¦çš„åˆ¹é‚£ï¼Œå–œæ‚¦éå¸¸ï¼Œæ—¥æ—¥å¹»æƒ³å¤§å­¦ç”Ÿæ´»ï¼Œå¼€å­¦æ—¥æœŸå®šäº9æœˆ12æ—¥å‰åï¼Œä½†è¿«ä¸åŠè€ï¼Œä¸å¥½å‹<code>é™ˆè‰¯æ˜¥</code>å‡†å¤‡8å·ä¾¿å‡ºå‘å‰å¾€èµ£å·æ¢¦æƒ³ä¹‹åœ°ã€‚</p>
</blockquote>
<h2 id="å‰å¾€å¤§å­¦çš„è·¯ä¸Š"><a href="#å‰å¾€å¤§å­¦çš„è·¯ä¸Š" class="headerlink" title="å‰å¾€å¤§å­¦çš„è·¯ä¸Š"></a>å‰å¾€å¤§å­¦çš„è·¯ä¸Š</h2><blockquote>
<p>ä¸Šäº†å¤§å­¦ä¹‹åæ‰çŸ¥é“ï¼ŒåŸæ¥è®¸å¤šå­¦ç”Ÿçš„å®¶é•¿éƒ½ä¼šå°†å…¶å­å¥³é€åˆ°å­¦æ ¡ï¼Œå­©å­ç¬¬ä¸€æ¬¡å‡ºè¿œé—¨ï¼Œå¤šæ˜¯æ”¾å¿ƒä¸ä¸‹ï¼Œå”¯å®‰å…¨é€è¾¾ï¼Œæ–¹å®‰å¿ƒå½’å®¶ï¼Œå¹¶å˜±å’ä¸€äºŒï¼Œå¤§å­¦åˆ‡ä»¥å­¦ä¸šä¸ºé‡ï¼Œä¸å¯è’åºŸäººç”Ÿã€‚è‡ªå·±ä»å°çˆ¸å¦ˆå°±å‡ºè¿œé—¨æ‰“å·¥ï¼Œä¸çˆ·çˆ·ç›¸å®ˆï¼Œç‹¬ç«‹è‡ªæ˜¯ä¸å¿…å¤šè¯´ï¼Œå€’ä¹Ÿçœå»çˆ¸å¦ˆæ‹…å¿ƒçš„å›°æ‰°ã€‚æ”¶æ‹¾ä¸¤ä¸‰è¡Œæï¼Œå¸¦ä¸Šçˆ·çˆ·çš„ç‰µæŒ‚ï¼Œä¾¿ä¸Šè·¯äº†ã€‚</p>
</blockquote>
<h2 id="å¤§è·Œçœ¼é•œ"><a href="#å¤§è·Œçœ¼é•œ" class="headerlink" title="å¤§è·Œçœ¼é•œ"></a>å¤§è·Œçœ¼é•œ</h2><blockquote>
<p>è·¯é€”ä¸é•¿ï¼Œ3ä¸ªå°æ—¶ã€‚ä¾¿åˆ°è¾¾èµ£å·ä¸œæ²³æ±½è½¦ç«™ï¼Œæš‘å‡æ‰“æš‘æœŸå·¥æ—¶ï¼Œè®¤è¯†ä¸€å¸ˆé™¢å¤§äºŒå­¦ç”Ÿ<code>æ¸©ç¨‹</code>ï¼Œä»–ç”šæ˜¯è´´åˆ‡ï¼Œæ‹…å¿ƒæˆ‘ä»¬è·¯å†µä¸ç†Ÿï¼Œç¤¾ä¼šé˜…å†å°šæµ…ï¼Œå®¹æ˜“è¢«éª—ï¼Œå°±æ—©æ—©åœ¨è½¦ç«™æ¥æˆ‘ä»¬ã€‚ç»ˆäºæ¥åˆ°ç†å·¥å¤§ä¸€æ–°ç”Ÿæ ¡åŒºï¼Œæˆ‘å·²åæ§½æ— åŠ›ï¼Œè¿™å°¼ç›çš„å°±æ˜¯æˆ‘æ¢¦æƒ³çš„å¤§å­¦ï¼Ÿ are you kidding me? </p>
</blockquote>
<p><strong>2016/11/20 æ–°æ›´</strong></p>
<p>è½¬çœ¼é—´è·ç¦»å†™è¿™ç¯‡å›å¿†æ–‡ç« å·²ç»æœ‰ä¸€ä¸ªå¤šæœˆäº†ï¼Œè¿™ä¸€ä¸ªå¤šæœˆå‘ç”Ÿäº†å‘ç”Ÿäº†è®¸å¤šçš„äº‹æƒ…ï¼Œå·¥ä½œæ¸æ¸è¶‹äºç¨³å®šï¼Œä¸šåŠ¡æ›´åŠ ç†Ÿæ‚‰ï¼Œåœ¨ç°åœ¨çš„å…¬å¸å’ŒåŒäº‹ä»¬ä¹Ÿç›¸å¤„çš„æŒºæ„‰å¿«çš„ã€‚æˆ‘çš„å®è´å¥³æœ‹å‹æ™šä¸Šè¦æˆ‘æŠ±ç€æ‰ç¡è§‰ğŸ˜„ã€‚</p>
<p>è¿˜æ˜¯ä¸ä¸Šæ¬¡ä¸€æ ·çš„å¿ƒæƒ…ï¼Œå‡†å¤‡å¼€å§‹ç»§ç»­å†™å›å¿†å•¦ã€‚éƒ½è¯´æ–‡å­—æ˜¯è®°å½•å›å¿†æœ€å¥½çš„ä½è¯ï¼Œå› ä¸ºéšç€æ—¶é—´çš„æµé€ï¼Œæˆ‘ä»¬ä¼šå¿˜è®°å¾ˆå¤šäº‹æƒ…ï¼Œå¿˜è®°ä½ æ›¾ç»é’æ˜¥å¹´å°‘ï¼Œå¿˜è®°ä½ ä¸ºæ¢¦æƒ³å¥‹æ–—åŠªåŠ›â€¦</p>
<p>come on !!!</p>
<p><img src="http://odssgnnpf.bkt.clouddn.com/1870.jpg" alt="æ±Ÿè¥¿ç†å·¥å¤§å­¦è¥¿æ ¡åŒºæ ¡é—¨å£ç…§ç‰‡"></p>
<p>!!!æ²¡é”™è¿™å°±æ˜¯æˆ‘å¤§å­¦å¼€å§‹çš„åœ°æ–¹ï¼Œæ±Ÿè¥¿ç†å·¥å¤§å­¦è¥¿æ ¡åŒºã€‚åœ¨ä»¥åçš„æ—¥å­é‡Œï¼Œæ•´æ•´ä¸€å¹´çš„æ—¶é—´é‡Œæˆ‘éƒ½è¦åœ¨è¿™é‡Œåº¦è¿‡ã€‚ç”¨ä¸€å¥è¯é˜è¿°è‡ªå·±å¯¹å¤§å­¦çš„å°è±¡å°±æ˜¯ã€‚å°¼ç›ï¼Œè¿™æ¯”é«˜ä¸­çš„å­¦æ ¡è¿˜å°ï¼Œè¿™æ˜¯åœ¨é€—æˆ‘ä¹ˆã€‚è€å¤©ï¼Œæˆ‘è¦å›å»å¤è¯»!!!</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>ä¸€ç›´æ†§æ†¬çš„å¤§å­¦ç”Ÿæ´»ï¼Œæˆ‘æ¥äº†ï¼Œå’Œæƒ³è±¡ä¸­æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œæ¥ä¸‹æ¥ï¼Œåˆä¼šæœ‰æ€æ ·çš„ç”Ÿæ´»å‘¢!!! </p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[underscoreæºç åˆ†æç³»åˆ—ï¼1ï¼æ•´ä½“ç»“æ„]]></title>
      <url>https://qianlongo.github.io/2016/08/21/underscore%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E7%B3%BB%E5%88%97%EF%BC%8D1/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸€ç›´å¸Œæœ›æœ‰ä¸€ä¸ªæœºä¼šå¯ä»¥é˜…è¯»æŸåº“çš„æºç ï¼Œå¹¶å†™ä¸€äº›è‡ªå·±çš„æƒ³æ³•å’Œæ€è€ƒï¼Œæœ€ç»ˆå°†ç›®æ ‡å®šåœ¨<code>underscore</code>,ä¸€ä¸ªçº¯ç²¹çš„jså·¥å…·åº“ï¼Œæ²¡æœ‰domã€bomçš„å‚ä¸ã€‚</p>
</blockquote>
<p><img src="http://odssgnnpf.bkt.clouddn.com/underscorejs.png" alt="underscore.js"></p>
<a id="more"></a>
<h2 id="æ•´ä½“æ¡†æ¶"><a href="#æ•´ä½“æ¡†æ¶" class="headerlink" title="æ•´ä½“æ¡†æ¶"></a>æ•´ä½“æ¡†æ¶</h2><blockquote>
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œunderscoreå·¥å…·åº“çš„æ•´ä½“æ¡†æ¶</p>
</blockquote>
<p><code>verison</code> <code>1.8.3</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	</div><div class="line">  <span class="comment">//æ‹¿åˆ°ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œbrowserä¸­æ˜¯windowå¯¹è±¡ï¼Œserverä¸­æ˜¯exports</span></div><div class="line">  <span class="keyword">var</span> root = <span class="keyword">this</span>;</div><div class="line">	</div><div class="line">  <span class="comment">// ç¼“å­˜ä¸€äº›åŸç”Ÿjsçš„åŸå‹ä»¥åŠes5çš„æ–¹æ³•</span></div><div class="line">	</div><div class="line">  <span class="comment">// ...</span></div><div class="line">	</div><div class="line">  <span class="comment">//underscoreå·¥å…·åº“çš„æ„é€ å‡½æ•°</span></div><div class="line">  <span class="keyword">var</span> _ = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(obj <span class="keyword">instanceof</span> _) <span class="keyword">return</span> obj;</div><div class="line">    <span class="keyword">if</span>(!(<span class="keyword">this</span> <span class="keyword">instanceof</span> _)) <span class="keyword">return</span> <span class="keyword">new</span> _(obj);</div><div class="line">    <span class="keyword">this</span>._wrapped = obj;</div><div class="line">  &#125;;</div><div class="line">	</div><div class="line">  <span class="comment">//å°†æ„é€ å‡½æ•°æš´éœ²ç»™å…¨å±€</span></div><div class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> exports !== <span class="string">'undefined'</span>)&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">module</span> !== <span class="string">'undefined'</span> &amp;&amp; <span class="built_in">module</span>.exports)&#123;</div><div class="line">      exports = <span class="built_in">module</span>.exports = _;</div><div class="line">    &#125;</div><div class="line">    exports._=_;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    root._ = _;</div><div class="line">  &#125;</div><div class="line">	</div><div class="line">  <span class="comment">// ç‰ˆæœ¬</span></div><div class="line">	</div><div class="line">  _.VERSION = <span class="string">'1.8.3'</span>;</div><div class="line">	</div><div class="line">  <span class="comment">/*underscoreä¸­ä¸€äº›å†…éƒ¨å˜é‡å’Œå‡½æ•°*/</span></div><div class="line">	</div><div class="line">  <span class="comment">//...</span></div><div class="line">	</div><div class="line">  <span class="comment">/*æä¾›ç»™å¤–éƒ¨è°ƒç”¨çš„é™æ€api*/</span></div><div class="line">	</div><div class="line">  _.each = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  _.first = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  _.bind = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  _.keys = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  _.noConfict = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  _.chain = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  <span class="comment">//...</span></div><div class="line">	</div><div class="line">  <span class="comment">//ä¸€äº›åŸå‹ä¸Šé¢çš„æ–¹æ³•</span></div><div class="line">	</div><div class="line">  _.prototype.value = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//TODO</span></div><div class="line">  &#125;;</div><div class="line">  <span class="comment">//...</span></div><div class="line">	</div><div class="line">  <span class="comment">//æ”¯æŒamd</span></div><div class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) &#123;	define(<span class="string">'underscore'</span>, [], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="keyword">return</span> _;</div><div class="line">   &#125;);</div><div class="line">  &#125;</div><div class="line">&#125;).call(<span class="keyword">this</span>);</div></pre></td></tr></table></figure>
<p><strong>å¤§ä½“æ¡†æ¶å¦‚ä¸Šæ‰€è¿°</strong></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸‹underscoreåº“åˆšå¼€å§‹è®¾ç½®å“ªäº›åé¢è¦ç”¨åˆ°çš„å¸¸ç”¨çš„å˜é‡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> root = <span class="keyword">this</span>;</div><div class="line"></div><div class="line"><span class="comment">// ä¿å­˜å¼•è¿›underscoreåº“ä¹‹å‰å¯èƒ½å­˜åœ¨äºå…¨å±€å¯¹è±¡ä¸‹é¢çš„_å±æ€§å€¼ï¼Œä¸»è¦ç»™noConflicté™æ€å‡½æ•°åšå»å†²çªç”¨</span></div><div class="line"><span class="keyword">var</span> previousUnderscore = root._;</div><div class="line"></div><div class="line"><span class="comment">// ä¿å­˜ä¸€äº›é•¿æ±Ÿçš„æ„é€ å‡½æ•°çš„åŸå‹ï¼Œæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰</span></div><div class="line"><span class="keyword">var</span> ArrayProto = <span class="built_in">Array</span>.prototype, ObjProto = <span class="built_in">Object</span>.prototype, FuncProto = <span class="built_in">Function</span>.prototype;</div><div class="line"></div><div class="line"><span class="comment">// ä¿å­˜ä¸€äº›æ•°ç»„çš„å¸¸è§æ–¹æ³•</span></div><div class="line"><span class="keyword">var</span></div><div class="line">  push             = ArrayProto.push,</div><div class="line">  slice            = ArrayProto.slice,</div><div class="line">  toString         = ObjProto.toString,</div><div class="line">  hasOwnProperty   = ObjProto.hasOwnProperty;</div><div class="line"></div><div class="line"><span class="comment">// ä¿å­˜es5çš„ä¸€äº›æ–¹æ³•</span></div><div class="line"></div><div class="line"><span class="keyword">var</span></div><div class="line">  nativeIsArray      = <span class="built_in">Array</span>.isArray,</div><div class="line">  nativeKeys         = <span class="built_in">Object</span>.keys,</div><div class="line">  nativeBind         = FuncProto.bind,</div><div class="line">  nativeCreate       = <span class="built_in">Object</span>.create;</div></pre></td></tr></table></figure>
<h2 id="underscoreæ„é€ å‡½æ•°"><a href="#underscoreæ„é€ å‡½æ•°" class="headerlink" title="underscoreæ„é€ å‡½æ•°"></a>underscoreæ„é€ å‡½æ•°</h2><blockquote>
<p>æœ€åæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œæ„é€ å‡½æ•°æœ¬èº«ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> _ = <span class="function"><span class="keyword">function</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> _) <span class="keyword">return</span> obj; <span class="comment">// å¦‚æœä¼ è¿›æ¥çš„objæ˜¯_çš„å®ä¾‹ï¼Œé‚£ä¹ˆç›´æ¥å°†objè¿”å›</span></div><div class="line">  <span class="keyword">if</span> (!(<span class="keyword">this</span> <span class="keyword">instanceof</span> _)) <span class="keyword">return</span> <span class="keyword">new</span> _(obj); <span class="comment">// å¦‚æœä¸æ˜¯_çš„å®ä¾‹ï¼Œé‚£ä¹ˆå†…éƒ¨ç›´æ¥new ä¸€ä¸ª _çš„å®ä¾‹ï¼Œç„¶åè¿”å›</span></div><div class="line">    <span class="keyword">this</span>._wrapped = obj; <span class="comment">// ç»™_çš„å®ä¾‹æŒ‚ä¸€ä¸ªå±æ€§_wrappedï¼Œå¹¶èµ‹å€¼ä¸ºobj</span></div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
<p><strong>underscoreæ„é€ å‡½æ•°å†…éƒ¨è¿™æ ·å¤„ç†ï¼Œå¯ä»¥ä¿è¯ä¸ç®¡å¤–éƒ¨æ˜¯å¦é€‚ç”¨newçš„å½¢å¼è°ƒç”¨ï¼Œéƒ½ä¼šæ‹¿åˆ°ä¸€ä¸ªunderscoreå®ä¾‹</strong></p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><blockquote>
<p>underscore.jsç¬¬ä¸€ç¯‡å°±å…ˆåˆ°è¿™é‡Œï¼Œäº†è§£äº†å…¶æ•´ä½“çš„ç»“æ„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹åˆ†æä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‡½æ•°ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jQueryæºç åˆ†æï¼åˆ†æç¢ç‰‡ï¼initè§£è¯»]]></title>
      <url>https://qianlongo.github.io/2016/08/14/jQuery%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%EF%BC%8D%E5%88%86%E6%9E%90%E7%A2%8E%E7%89%87%EF%BC%8Dinit%E8%A7%A3%E8%AF%BB/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>è·ç¦»ä¸Šä¸€æ¬¡å†™åšå®¢å·²ç»å¿«4ä¸ªæœˆäº†ï¼Œ4ä¸ªæœˆå¿«ä¹Ÿæ…¢ï¼Œè½¬çœ¼é—´è‡ªå·±ä¾¿æ¯•ä¸šç¦»å¼€å­¦æ ¡ç”±ä¸€åå­¦ç”Ÿæˆä¸ºä¸€å<strong>ä¸Šç­ç‹—</strong>ã€‚æƒ³èµ·6æœˆåˆç­”è¾©æ—¶çš„ç´§å¼ ä¸å®‰ï¼Œåˆ«ç¦»æ—¶çš„ä¸‡åˆ†ä¸èˆï¼Œä¸€åˆ‡ä»¿ä½›å°±åœ¨çœ¼å‰â€¦</p>
</blockquote>
<p><strong>ğŸ˜„ï¼Œå¥½åƒè·‘åäº†ï¼Œå“ˆå“ˆå“ˆï¼ä»Šå¤©æƒ³å¼€å§‹å†™å…³äºjQueryæºç è§£è¯»çš„ç³»åˆ—åšå®¢ï¼ŒjQueryæ˜¯å‰ç«¯å¼€å‘äººå‘˜ä½¿ç”¨éå¸¸å¹¿çš„ç±»åº“ä¹‹ä¸€ï¼Œå¸®åŠ©æˆ‘ä»¬è§£å†³äº†è®¸å¤šç°å®é—®é¢˜ï¼Œå¸Œæœ›é€šè¿‡æŸ¥çœ‹jQueryæºç ï¼Œå­¦ä¹ å…¶ä¸­çš„ç¼–ç¨‹æŠ€å·§ï¼Œè®¾è®¡æ¨¡å¼ï¼Œä»¥åŠå‰ç«¯å¼€å‘ä¸­å¸¸è§çš„çŸ¥è¯†ç‚¹ç­‰ç­‰</strong></p>
<hr>
<a id="more"></a>
<h2 id="åˆ†æç¢ç‰‡ï¼initè§£è¯»"><a href="#åˆ†æç¢ç‰‡ï¼initè§£è¯»" class="headerlink" title="åˆ†æç¢ç‰‡ï¼initè§£è¯»"></a>åˆ†æç¢ç‰‡ï¼initè§£è¯»</h2><blockquote>
<p>jQueryä½¿ç”¨èµ·æ¥éå¸¸çš„æ–¹ä¾¿ï¼Œå’Œå¸¸è§çš„jsé¢ç›¸å¯¹è±¡å†™æ³•æœ‰äº›å·®å¼‚ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>$()</code>å‡½æ•°è°ƒç”¨çš„å½¢å¼æ¥åˆ›å»ºä¸€ä¸ªjQueryå®ä¾‹ï¼Œä»è€Œçœå»<code>new</code> æ“ä½œçš„éº»çƒ¦ã€‚</p>
</blockquote>
<p>ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å‘¢ï¼Ÿ è€å¸ˆå‘Šè¯‰æˆ‘ä»¬å½“ä½ è¦åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œè¯·<code>new</code> ä¸€ä¸ªï¼Œç°åœ¨ä¸<code>new</code>ä¸ºå•¥å°±å¯ä»¥åˆ›å»ºå¯¹è±¡äº†å˜›ï¼Œå…¶å®å¹¶ä¸æ˜¯æ²¡æœ‰<code>new</code>åªæ˜¯jQueryæŠŠè¿™ä¸ªæ“ä½œæ”¾åœ¨äº†å†…éƒ¨ï¼Œè¯·çœ‹â€¦</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">jQuery = <span class="function"><span class="keyword">function</span>(<span class="params"> selector, context </span>) </span>&#123;</div><div class="line"><span class="comment">// The jQuery object is actually just the init constructor 'enhanced'</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> jQuery.fn.init( selector, context, rootjQuery );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹å‡ºï¼Œå½“æˆ‘ä»¬åœ¨$()æ–¹æ³•çš„æ—¶å€™ï¼Œæœ¬è´¨ä¸Šé€šè¿‡jQuery.fn.initè¿™ä¸ªæ„é€ å™¨åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹</strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¼€å§‹ä¸€æ­¥æ­¥çœ‹jQuery.fn.initè¿™ä¸ªæ„é€ å™¨éƒ½åšäº†ä¸€äº›ä»€ä¹ˆäº‹</p>
<h2 id="çš„å¸¸è§ç”¨æ³•"><a href="#çš„å¸¸è§ç”¨æ³•" class="headerlink" title="$() çš„å¸¸è§ç”¨æ³•"></a>$() çš„å¸¸è§ç”¨æ³•</h2><p>å…³äºjQuery $()çš„å¸¸è§ç”¨æ³•æ¬¢è¿æŸ¥çœ‹<a href="http://qianlongo.github.io/2016/03/26/jQuery%E4%B8%AD-%E5%87%BD%E6%95%B0%E7%9A%847%E7%A7%8D%E7%94%A8%E6%B3%95%E6%B1%87%E6%80%BB/">$()çš„ä¸ƒç§å¸¸è§ç”¨æ³•</a></p>
<p>å…¶ä¸­æœ€å¸¸ç”¨çš„æ–¹å¼æ˜¯ç»™$()ä¼ è¿›å»ä¸€ä¸ªå­—ç¬¦ä¸²å’Œæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¹Ÿå°±æ˜¯ jQuery(selector,context)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> match, elem;</div><div class="line"></div><div class="line">	<span class="comment">// HANDLE: $(""), $(null), $(undefined), $(false)</span></div><div class="line">	<span class="keyword">if</span> ( !selector ) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">	&#125;</div></pre></td></tr></table></figure>
<p>initæ–¹æ³•ä¸­ä¸€å¼€å§‹ä¾¿å°†ä¼ è¿›æ¥çš„selectorè¿›è¡Œäº†ä¸€å±‚åˆ¤æ–­ï¼Œå½“selectorä¸º</p>
<ul>
<li>ç©ºå­—ç¬¦ä¸²</li>
<li>null</li>
<li>undefined</li>
<li>false </li>
</ul>
<p>åœ¨jsä¸­è¡¨ç¤ºä¸º<code>å‡</code>æ“ä½œçš„æ—¶å€™ï¼Œä¾¿ç›´æ¥è¿”å›ä¸€ä¸ªjQueryå®ä¾‹ï¼Œåªä¸è¿‡è¯¥å®ä¾‹ä¸ä¸€èˆ¬çš„jQueryå¯¹è±¡æœ‰äº›ä¸åŒï¼Œè¯¥å®ä¾‹æ²¡æœ‰0ï¼Œ1ï¼Œ2â€¦å¼•ç”¨ç€æŸä¸ªdomçš„å±æ€§ä¹Ÿæ²¡æœ‰è¡¨ç¤ºé•¿åº¦çš„lengthå±æ€§ç­‰</p>
<p>ç´§æ¥ç€</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ( <span class="keyword">typeof</span> selector === <span class="string">"string"</span> ) &#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (selector.nodeType) &#123;</div><div class="line"> 	<span class="comment">// ...</span></div><div class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (jQuery.isFunction( selector )) &#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¯¹ä¼ è¿›æ¥çš„selectoråˆè¿›è¡Œäº†å¤šå±‚if else ifåˆ¤æ–­ï¼Œæˆ‘ä»¬å…ˆçœ‹ç¬¬ä¸€ä¸ª<code>typeof selector === &quot;string&quot;</code></p>
<p>æ—¥å¸¸åœ¨ç”¨jQueryçš„æ—¶å€™ï¼Œå½“ä¼ è¿›å»çš„selectoræ˜¯å­—ç¬¦ä¸²çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šæ¶‰åŠåˆ°ä»¥ä¸‹ç”¨æ³•</p>
<p><code>é€‰æ‹©å…ƒç´ çš„å¸¸è§ç”¨æ³•</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'#div1'</span>) </div><div class="line">$(<span class="string">'.box'</span>) </div><div class="line">$(<span class="string">'div'</span>)  </div><div class="line">$(<span class="string">'#div1 div.box'</span>)</div><div class="line"></div><div class="line"><span class="string">``</span><span class="string">`  </span></div><div class="line"></div><div class="line">`åˆ›å»ºå…ƒç´ çš„å¸¸è§ç”¨æ³•<span class="string">`</span></div><div class="line"></div><div class="line">`<span class="string">``</span> javascript</div><div class="line">$(<span class="string">'&lt;li&gt;'</span>)  </div><div class="line">$(<span class="string">'&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;'</span>)</div></pre></td></tr></table></figure>
<p><strong>åœ¨è¿›å…¥selctorå·²ç»æ˜¯<code>string</code>åˆ¤æ–­çš„æ—¶å€™</strong>ï¼Œæ¥ä¸‹æ¥jQueryå°†</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ( selector.charAt(<span class="number">0</span>) === <span class="string">"&lt;"</span> &amp;&amp; selector.charAt( selector.length - <span class="number">1</span> ) === <span class="string">"&gt;"</span> &amp;&amp; selector.length &gt;= <span class="number">3</span> ) &#123;</div><div class="line">	<span class="comment">// Assume that strings that start and end with &lt;&gt; are HTML and skip the regex check</span></div><div class="line">	match = [ <span class="literal">null</span>, selector, <span class="literal">null</span> ];</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	match = rquickExpr.exec( selector );	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">'&lt;div&gt;'</span>)</div><div class="line">$(<span class="string">'&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;'</span>)</div></pre></td></tr></table></figure>
<p>ç¬¦åˆä»¥ä¸Šselectoråœºæ™¯çš„matchç½®æˆäº†ä¸€ä¸ªæ•°ç»„<code>match = [ null, selector, null ];</code></p>
<p>è€Œå°†ç¬¦åˆä»¥ä¸‹å‚æ•°æ¡ä»¶çš„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(&apos;#div1&apos;) </div><div class="line">$(&apos;.box&apos;) </div><div class="line">$(&apos;div&apos;) </div><div class="line">$(&apos;#div1 div.box&apos;)</div><div class="line">$(&apos;&lt;div&gt;test&apos;)</div></pre></td></tr></table></figure>
<p>é€šè¿‡æ­£åˆ™åŒ¹é…å°†</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jsä¸­callã€applyã€bindé‚£äº›äº‹]]></title>
      <url>https://qianlongo.github.io/2016/04/26/js%E4%B8%ADcall%E3%80%81apply%E3%80%81bind%E9%82%A3%E4%BA%9B%E4%BA%8B/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>å›æƒ³èµ·ä¹‹å‰çš„ä¸€äº›é¢è¯•ï¼Œå‡ ä¹æ¯æ¬¡éƒ½ä¼šé—®åˆ°ä¸€ä¸ªjsä¸­å…³äºcallã€applyã€bindçš„é—®é¢˜ï¼Œæ¯”å¦‚â€¦</p>
</blockquote>
<ol>
<li>æ€ä¹ˆåˆ©ç”¨callã€applyæ¥æ±‚ä¸€ä¸ªæ•°ç»„ä¸­æœ€å¤§æˆ–è€…æœ€å°å€¼</li>
<li>å¦‚ä½•åˆ©ç”¨callã€applyæ¥åšç»§æ‰¿</li>
<li>applyã€callã€bindçš„åŒºåˆ«å’Œä¸»è¦åº”ç”¨åœºæ™¯</li>
</ol>
<a id="more"></a>
<blockquote>
<p>è™½ç„¶ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºè¿™æ–¹é¢çš„åšå®¢å’Œæ–‡ç« ï¼Œä½†è¿˜æ˜¯å†³å®šå†™ä¸€ç¯‡è‡ªå·±å¯¹è¿™æ–¹é¢çŸ¥è¯†çš„ç†è§£ã€‚</p>
</blockquote>
<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote>
<p>é¦–å…ˆé—®ä¸ªé—®é¢˜ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°çš„å­˜åœ¨æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿç­”æ¡ˆæ˜¯<strong>æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡</strong>ï¼Œå†å…·ä½“ä¸€ç‚¹å°±æ˜¯<strong>æ”¹å˜å‡½æ•°è¿è¡Œæ—¶çš„thisæŒ‡å‘</strong>ã€‚æœ‰äº†è¿™ä¸ªè®¤è¯†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹,æ€ä¹ˆä½¿ç”¨è¿™ä¸‰ä¸ªå‡½æ•°ã€‚</p>
</blockquote>
<p><strong>ä¸¾ä¸ªæ —å­</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Person.prototype = &#123;</div><div class="line">  <span class="attr">constructor</span>: Person,</div><div class="line">  <span class="attr">showName</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'qianlong'</span>);</div><div class="line">  person.showName();</div></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ä¸­personè°ƒç”¨showNameæ–¹æ³•åä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°è¾“å‡º<code>qianlong</code></p>
<p><strong>æ¥ä¸‹æ¥</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> animal = &#123;</div><div class="line">  <span class="attr">name</span>: <span class="string">'cat'</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­æœ‰ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œä»–æ²¡æœ‰æ‰€è°“çš„showNameæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³ç”¨ï¼Ÿæ€ä¹ˆåŠï¼Ÿ(å‘çˆ¹äº†ï¼Œè¿™å¥½åƒåœ¨è®©å·§åª³å¦‡å»åšæ— ç±³ä¹‹ç‚Š)ï¼Œä¸è¿‡æ²¡å…³ç³»ï¼Œcallã€applyã€bindå¯ä»¥å¸®æˆ‘ä»¬å¹²è¿™ä»¶äº‹ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1 call</span></div><div class="line">person.showName.call(animal);</div><div class="line"><span class="comment">// 2 apply</span></div><div class="line">person.showName.apply(animal);</div><div class="line"><span class="comment">// 3 bind</span></div><div class="line">person.showName.bind(animal)();</div></pre></td></tr></table></figure>
<p><strong>å•¦å•¦å•¦ï¼Œæœ‰æœ¨æœ‰å¾ˆç¥å¥‡ï¼Œæ§åˆ¶å°è¾“å‡ºäº†ä¸‰æ¬¡<code>cat</code></strong></p>
<p>æˆ‘ä»¬æ‹¿åˆ«äººçš„showNameæ–¹æ³•ï¼Œå¹¶åŠ¨æ€æ”¹å˜å…¶<strong>ä¸Šä¸‹æ–‡</strong>å¸®è‡ªå·±è¾“å‡ºäº†ä¿¡æ¯ï¼Œè¯´åˆ°åº•å°±æ˜¯å®ç°äº†<strong>å¤ç”¨</strong></p>
<h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><blockquote>
<p>ä¸Šé¢çœ‹èµ·æ¥ä¸‰ä¸ªå‡½æ•°çš„ä½œç”¨å·®ä¸å¤šï¼Œå¹²çš„äº‹å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¸ºä»€ä¹ˆè¦å­˜åœ¨3ä¸ªå®¶ä¼™å‘¢ï¼Œç•™ä¸€ä¸ªä¸å°±å¯ä»¥ã€‚æ‰€ä»¥å…¶å®ä»–ä»¬å¹²çš„äº‹ä»æœ¬è´¨ä¸Šè®²éƒ½æ˜¯ä¸€æ ·çš„<strong>åŠ¨æ€çš„æ”¹å˜thisä¸Šä¸‹æ–‡</strong>,ä½†æ˜¯å¤šå°‘è¿˜æ˜¯æœ‰ä¸€äº›å·®åˆ«çš„..</p>
</blockquote>
<p><strong>callã€applyä¸bindçš„å·®åˆ«</strong></p>
<blockquote>
<p>callå’Œapplyæ”¹å˜äº†å‡½æ•°çš„<strong>this</strong>ä¸Šä¸‹æ–‡åä¾¿<strong>æ‰§è¡Œ</strong>è¯¥å‡½æ•°,è€Œbindåˆ™æ˜¯è¿”å›æ”¹å˜äº†ä¸Šä¸‹æ–‡åçš„ä¸€ä¸ªå‡½æ•°ã€‚</p>
</blockquote>
<p><strong>callã€applyçš„åŒºåˆ«</strong></p>
<blockquote>
<p>ä»–ä»¬ä¿©ä¹‹é—´çš„å·®åˆ«åœ¨äºå‚æ•°çš„åŒºåˆ«ï¼Œcallå’Œapllyçš„ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯è¦æ”¹å˜ä¸Šä¸‹æ–‡çš„å¯¹è±¡ï¼Œè€Œcallä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼å±•ç°ï¼Œapplyåˆ™æ˜¯æŠŠé™¤äº†æ”¹å˜ä¸Šä¸‹æ–‡å¯¹è±¡çš„å‚æ•°æ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œé¢ä½œä¸ºå®ƒçš„ç¬¬äºŒä¸ªå‚æ•°ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">fn.call(obj, arg1, arg2, arg3...);</div><div class="line">fn.apply(obj, [arg1, arg2, arg3...]);</div></pre></td></tr></table></figure>
<h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><blockquote>
<p>çŸ¥é“äº†æ€ä¹ˆä½¿ç”¨å’Œä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹é€šè¿‡callã€applyã€bindçš„å¸¸è§åº”ç”¨åœºæ™¯ã€‚</p>
</blockquote>
<ul>
<li><strong>æ±‚æ•°ç»„ä¸­çš„æœ€å¤§å’Œæœ€å°å€¼</strong></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">34</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">54</span>,<span class="number">6</span>,<span class="number">-67</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">-8</span>,<span class="number">687</span>];</div><div class="line"></div><div class="line"><span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, arr);</div><div class="line"><span class="built_in">Math</span>.max.call(<span class="built_in">Math</span>, <span class="number">34</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">54</span>,<span class="number">6</span>,<span class="number">-67</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">-8</span>,<span class="number">687</span>);</div><div class="line"></div><div class="line"><span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>, arr);</div><div class="line"><span class="built_in">Math</span>.min.call(<span class="built_in">Math</span>, <span class="number">34</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">54</span>,<span class="number">6</span>,<span class="number">-67</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">-8</span>,<span class="number">687</span>);</div></pre></td></tr></table></figure>
<ul>
<li><strong>å°†ä¼ªæ•°ç»„è½¬åŒ–ä¸ºæ•°ç»„</strong></li>
</ul>
<blockquote>
<p>jsä¸­çš„ä¼ªæ•°ç»„(ä¾‹å¦‚é€šè¿‡<code>document.getElementsByTagName</code>è·å–çš„å…ƒç´ )å…·æœ‰lengthå±æ€§ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡0ã€1ã€2â€¦ä¸‹æ ‡æ¥è®¿é—®å…¶ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯æ²¡æœ‰Arrayä¸­çš„pushã€popç­‰æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨callã€applyæ¥å°†å…¶è½¬åŒ–ä¸ºçœŸæ­£çš„æ•°ç»„è¿™æ ·ä¾¿å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨æ•°ç»„æ–¹æ³•äº†ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arrayLike = &#123;</div><div class="line">  <span class="number">0</span>: <span class="string">'qianlong'</span>,</div><div class="line">  <span class="number">1</span>: <span class="string">'ziqi'</span>,</div><div class="line">  <span class="number">2</span>: <span class="string">'qianduan'</span>,</div><div class="line">  <span class="attr">length</span>: <span class="number">3</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä¸Šé¢å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡å­—é¢é‡ï¼Œæ€ä¹ˆæŠŠå®ƒå˜æˆä¸€ä¸ªæ•°ç»„å‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.prototype.slice.call(arrayLike);</div></pre></td></tr></table></figure>
<p>ä¸Šé¢arrä¾¿æ˜¯ä¸€ä¸ªåŒ…å«arrayLikeå…ƒç´ çš„çœŸæ­£çš„æ•°ç»„å•¦( <strong>æ³¨æ„æ•°æ®ç»“æ„å¿…é¡»æ˜¯ä»¥æ•°å­—ä¸ºä¸‹æ ‡è€Œä¸”ä¸€å®šè¦æœ‰lengthå±æ€§</strong> )</p>
<ul>
<li><strong>æ•°ç»„è¿½åŠ </strong></li>
</ul>
<blockquote>
<p>åœ¨jsä¸­è¦å¾€æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥ç”¨pushæ–¹æ³•ï¼Œ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</div><div class="line"></div><div class="line">[].push.apply(arr1, arr2);</div><div class="line"></div><div class="line"><span class="comment">// arr1 [1, 2, 3, 4, 5, 6]</span></div><div class="line"><span class="comment">// arr2 [4,5,6]</span></div></pre></td></tr></table></figure>
<p><strong>åˆ¤æ–­å˜é‡ç±»å‹</strong></p>
<blockquote>
<p>å¯¹äºå¯¹è±¡å‹çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©callæ¥å¾—çŸ¥ä»–çš„å…·ä½“ç±»å‹ï¼Œä¾‹å¦‚æ•°ç»„</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) == <span class="string">'[object Array]'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">isArray([]) <span class="comment">// true</span></div><div class="line">isArray(<span class="string">'qianlong'</span>) <span class="comment">// false</span></div></pre></td></tr></table></figure>
<p><strong>2016.12.31æ—¥æ›´æ–°ï¼Œæœ‰äº›è¯»è€…å¯¹æ–‡ç« æäº†ä¸€äº›æ„è§ï¼Œè§‰å¾—è¿˜æ˜¯è›®å¥½çš„ï¼Œç°åœ¨å°±å…¶ä¸­éƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚</strong></p>
<p><strong>åˆ©ç”¨callå’Œapplyåšç»§æ‰¿</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Person = <span class="function"><span class="keyword">function</span> (<span class="params">name, age</span>) </span>&#123;</div><div class="line">  <span class="keyword">this</span>.name = name;</div><div class="line">  <span class="keyword">this</span>.age = age;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> Girl = <span class="function"><span class="keyword">function</span> (<span class="params">name</span>) </span>&#123;</div><div class="line">  Person.call(<span class="keyword">this</span>, name);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> Boy = <span class="function"><span class="keyword">function</span> (<span class="params">name, age</span>) </span>&#123;</div><div class="line">  Person.apply(<span class="keyword">this</span>, <span class="built_in">arguments</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> g1 = <span class="keyword">new</span> Girl (<span class="string">'qing'</span>);</div><div class="line"><span class="keyword">var</span> b1 = <span class="keyword">new</span> Boy(<span class="string">'qianlong'</span>, <span class="number">100</span>);</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åŸºäºcanvasçš„å±€éƒ¨æ¸…æ™°å›¾ç‰‡æŸ¥çœ‹æ•ˆæœ]]></title>
      <url>https://qianlongo.github.io/2016/04/24/%E5%9F%BA%E4%BA%8Ecanvas%E7%9A%84%E5%B1%80%E9%83%A8%E6%B8%85%E6%99%B0%E5%9B%BE%E7%89%87%E6%9F%A5%E7%9C%8B%E6%95%88%E6%9E%9C/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸€ç›´å¯¹canvaséå¸¸æ„Ÿå…´è¶£ï¼Œä»Šå¤©æŠ½ç©ºå†™äº†ä¸€ä¸ªåœ¨ä¸€å¼ æ¨¡ç³Šå›¾ç‰‡ä¸­æŸ¥çœ‹å±€éƒ¨æ¸…æ™°å›¾çš„å°demo,æ—¶é—´æ¯”è¾ƒæ™šäº†,å…ˆæ”¾å›¾ï¼Œæ˜æ—¥å†™åšæ–‡.</p>
</blockquote>
<iframe src="https://codepen.io/qianlong/embed/ALymLp" frameborder="0" allowfullscreen></iframe>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[èŠä¸€èŠè¿™äº›å¸¸è§è€Œä¸”å®ç”¨çš„cssæŠ€å·§]]></title>
      <url>https://qianlongo.github.io/2016/04/19/%E8%81%8A%E4%B8%80%E8%81%8A%E8%BF%99%E4%BA%9B%E5%B8%B8%E8%A7%81%E8%80%8C%E4%B8%94%E5%AE%9E%E7%94%A8%E7%9A%84css%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ç”Ÿæ´»éœ€è¦æ€»ç»“ï¼Œéœ€è¦ä¸æ–­åœ°å‘ç°è‡ªå·±çš„ç¼ºé™·ç„¶åæ‰¾åˆ°å¥½çš„æ–¹æ³•ï¼Œæ”¹ä¹‹ã€‚å¤äººè¯´å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼Œäººç»ˆå½’æ˜¯ä¼šé—å¿˜ä¸€äº›äº‹æƒ…çš„ï¼Œå“ªæ€•å®ƒæ›¾ç»æ·±æ·±åœ°å°åœ¨ä½ çš„è„‘æµ·ï¼Œä¹…ä¹…æŒ¥ä¹‹ä¸å»ï¼Œç»è¿‡æ—¶é—´çš„æ´—æ¶¤ï¼Œä¸€åˆ‡éƒ½ä¼šå›åˆ°æœ€åˆçš„é‚£ä¸ªæ—¶åˆ»ï¼Œè¿˜è®°å¾—ä½ ä¸Šæ¬¡å†™çš„ä»¤è‡ªå·±å¼•ä»¥ä¸ºè±ªçš„cssæ ·å¼å—ï¼Ÿ  ğŸ˜„ï¼Œä¹Ÿè®¸ä½ è®°å¾—ï¼Œä½†æ¨¡ç³Šäº†ä¸æ˜¯ï¼Ÿï¼Ÿï¼Ÿæ‰€ä»¥è¿˜æ˜¯ä¹–ä¹–åœ°æ‹¿èµ·ä½ çš„ç”µè„‘ï¼Œæ„‰å¿«åœ°ä¸€ç‚¹ç‚¹æ•²ä¸‹æ¥ï¼Œè®°å½•ä¸€éå§ï¼ è¿™ç¯‡æ–‡ç« ä¼šè®°å½•è‡ªå·±æ—¶å¸¸ç”¨åˆ°çš„cssç‰‡æ®µï¼Œä½¿ç”¨è¿™äº›csså¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³è®¸å¤šå®é™…é—®é¢˜ã€‚</p>
</blockquote>
<p><a href="https://github.com/qianlongo/cssSkills" target="_blank" rel="external">æºç åœ°å€</a><br><a href="http://sandbox.runjs.cn/show/rrtvorhl" target="_blank" rel="external">é¢„è§ˆåœ°å€</a></p>
<a id="more"></a>
<h2 id="1ã€æ¸…é™¤æµ®åŠ¨"><a href="#1ã€æ¸…é™¤æµ®åŠ¨" class="headerlink" title="1ã€æ¸…é™¤æµ®åŠ¨"></a>1ã€æ¸…é™¤æµ®åŠ¨</h2><blockquote>
<p>æµ®åŠ¨ç»™æˆ‘ä»¬çš„ä»£ç å¸¦æ¥çš„éº»çƒ¦ï¼Œæƒ³å¿…ä¸éœ€è¦å¤šè¯´ï¼Œæˆ‘ä»¬ä¼šç”¨å¾ˆå¤šæ–¹å¼æ¥é¿å…è¿™ç§éº»çƒ¦ï¼Œå…¶ä¸­æˆ‘è§‰å¾—æœ€æ–¹ä¾¿ä¹Ÿæ˜¯å…¼å®¹æ€§æœ€å¥½çš„ä¸€ç§æ˜¯â€¦.</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ¸…é™¤æµ®åŠ¨</span></div><div class="line">.clearfix&#123;</div><div class="line">  <span class="attr">zoom</span>: <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">.clearfix:after&#123;</div><div class="line">  <span class="attr">display</span>: block;</div><div class="line">  content: <span class="string">''</span>;</div><div class="line">  clear: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2ã€å‚ç›´æ°´å¹³å±…ä¸­"><a href="#2ã€å‚ç›´æ°´å¹³å±…ä¸­" class="headerlink" title="2ã€å‚ç›´æ°´å¹³å±…ä¸­"></a>2ã€å‚ç›´æ°´å¹³å±…ä¸­</h2><blockquote>
<p>åœ¨cssçš„ä¸–ç•Œé‡Œæ°´å¹³å±…ä¸­æ¯”å‚ç›´å±…ä¸­æ¥çš„ç®€å•ä¸€äº›ï¼Œç»è¿‡äº†å¤šå¹´çš„æ¼”åŒ–ï¼Œä¾ç„¶æ²¡æœ‰å¥½çš„æ–¹å¼æ¥è®©å…ƒç´ å‚ç›´å±…ä¸­(å„ç§æ–¹å¼å„æœ‰ä¼˜ç¼ºç‚¹ï¼Œä½†éƒ½ä¸èƒ½è¾¾åˆ°å…¼å®¹æ€§å¥½ï¼Œç ´ååŠ›å°çš„ç›®æ ‡)ï¼Œä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„å®ç°æ–¹å¼</p>
</blockquote>
<p><code>ç»å¯¹å®šä½æ–¹å¼ä¸”å·²çŸ¥å®½é«˜</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</div><div class="line"><span class="selector-tag">top</span>: 50%;</div><div class="line"><span class="selector-tag">left</span>: 50%;</div><div class="line"><span class="selector-tag">margin-top</span>: <span class="selector-tag">-3em</span>;</div><div class="line"><span class="selector-tag">margin-left</span>: <span class="selector-tag">-7em</span>;</div><div class="line"><span class="selector-tag">width</span>: 14<span class="selector-tag">em</span>;</div><div class="line"><span class="selector-tag">height</span>: 6<span class="selector-tag">em</span>;</div></pre></td></tr></table></figure>
<p><code>ç»å¯¹å®šä½ ï¼‹ æœªçŸ¥å®½é«˜ ï¼‹ translate</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">position: absolute;</div><div class="line">left: 50%;</div><div class="line">top: 50%;</div><div class="line">transform: translate(-50%, -50%);</div><div class="line">//éœ€è¦è¡¥å……æµè§ˆå™¨å‰ç¼€</div></pre></td></tr></table></figure>
<p><code>flex è½»æ¾æå®šæ°´å¹³å‚ç›´å±…ä¸­( æœªçŸ¥å®½é«˜)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">display: flex;</div><div class="line">align-items: center;</div><div class="line">justify-content: center;</div></pre></td></tr></table></figure>
<h2 id="3ã€-æ–‡æœ¬æœ«å°¾æ·»åŠ çœç•¥å·"><a href="#3ã€-æ–‡æœ¬æœ«å°¾æ·»åŠ çœç•¥å·" class="headerlink" title="3ã€ æ–‡æœ¬æœ«å°¾æ·»åŠ çœç•¥å·"></a>3ã€ æ–‡æœ¬æœ«å°¾æ·»åŠ çœç•¥å·</h2><blockquote>
<p>å½“æ–‡æœ¬çš„å†…å®¹è¶…å‡ºå®¹å™¨çš„å®½åº¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å…¶é»˜è®¤æ·»åŠ çœç•¥å·ä»¥è¾¾åˆ°æç¤ºç”¨æˆ·å†…å®¹çœç•¥æ˜¾ç¤ºçš„æ•ˆæœã€‚</p>
</blockquote>
<p><code>å®½åº¦å›ºå®šï¼Œé€‚åˆå•è¡Œæ˜¾ç¤º...</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</div><div class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</div><div class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</div></pre></td></tr></table></figure>
<p><code>å®½åº¦ä¸å›ºå®šï¼Œé€‚åˆå¤šè¡Œä»¥åŠç§»åŠ¨ç«¯æ˜¾ç¤º</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</div><div class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</div><div class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</div><div class="line"><span class="selector-tag">-webkit-line-clamp</span>: 3;</div><div class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</div></pre></td></tr></table></figure>
<h2 id="4ã€åˆ¶é€ æ–‡æœ¬çš„æ¨¡ç³Šæ•ˆæœ"><a href="#4ã€åˆ¶é€ æ–‡æœ¬çš„æ¨¡ç³Šæ•ˆæœ" class="headerlink" title="4ã€åˆ¶é€ æ–‡æœ¬çš„æ¨¡ç³Šæ•ˆæœ"></a>4ã€åˆ¶é€ æ–‡æœ¬çš„æ¨¡ç³Šæ•ˆæœ</h2><blockquote>
<p>å½“æˆ‘ä»¬å¸Œæœ›ç»™æ–‡æœ¬åˆ¶é€ ä¸€ç§æ¨¡ç³Šæ•ˆæœæ„Ÿè§‰çš„æ—¶å€™ï¼Œå¯ä»¥è¿™æ ·åš</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">color</span>: <span class="selector-tag">transparent</span>;</div><div class="line"><span class="selector-tag">text-shadow</span><span class="selector-pseudo">:0</span> 0 2<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,<span class="selector-class">.5</span>);</div></pre></td></tr></table></figure>
<h2 id="5ã€åŠ¨ç”»å®ç°ç®€æ´loadingæ•ˆæœ"><a href="#5ã€åŠ¨ç”»å®ç°ç®€æ´loadingæ•ˆæœ" class="headerlink" title="5ã€åŠ¨ç”»å®ç°ç®€æ´loadingæ•ˆæœ"></a>5ã€åŠ¨ç”»å®ç°ç®€æ´loadingæ•ˆæœ</h2><blockquote>
<p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªéå¸¸ç®€æ´çš„loadingæ•ˆæœ</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">.loading:after&#123;</div><div class="line">  display: inline-block;</div><div class="line">  overflow: hidden;</div><div class="line">  vertical-align: bottom;</div><div class="line">  content: '\2026';</div><div class="line">  -webkit-animation: ellipsis 2s infinite;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// åŠ¨ç”»éƒ¨åˆ†</div><div class="line">@-webkit-keyframes ellipsis&#123;</div><div class="line">  from&#123;</div><div class="line">    width: 2px;</div><div class="line">  &#125;</div><div class="line">  to&#123;</div><div class="line">    width: 15px;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="6ã€è‡ªå®šä¹‰æ–‡æœ¬é€‰ä¸­æ ·å¼"><a href="#6ã€è‡ªå®šä¹‰æ–‡æœ¬é€‰ä¸­æ ·å¼" class="headerlink" title="6ã€è‡ªå®šä¹‰æ–‡æœ¬é€‰ä¸­æ ·å¼"></a>6ã€è‡ªå®šä¹‰æ–‡æœ¬é€‰ä¸­æ ·å¼</h2><blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åœ¨ç½‘é¡µä¸Šé€‰ä¸­æ–‡å­—çš„æ—¶å€™ï¼Œä¼šç»™é€‰ä¸­çš„éƒ¨åˆ†ä¸€ä¸ªæ·±è“è‰²èƒŒæ™¯é¢œè‰²(å¯ä»¥è‡ªå·±æ‹¿èµ·é¼ æ ‡è¯•è¯•)ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±å®šåˆ¶è¢«é€‰ä¸­çš„éƒ¨åˆ†çš„æ ·å¼å‘¢ï¼Ÿ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ³¨æ„åªèƒ½ä¿®æ”¹è¿™ä¸¤ä¸ªå±æ€§ å­—ä½“é¢œè‰² é€‰ä¸­èƒŒæ™¯é¢œè‰²</span></div><div class="line"></div><div class="line">element::selection&#123;</div><div class="line">  <span class="attr">color</span>: green;</div><div class="line">  background-color: pink;</div><div class="line">&#125;</div><div class="line">element::-moz-selection&#123;</div><div class="line">  <span class="attr">color</span>: green;</div><div class="line">  background-color: pink;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="7ã€é¡¶è§’è´´çº¸æ•ˆæœ"><a href="#7ã€é¡¶è§’è´´çº¸æ•ˆæœ" class="headerlink" title="7ã€é¡¶è§’è´´çº¸æ•ˆæœ"></a>7ã€é¡¶è§’è´´çº¸æ•ˆæœ</h2><blockquote>
<p>æœ‰æ—¶å€™æˆ‘ä»¬ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œåœ¨ä¸€ä¸ªåˆ—è¡¨å±•ç¤ºé¡µé¢ï¼Œæœ‰ä¸€äº›åˆ—è¡¨é¡¹æ˜¯æ–°æ·»åŠ çš„ã€æˆ–è€…çƒ­åº¦æ¯”è¾ƒé«˜çš„ï¼Œå°±ä¼šè¦æ±‚åœ¨å…¶ä¸Šé¢æ·»åŠ ä¸€ä¸ªè´´çº¸æ•ˆæœçš„å°æ¡å°±åƒhexoé»˜è®¤åšå®¢çš„fork me on githubé‚£ä¸ªæ•ˆæœä¸€æ ·ï¼Œå¦‚ä¸‹å›¾ã€‚<br><img src="/2016-4/20/1.png" alt="è´´çº¸æ•ˆæœ"></p>
</blockquote>
<p><strong>æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹ä¸€æ­¥æ­¥å®Œæˆæœ€å·¦è¾¹çš„è¿™ä¸ªæ•ˆæœ</strong></p>
<p><code>html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrap"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"ribbon"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Fork me on GitHub<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><code>css</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">/* å¤–å±‚å®¹å™¨å‡ æœ¬è®¾ç½®  */</div><div class="line">.wrap&#123;</div><div class="line">  width: 160px;</div><div class="line">  height:160px;</div><div class="line">  overflow:hidden;</div><div class="line">  position: relative;</div><div class="line">  background-color: #f3f3f3;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.ribbon&#123;</div><div class="line">  background-color: #a00;</div><div class="line">  overflow: hidden;</div><div class="line">  white-space: nowrap;</div><div class="line">  position: absolute;</div><div class="line">  /* shadom */</div><div class="line">  -webkit-box-shadow: 0 0 10px #888;</div><div class="line">  -moz-box-shadow: 0 0 10px #888;</div><div class="line">  box-shadow: 0 0 10px #888;</div><div class="line">  /* rotate */</div><div class="line">  -webkit-transform: rotate(-45deg);</div><div class="line">  -moz-transform: rotate(-45deg);</div><div class="line">  -ms-transform: rotate(-45deg);</div><div class="line">  -o-transform: rotate(-45deg);</div><div class="line">  transform: rotate(-45deg);</div><div class="line">  /* position */</div><div class="line">  left: -50px;</div><div class="line">  top: 40px;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.ribbon a&#123;</div><div class="line">  border: 1px solid #faa;</div><div class="line">  color: #fff;</div><div class="line">  display: block;</div><div class="line">  font: bold 81.25% &apos;Helvetica Neue&apos;, Helvetica, Arial, sans-serif;</div><div class="line">  margin: 1px 0;</div><div class="line">  padding: 10px 50px;</div><div class="line">  text-align: center;</div><div class="line">  text-decoration: none;</div><div class="line">  /* shadow */</div><div class="line">  text-shadow: 0 0 5px #444;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="8ã€inputå ä½ç¬¦"><a href="#8ã€inputå ä½ç¬¦" class="headerlink" title="8ã€inputå ä½ç¬¦"></a>8ã€inputå ä½ç¬¦</h2><blockquote>
<p>å½“æˆ‘ä»¬ç»™éƒ¨åˆ†inputç±»å‹çš„è®¾ç½®placeholderå±æ€§çš„æ—¶å€™ï¼Œæœ‰çš„æ—¶å€™éœ€è¦ä¿®æ”¹å…¶é»˜è®¤çš„æ ·å¼ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">input::-webkit-input-placeholder&#123;</div><div class="line">  color: green;</div><div class="line">  background-color: #F9F7F7;</div><div class="line">  font-size: 14px;</div><div class="line">&#125;</div><div class="line">input::-moz-input-placeholder&#123;</div><div class="line">  color: green;</div><div class="line">  background-color: #F9F7F7;</div><div class="line">  font-size: 14px;</div><div class="line">&#125;</div><div class="line">input::-ms-input-placeholder&#123;</div><div class="line">  color: green;</div><div class="line">  background-color: #F9F7F7;</div><div class="line">  font-size: 14px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="9ã€ç§»åŠ¨ç«¯å¯ç‚¹å‡»å…ƒç´ å»å¤„é»˜è®¤è¾¹æ¡†"><a href="#9ã€ç§»åŠ¨ç«¯å¯ç‚¹å‡»å…ƒç´ å»å¤„é»˜è®¤è¾¹æ¡†" class="headerlink" title="9ã€ç§»åŠ¨ç«¯å¯ç‚¹å‡»å…ƒç´ å»å¤„é»˜è®¤è¾¹æ¡†"></a>9ã€ç§»åŠ¨ç«¯å¯ç‚¹å‡»å…ƒç´ å»å¤„é»˜è®¤è¾¹æ¡†</h2><blockquote>
<p>åœ¨ç§»åŠ¨ç«¯æµè§ˆå™¨ä¸Šï¼Œå½“ä½ ç‚¹å‡»ä¸€ä¸ªé“¾æ¥æˆ–è€…é€šè¿‡Javascriptå®šä¹‰çš„å¯ç‚¹å‡»å…ƒç´ çš„æ—¶å€™ï¼Œä¼šå‡ºç°è“è‰²è¾¹æ¡†ï¼Œè¯´å®è¯ï¼Œè¿™æ˜¯å¾ˆæ¶å¿ƒçš„ï¼Œæ€ä¹ˆå»æ‰å‘¢?</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-webkit-tap-highlight-color: rgba(255,255,255,0);</div></pre></td></tr></table></figure>
<h2 id="10ã€é¦–å­—ä¸‹æ²‰"><a href="#10ã€é¦–å­—ä¸‹æ²‰" class="headerlink" title="10ã€é¦–å­—ä¸‹æ²‰"></a>10ã€é¦–å­—ä¸‹æ²‰</h2><blockquote>
<p>è¦å®ç°ç±»ä¼¼wordä¸­é¦–å­—ä¸‹æ²‰çš„æ•ˆæœå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">element:first-letter&#123;</div><div class="line">  float:left;</div><div class="line">  color:green;</div><div class="line">  font-size:30px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="11ã€å°ä¸‰è§’"><a href="#11ã€å°ä¸‰è§’" class="headerlink" title="11ã€å°ä¸‰è§’"></a>11ã€å°ä¸‰è§’</h2><blockquote>
<p>åœ¨å¾ˆå¤šåœ°æ–¹æˆ‘ä»¬å¯ä»¥ç”¨å¾—ä¸Šå°ä¸‰è§’ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç”»ä¸€ä¸‹å››ä¸ªæ–¹å‘çš„ä¸‰è§’å½¢</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">.triangle&#123;</div><div class="line">  /* åŸºç¡€æ ·å¼ */</div><div class="line">  border:solid 10px transparent;</div><div class="line">&#125;</div><div class="line">/*ä¸‹*/</div><div class="line">.triangle.bottom&#123;</div><div class="line"> border-top-color: green;</div><div class="line">&#125;</div><div class="line">/*ä¸Š*/</div><div class="line">.triangle.top&#123;</div><div class="line"> border-bottom-color: green;</div><div class="line">&#125;</div><div class="line">/*å·¦*/</div><div class="line">.triangle.top&#123;</div><div class="line"> border-right-color: green;</div><div class="line">&#125;</div><div class="line">/*å³*/</div><div class="line">.triangle.top&#123;</div><div class="line"> border-left-color: green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å¯ä»¥çœ‹å‡ºç”»ä¸€ä¸ªå°ä¸‰è§’éå¸¸ç®€å•ï¼Œåªè¦ä¸¤è¡Œæ ·å¼å°±å¯ä»¥æå®šï¼Œå¯¹äºæ–¹å‘åªè¦æƒ³ç€ç”»å“ªä¸ªæ–¹å‘åˆ™è®¾ç½®åæ–¹å‘çš„æ ·å¼å±æ€§å°±å¯ä»¥</strong></p>
<h2 id="12ã€é¼ æ ‡æ‰‹å‹"><a href="#12ã€é¼ æ ‡æ‰‹å‹" class="headerlink" title="12ã€é¼ æ ‡æ‰‹å‹"></a>12ã€é¼ æ ‡æ‰‹å‹</h2><blockquote>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨ä»¥ä¸‹å…ƒç´ èº«ä¸Šæ·»åŠ é¼ æ ‡æ‰‹å‹</p>
</blockquote>
<ul>
<li>a</li>
<li>submit</li>
<li>input[type=â€iamgeâ€]</li>
<li>input[type=â€buttonâ€]</li>
<li>button</li>
<li>label</li>
<li>select</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">a[href],input[type=&apos;submit&apos;], input[type=&apos;image&apos;],input[type=&apos;button&apos;], label[for], select, button &#123;</div><div class="line">  cursor: pointer;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="13ã€å±è”½Webkitç§»åŠ¨æµè§ˆå™¨ä¸­å…ƒç´ é«˜äº®æ•ˆæœ"><a href="#13ã€å±è”½Webkitç§»åŠ¨æµè§ˆå™¨ä¸­å…ƒç´ é«˜äº®æ•ˆæœ" class="headerlink" title="13ã€å±è”½Webkitç§»åŠ¨æµè§ˆå™¨ä¸­å…ƒç´ é«˜äº®æ•ˆæœ"></a>13ã€å±è”½Webkitç§»åŠ¨æµè§ˆå™¨ä¸­å…ƒç´ é«˜äº®æ•ˆæœ</h2><blockquote>
<p>åœ¨è®¿é—®ç§»åŠ¨ç½‘ç«™æ—¶ï¼Œä½ ä¼šå‘ç°ï¼Œåœ¨é€‰ä¸­çš„å…ƒç´ å‘¨å›´ä¼šå‡ºç°ä¸€äº›ç°è‰²çš„æ¡†æ¡†ï¼Œä½¿ç”¨ä»¥ä¸‹ä»£ç å±è”½è¿™ç§æ ·å¼</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">-webkit-touch-callout: none;</div><div class="line">-webkit-user-select: none;</div><div class="line">-khtml-user-select: none;</div><div class="line">-moz-user-select: none;</div><div class="line">-ms-user-select: none;</div><div class="line">user-select: none;</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç©è½¬jade]]></title>
      <url>https://qianlongo.github.io/2016/04/16/jade%E8%AF%AD%E6%B3%95%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>æ¥è§¦è¿‡ä¸€äº›ä¸åŒç§ç±»çš„å‰ç«¯æ¨¡ç‰ˆå¼•æ“ <code>Mustache</code> <code>ejs</code> <code>mustache</code> <code>coffeecup</code>â€¦,å¤§ä½“ä¸Šè¿™äº›å¼•æ“éƒ½æœ‰ç›¸ä¼¼çš„è¯­æ³•å’ŒåŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯é€šè¿‡å¼¥è¡¥htmlä¸ç”Ÿä¿±æ¥çš„ç¼ºé™·ï¼Œæ¯”å¦‚åœ¨æ¨¡ç‰ˆç§ä½¿ç”¨å˜é‡ï¼Œå¾ªç¯ï¼Œæ¡ä»¶åˆ¤æ–­ç­‰åŠ å¿«åº”ç”¨çš„å¼€å‘ï¼Œæœ¬æ–‡è¦ä»‹ç»çš„<code>jade</code>ä¸ä¸Šè¿°æ¨¡ç‰ˆå¼•æ“æœ‰äº›è®¸ä¸åŒï¼Œä»–æ˜¯é‡‡ç”¨ç¼©è¿›çš„å½¢å¼æ¥ç»„ç»‡htmlçš„ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h2><blockquote>
<p>è¿™ç¯‡æ–‡ç« é»˜è®¤ä½ å·²ç»çŸ¥é“ç”¨â€-â€œå¼€å¤´å¯ä»¥å£°æ˜jså˜é‡ä¸ä½¿ç”¨jsè¯­å¥,ä½¿ç”¨#{name}è·å–nameå˜é‡çš„å€¼, æ–‡æœ¬åœ¨æ ‡ç­¾åç©ºä¸€ä¸ªç©ºæ ¼ã€‚</p>
</blockquote>
<h2 id="1-æ ‡ç­¾"><a href="#1-æ ‡ç­¾" class="headerlink" title="1. æ ‡ç­¾"></a>1. æ ‡ç­¾</h2><blockquote>
<p>jadeä¸­é»˜è®¤ä¸€è¡Œä¸­çš„ç¬¬ä¸€ä¸ªå•è¯å°±æ˜¯æ ‡ç­¾åç§°ï¼Œå¦‚æœä¸å†™æ ‡ç­¾ååˆ™é»˜è®¤åˆ›å»ºä¸€ä¸ªdiv</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.tag#tag</div><div class="line">  ul.list</div><div class="line">    li item1</div><div class="line">    li item2</div><div class="line">    li item3</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;wrap&quot; class=&quot;wrap&quot;&gt;</div><div class="line">  &lt;ul class=&quot;list&quot;&gt;</div><div class="line">    &lt;li&gt;item1&lt;/li&gt;</div><div class="line">    &lt;li&gt;item2&lt;/li&gt;</div><div class="line">    &lt;li&gt;item3&lt;/li&gt;</div><div class="line">    &lt;/ul&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="2-å±æ€§"><a href="#2-å±æ€§" class="headerlink" title="2. å±æ€§"></a>2. å±æ€§</h2><blockquote>
<p>ä¸€èˆ¬æˆ‘ä»¬éœ€è¦åœ¨æ ‡ç­¾ä¸Šé¢æŒ‚è½½ä¸€äº›å±æ€§ï¼Œjadeä¸­æ ‡ç­¾çš„å±æ€§æ”¾åœ¨()ä¸­ï¼Œå¤šä¸ªå±æ€§ä¹‹é—´ä½¿ç”¨<strong>,</strong>é€—å·éš”å¼€</p>
</blockquote>
<h3 id="2-1-åŸºæœ¬ç”¨æ³•"><a href="#2-1-åŸºæœ¬ç”¨æ³•" class="headerlink" title="2.1 åŸºæœ¬ç”¨æ³•"></a>2.1 åŸºæœ¬ç”¨æ³•</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">a(href=&quot;google.com&quot;) google.com</div><div class="line">a(class=&quot;button&quot;, href=&quot;google.com&quot;) google.com</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;google.com&quot;&gt;google.com&lt;/a&gt;</div><div class="line">&lt;a href=&quot;google.com&quot; class=&quot;button&quot;&gt;google.com&lt;/a&gt;</div></pre></td></tr></table></figure>
<h3 id="2-2-æ¨¡ç‰ˆä¸­å¤¹æ‚jsè¯­å¥"><a href="#2-2-æ¨¡ç‰ˆä¸­å¤¹æ‚jsè¯­å¥" class="headerlink" title="2.2 æ¨¡ç‰ˆä¸­å¤¹æ‚jsè¯­å¥"></a>2.2 æ¨¡ç‰ˆä¸­å¤¹æ‚jsè¯­å¥</h3><blockquote>
<p>å½“ç„¶äº†ç»å¤§å¤šçš„jsè¯­å¥æ˜¯å¯ä»¥æ¨¡ç‰ˆä¸­è¿è¡Œçš„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- var test = true; // è¿™é‡Œçš„teståªè¦ å¼±ä¸ºçœŸå³å¯( æ³¨æ„å‰é¢çš„-ç¬¦å· )</div><div class="line">a(href=test ? &apos;google.com&apos;: &apos;baidu.com&apos;) jsè¯­å¥</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;google.com&quot;&gt;jsè¯­å¥&lt;/a&gt;</div></pre></td></tr></table></figure>
<h3 id="2-2-å¤šä¸ªå±æ€§"><a href="#2-2-å¤šä¸ªå±æ€§" class="headerlink" title="2.2 å¤šä¸ªå±æ€§"></a>2.2 å¤šä¸ªå±æ€§</h3><blockquote>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ä½ è¦ç»™æ ‡ç­¾ä¸Šé¢æŒ‚è½½å¤šä¸ªå±æ€§çš„æ—¶å€™ï¼Œå…¨éƒ¨å†™åœ¨ä¸€è¡Œå¿…ç„¶ä¸æ˜¯ä»€ä¹ˆå¥½ç©çš„äº‹æƒ…ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·å†™</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">input(</div><div class="line">  type=&quot;checkbox&quot;,</div><div class="line">  name= &quot;qianlong&quot;,</div><div class="line">  checked </div><div class="line">)</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;checkbox&quot; name=&quot;qianlong&quot; checked /&gt;</div></pre></td></tr></table></figure>
<h3 id="2-3-booleanç±»å‹å±æ€§"><a href="#2-3-booleanç±»å‹å±æ€§" class="headerlink" title="2.3 booleanç±»å‹å±æ€§"></a>2.3 booleanç±»å‹å±æ€§</h3><p>&gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">input(type=&quot;checkbox&quot;, checked )</div><div class="line">input(type=&quot;checkbox&quot;, checked=true )</div><div class="line">input(type=&quot;checkbox&quot;, checked=false )</div><div class="line">input(type=&quot;checkbox&quot;, checked=true &amp;&amp; &apos;checked&apos; )</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;checkbox&quot; checked&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot; checked&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot;&gt;</div><div class="line">&lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;&gt;</div></pre></td></tr></table></figure>
<h3 id="2-4-style-ä¹¦å†™è¡Œé—´æ ·å¼"><a href="#2-4-style-ä¹¦å†™è¡Œé—´æ ·å¼" class="headerlink" title="2.4 style ä¹¦å†™è¡Œé—´æ ·å¼"></a>2.4 style ä¹¦å†™è¡Œé—´æ ·å¼</h3><blockquote>
<p>å½“æˆ‘ä»¬è¦åœ¨è¡Œé—´ç»™ä¸€ä¸ªå…ƒç´ å•ç‹¬çš„è®¾ç½®ä¸€æ®µæ ·å¼çš„æ—¶å€™ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿç›´æ¥ç»™styleå±æ€§èµ‹å€¼ä¸€æ®µjså¯¹è±¡å³å¯</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- styles = &#123;color: &apos;red&apos;, background: &apos;green&apos;&#125; </div><div class="line">a(href=&quot;google.com&quot;, style=styles) google.com</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;google.com&quot; style=&quot;color:red;background:green&quot;&gt;google.com&lt;/a&gt;</div></pre></td></tr></table></figure>
<h3 id="2-5-å•ç‹¬æ·»åŠ classå±æ€§"><a href="#2-5-å•ç‹¬æ·»åŠ classå±æ€§" class="headerlink" title="2.5 å•ç‹¬æ·»åŠ classå±æ€§"></a>2.5 å•ç‹¬æ·»åŠ classå±æ€§</h3><blockquote>
<p>å‰é¢åœ¨tagç« èŠ‚æˆ‘ä»¬è®²è¿‡å¯ä»¥é€šè¿‡.classNameçš„å½¢å¼æ·»åŠ classï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠç±»å½“æˆæ˜¯æŸä¸ªå±æ€§æ¥ä¹¦å†™ï¼Œå¹¶ä¸”å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„ç›´æ¥èµ‹å€¼ç»™classå±æ€§ï¼Œäº¦å¯ä»¥æ˜¯ä¸ªå¯¹è±¡ç±»å‹çš„æ¡ä»¶åˆ¤æ–­èµ‹å€¼</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- var classes = [&apos;qianlong&apos;, &apos;tianxiang&apos;, &apos;doubi&apos;];</div><div class="line">- var objTest = false;</div><div class="line"></div><div class="line">a(class=classes, href=&quot;google.com&quot;) google.com</div><div class="line">// è¿™é‡Œç»“åˆ.classNameçš„å½¢å¼</div><div class="line">a.firstName.qianlong(class=classes, class=&quot;firstName&quot;, href=&quot;google.com&quot;) google.com</div><div class="line">// å¯¹è±¡å½¢å¼</div><div class="line">a(class=&#123;&apos;active&apos;: objTest&#125;, href=&quot;google.com&quot;) google.com</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;google.com&quot; class=&quot;qianlong tianxiang doubi&quot;&gt;google.com&lt;/a&gt;</div><div class="line">&lt;a href=&quot;google.com&quot; class=&quot;firstName qianlong qianlong tianxiang doubi firstName&quot;&gt;google.com&lt;/a&gt;</div><div class="line">&lt;a href=&quot;google.com&quot; class=&quot;active&quot;&gt;google.com&lt;/a&gt;</div></pre></td></tr></table></figure>
<p><strong>1. å¯ä»¥çœ‹å‡ºå½“æˆ‘ä»¬åŒæ—¶ä½¿ç”¨.classNameå’Œå±æ€§ä¹¦å†™çš„å½¢å¼å¹¶ä¸”ä¸¤è€…æœ‰ç›¸åŒçš„ç±»åçš„æ—¶å€™ï¼Œjadeå¹¶ä¸ä¼šéå¸¸æ™ºèƒ½åœ°ç»™æˆ‘ä»¬åªç•™ä¸‹ä¸€ä¸‹ä¸€ä¸ªç±»ï¼Œè€Œæ˜¯é‡å¤ç›¸åŒçš„ç±»åå¤šæ¬¡</strong></p>
<p><strong>2. æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä½¿ç”¨å¯¹è±¡ç±»å‹æ·»åŠ classçš„æ–¹å¼æ¥ç»™ä¸åŒçš„å…ƒç´ æ·»åŠ ä¸åŒçš„ç±»</strong></p>
<h2 id="3-å¾ªç¯each-amp-amp-æ¡ä»¶åˆ¤æ–­-if"><a href="#3-å¾ªç¯each-amp-amp-æ¡ä»¶åˆ¤æ–­-if" class="headerlink" title="3. å¾ªç¯each &amp;&amp; æ¡ä»¶åˆ¤æ–­ if"></a>3. å¾ªç¯each &amp;&amp; æ¡ä»¶åˆ¤æ–­ if</h2><blockquote>
<p>åœ¨æ¨¡ç‰ˆå¼•æ“ä¸­é™¤äº†ä½¿ç”¨å˜é‡åŠ¨æ€çš„è·å–æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬åšçš„äº‹æ˜¯æ ¹æ®æ•°æ®<strong>å¾ªç¯</strong>ç”Ÿæˆdomå…ƒç´ ä»¥åŠæ ¹æ®<strong>æ¡ä»¶åˆ¤æ–­</strong>æ¥æ¶®é€‰æ•°æ®ï¼Œå¾ˆå¹¸è¿jadeç»™æˆ‘ä»¬æä¾›äº†è¿™æ ·çš„æœºåˆ¶</p>
</blockquote>
<h2 id="3-1-each-for"><a href="#3-1-each-for" class="headerlink" title="3.1 each || for"></a>3.1 each || for</h2><blockquote>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡eachå’Œjsä¸­çš„forè¯­å¥æ¥æ ¹æ®æ•°æ®å¾ªç¯ç”Ÿæˆdomç»“æ„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- var list = [&apos;qianlong&apos;, &apos;tianxiang&apos;, &apos;doubi&apos;];</div><div class="line"></div><div class="line">ul.list1</div><div class="line">  each val, index in list</div><div class="line">    li å€¼æ˜¯:#&#123;val&#125; ç´¢å¼•æ˜¯: #&#123;index&#125;  </div><div class="line">ul.list2</div><div class="line">  - for(var i = 0, len = list.length; i &lt; len; i++)</div><div class="line">    li å€¼æ˜¯:#&#123;list[i]&#125; ç´¢å¼•æ˜¯: #&#123;i&#125;</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;ul class=&quot;list1&quot;&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:qianlong ç´¢å¼•æ˜¯: 0  &lt;/li&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:tianxiang ç´¢å¼•æ˜¯: 1  &lt;/li&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:doubi ç´¢å¼•æ˜¯: 2  &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line">&lt;ul class=&quot;list2&quot;&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:qianlong ç´¢å¼•æ˜¯: 0  &lt;/li&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:tianxiang ç´¢å¼•æ˜¯: 1  &lt;/li&gt;</div><div class="line">  &lt;li&gt;å€¼æ˜¯:doubi ç´¢å¼•æ˜¯: 2  &lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<p><strong>å¯è§ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥è¾¾åˆ°ç›¸åŒçš„éå†æ•ˆæœï¼Œä½†æ˜¯åè€…ä»£ç é‡è¾ƒå¤§ç¨æ˜¾ç¹çï¼Œæ¨èä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼</strong></p>
<h2 id="3-2-if"><a href="#3-2-if" class="headerlink" title="3.2 if"></a>3.2 if</h2><blockquote>
<p>é€šè¿‡ifå…³é”®å­—æ¥è¿›è¡Œæ¡ä»¶åˆ¤æ–­</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- var ifTest = 0;</div><div class="line">  if ifTest &gt; 10</div><div class="line">    p ifTest å¤§äº10    </div><div class="line">  else if ifTest == 10</div><div class="line">    p ifTest ç­‰äº10</div><div class="line">  else</div><div class="line">    p ifTest å°äº10</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;ifTest å°äº10   &lt;/p&gt;</div></pre></td></tr></table></figure>
<h2 id="4-case-vs-switch"><a href="#4-case-vs-switch" class="headerlink" title="4. case vs switch"></a>4. case vs switch</h2><blockquote>
<p>åœ¨jadeæ¨¡ç‰ˆé‡Œé¢æˆ‘ä»¬é€šè¿‡caseã€whenå’Œdefaultå…³é”®å­—å¯ä»¥å®ç°ç±»ä¼¼äºç¼–ç¨‹è¯­å¥ä¸­switchçš„æ•ˆæœ</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- var friends = 10;</div><div class="line">case friends</div><div class="line">  when 0</div><div class="line">    p you have no friends</div><div class="line">  when 1</div><div class="line">    p you have a friends</div><div class="line">  default</div><div class="line">    p you have #&#123;friends&#125; friends</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;you have 10 friends&lt;/p&gt;</div></pre></td></tr></table></figure>
<p><strong>å¯è§å½“whenä¸­æ²¡æœ‰ä¸ä¹‹ç›¸åŒ¹é…çš„é¡¹æ—¶ï¼Œä¼šèµ°é»˜è®¤çš„default,æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™å‡ ç§æƒ…å½¢</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- var friends = 0;</div><div class="line">case friends</div><div class="line">  when 0</div><div class="line">  when 1</div><div class="line">    p you have a friends</div><div class="line">  default</div><div class="line">    p you have #&#123;friends&#125; friends</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;you have a friends&lt;/p&gt;</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- var friends = 1;</div><div class="line">case friends</div><div class="line">  when 0</div><div class="line">    p you have no friends</div><div class="line">  when 1</div><div class="line">    p you have a friends</div><div class="line">  default</div><div class="line">    p you have #&#123;friends&#125; friends</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;p&gt;you have a friends&lt;/p&gt;</div></pre></td></tr></table></figure>
<h2 id="5-extends"><a href="#5-extends" class="headerlink" title="5. extends"></a>5. extends</h2><blockquote>
<p>åœ¨æ„å»ºåº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦æ‰©å±•è‡ªå·±ï¼Œä»¥å¼¥è¡¥è‡ªå·±çš„ä¸è¶³ã€‚è¿™æ—¶å€™ä¾¿å¯ä»¥èƒ½ç”¨åˆ°<strong>extends</strong></p>
</blockquote>
<p><code>layout.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">doctype html</div><div class="line">html</div><div class="line">  head</div><div class="line">    block title</div><div class="line">  body</div><div class="line">    block content</div></pre></td></tr></table></figure>
<p><code>main.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">extends ./layout.jade</div><div class="line"></div><div class="line">block title</div><div class="line">  title æˆ‘æ˜¯main title</div><div class="line">block content</div><div class="line">  .content æˆ‘æ˜¯mainä¸­çš„contentéƒ¨åˆ†</div></pre></td></tr></table></figure>
<p>æœ€ç»ˆmain.jadeç¼–è¯‘ådomç»“æ„æ˜¯</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;æˆ‘æ˜¯main title&lt;/title&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;div class=&quot;content&quot;&gt;æˆ‘æ˜¯mainä¸­çš„contentéƒ¨åˆ†  &lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>è¿™é‡Œå°±å¥½åƒæ˜¯åœ¨layout.jadeä¸­å…ˆåŸ‹å¥½titleå’Œcontentè¿™ä¸¤ä¸ªå‘ï¼Œç„¶ååœ¨main.jadeä¸­æŠŠè¿™ä¸¤ä¸ªå‘ç»™å¡«ä¸Šäº†ï¼Œå¹¶ä¸”ä¹Ÿç»§æ‰¿äº†layout.jadeçš„domç»“æ„</strong></p>
<h2 id="6-include"><a href="#6-include" class="headerlink" title="6. include"></a>6. include</h2><blockquote>
<p>ä¸€å¼ ç½‘é¡µçš„å¾ˆå¤šæ¨¡å—æ˜¯å…¬ç”¨çš„æ¯”å¦‚å¤´éƒ¨å’Œå°¾éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›å¯ä»¥å¤ç”¨çš„éƒ¨åˆ†ä½œä¸ºå•ç‹¬çš„æ¨¡å—ï¼Œç„¶åè¢«ä»–é¡µé¢çš„åµŒå…¥ï¼Œåœ¨jadeè¦å®ç°è¿™ç§æ•ˆæœç”¨çš„æ˜¯includeå…³é”®å­—</p>
</blockquote>
<p><code>head.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">head</div><div class="line">  title æˆ‘æ˜¯headéƒ¨åˆ†</div><div class="line">  link(rel=&quot;stylesheet&quot;, type=&quot;text/css&quot;, href=&quot;../styles/index.css&quot;)</div></pre></td></tr></table></figure>
<p><code>footer.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#footer æˆ‘æ˜¯footeréƒ¨åˆ†</div></pre></td></tr></table></figure>
<p><code>index.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">doctype html</div><div class="line">html</div><div class="line">  include ./header.jade</div><div class="line">  body</div><div class="line">  #main æˆ‘æ˜¯ä¸»é¢˜éƒ¨åˆ†</div><div class="line">  include ./footer.jade</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">  &lt;html&gt;</div><div class="line">    &lt;head&gt;</div><div class="line">      &lt;title&gt;æˆ‘æ˜¯headéƒ¨åˆ†&lt;/title&gt;</div><div class="line">      &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../styles/index.css&quot;&gt;</div><div class="line">    &lt;/head&gt;</div><div class="line">    &lt;body&gt;</div><div class="line">      &lt;div id=&quot;main&quot;&gt;æˆ‘æ˜¯ä¸»é¢˜éƒ¨åˆ†&lt;/div&gt;</div><div class="line">      &lt;div id=&quot;footer&quot;&gt;æˆ‘æ˜¯footeréƒ¨åˆ†&lt;/div&gt;</div><div class="line">    &lt;/body&gt;</div><div class="line">  &lt;/html&gt;</div></pre></td></tr></table></figure>
<p><strong>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æœ‰å½“å‰ä½¿ç”¨jsp includeçš„é‚£ç§æ„Ÿè§‰ï¼Œåˆ«ç€æ€¥includeçš„å¼ºå¤§ä¹‹å¤„å¹¶ä¸ä»…ä»…æ˜¯å¼•è¿›<code>.jade</code>ç±»å‹çš„æ–‡ä»¶ï¼Œä»–è¿˜å¯ä»¥å¼•è¿›ç±»ä¼¼<code>.css``.js</code>ç­‰çš„æ–‡ä»¶</strong></p>
<p><code>index.css</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">body&#123;</div><div class="line">  background-color: green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>index.jade</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">doctype html</div><div class="line">html</div><div class="line">  head</div><div class="line">    title include test</div><div class="line">    style</div><div class="line">      include ../public/styles/index.css</div><div class="line">  body</div><div class="line">    #main æˆ‘æ˜¯ä¸»é¢˜éƒ¨åˆ†</div></pre></td></tr></table></figure>
<p><strong>ç¼–è¯‘å</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">  &lt;head&gt;</div><div class="line">    &lt;title&gt;include test&lt;/title&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">      body&#123;</div><div class="line">        background-color: green;</div><div class="line">      &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">  &lt;/head&gt;</div><div class="line">  &lt;body&gt;</div><div class="line">    &lt;div id=&quot;main&quot;&gt;æˆ‘æ˜¯ä¸»é¢˜éƒ¨åˆ†&lt;/div&gt;</div><div class="line">  &lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>jadeè¿˜æœ‰å…¶ä»–ç›¸å…³çš„è¯­æ³•ï¼Œæ—¥å¸¸å·¥ä½œä¸­éœ€è¦æˆ‘ä»¬å¸¸ç”¨çš„ç»“åˆä¸Šè¿°æ‰€è¯´çµæ´»ä½¿ç”¨</p>
</blockquote>
<p><strong>å‚è€ƒèµ„æ–™</strong><br><a href="http://jade-lang.com/" target="_blank" rel="external">jadeå®˜ç½‘</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¹‹DOMç¯‡ç« ]]></title>
      <url>https://qianlongo.github.io/2016/04/14/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8BDOM%E7%AF%87%E7%AB%A0/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>å‰ç«¯ç»å¸¸éœ€è¦å’ŒDOMæ‰“äº¤é“ï¼Œå¢åŠ ã€åˆ é™¤ã€æ›¿æ¢æ˜¯å¸¸è§çš„DOMæ“ä½œï¼Œç„¶è€Œå°±æ˜¯è¿™äº›æ“ä½œæ—¶å¸¸æˆä¸ºç½‘ç«™æ€§èƒ½çš„ç“¶é¢ˆï¼Œä¸ºäº†æé«˜æˆ‘ä»¬çš„ç½‘ç«™æ€§èƒ½ï¼Œæˆ‘ä»¬éœ€è¦åœ¨DOMä¸Šé¢èŠ±ä¸å°‘å¿ƒæ€ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="1-ä½¿ç”¨DOMçš„å¼•ç”¨"><a href="#1-ä½¿ç”¨DOMçš„å¼•ç”¨" class="headerlink" title="1.  ä½¿ç”¨DOMçš„å¼•ç”¨"></a>1.  ä½¿ç”¨DOMçš„å¼•ç”¨</h2><blockquote>
<p>åœ¨è¿›è¡ŒDOMæ“ä½œå‰ï¼Œæˆ‘ä»¬å…ˆè¦å¯¹å…ƒç´ è¿›è¡ŒæŸ¥æ‰¾ï¼Œæˆ–è€…éœ€è¦æ ¹æ®åå°è¿”å›çš„æ•°æ®åŠ¨æ€çš„åˆ›å»ºå…ƒç´ ï¼Œæ¯”å¦‚æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ•°ç»„ç±»å‹çš„æ•°æ®dataï¼Œéœ€æ±‚æ˜¯æ ¹æ®dataå¾€ä¸€ä¸ªidä¸ºmainçš„å…ƒç´ ä¸­æ·»åŠ liã€‚æˆ‘ä»¬å¯èƒ½ä¼šè¿›è¡Œä¸‹é¢çš„DOMæ“ä½œ</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.length; i++ )&#123;</div><div class="line">  <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">  li.innerText = data[i];</div><div class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>).appendChild(li);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ä¸Šé¢çš„ä»£ç æ¯æ¬¡å¾ªç¯éƒ½ä¼šå»è®¡ç®—ä¸€ä¸ªdataçš„lengthå€¼ï¼ŒæŸ¥è¯¢å¹¶å¾—åˆ°mainå…ƒç´ ï¼Œå¯æƒ³è€Œä¹‹å…¶æ•ˆç‡åº”è¯¥æœ‰å¤šä½ä¸‹ï¼Œå¥½çš„æ–¹å¼æ˜¯åœ¨è¿›è¡Œå¾ªç¯ä¹‹å‰ä¾¿å°†dataçš„lengthä»¥åŠmainå…ƒç´ ç¼“å­˜ä¸‹æ¥ï¼Œåœ¨å¾ªç¯çš„æ—¶å€™ä½¿ç”¨å…¶å¼•ç”¨å³å¯ã€‚</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oMain = <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line"><span class="keyword">var</span> len = data.length;</div><div class="line"><span class="keyword">var</span> i,li;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++ )&#123;</div><div class="line">  li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">  li.innerText = data[i];</div><div class="line">  oMain.appendChild(li);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æ³¨æ„å…ƒç´ çš„æŸ¥æ‰¾é»˜è®¤æ ¹å…ƒç´ æ˜¯documentï¼Œå½“æˆ‘ä»¬éœ€è¦å¯¹æŸäº›å…ƒç´ è¿›è¡Œé¢‘ç¹çš„æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆå°†æŸä¸ªå…ƒç´ ç¼“å­˜ä¸‹æ¥ï¼Œåé¢çš„å…ƒç´ æŸ¥æ‰¾åˆ™æ˜¯åŸºäºè¯¥å…ƒç´ ï¼Œä»è€Œå‡çŸ­æŸ¥æ‰¾è·¯å¾„</strong></p>
<h2 id="2-ä½¿ç”¨æ–‡æ¡£ç¢ç‰‡"><a href="#2-ä½¿ç”¨æ–‡æ¡£ç¢ç‰‡" class="headerlink" title="2.  ä½¿ç”¨æ–‡æ¡£ç¢ç‰‡"></a>2.  ä½¿ç”¨æ–‡æ¡£ç¢ç‰‡</h2><blockquote>
<p>ä¸Šé¢çš„æ“ä½œä¸­è¿˜æœ‰ä¸€ä¸ªéå¸¸è€—è´¹æ€§èƒ½çš„åœ°æ–¹ï¼Œ<code>oMain.appendChild(li)</code>ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šè¿›è¡Œä¸€æ¬¡å…ƒç´ æ·»åŠ æ“ä½œï¼Œè¿›è€Œå¯¼è‡´æµè§ˆå™¨é‡æ’ï¼Œæˆ‘ä»¬çŸ¥é“æµè§ˆå™¨çš„é‡æ’å’Œé‡ç»˜æ˜¯éœ€è¦è€—è´¹å¤§é‡çš„æ—¶é—´è¿›è¡Œçš„ï¼Œæ‰€ä»¥æé«˜ç½‘é¡µæ€§èƒ½çš„ä¸€æ–¹é¢æ˜¯è€ƒè™‘å°½é‡å‡å°‘é‡æ’å’Œé‡ç»˜çš„æ¬¡æ•°ã€‚å°†é¢‘ç¹çš„DOMæ“ä½œå…ˆåœ¨å†…å­˜ä¸­å®Œæˆï¼Œæœ€åä¸€æ¬¡æ€§å°†èŠ‚ç‚¹æ¨è¿›é¡µé¢å½“ä¸­ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šç”¨åˆ°ä¸€ä¸ªæ–¹æ³•<code>document.createDocumentFragment</code>,é‡æ–°ä¿®æ”¹ä¸Šè¯‰ä¾‹å­å¦‚ä¸‹</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oMain = <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line"><span class="keyword">var</span> frag = <span class="built_in">document</span>.createDocumentFragment </div><div class="line"><span class="keyword">var</span> len = data.length;</div><div class="line"><span class="keyword">var</span> i,li;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++ )&#123;</div><div class="line">  li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">  li.innerText = data[i];</div><div class="line">  frag.appendChild(li); <span class="comment">// æ‰€æœ‰çš„æ“ä½œåœ¨å†…å­˜ä¸­å®Œæˆï¼Œè¿™ä¸ªæ—¶å€™ä¸ä¼šè§¦å‘é‡æ’</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">oMain.appendChild(frag); <span class="comment">// æœ€åä¸€æ¬¡æ€§æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåªå‡ºå‘æµè§ˆå™¨ä¸€æ¬¡é‡æ’</span></div></pre></td></tr></table></figure>
<h2 id="3-ä½¿ç”¨innerHTMLä¸€æ¬¡æ€§æ·»åŠ DOMèŠ‚ç‚¹"><a href="#3-ä½¿ç”¨innerHTMLä¸€æ¬¡æ€§æ·»åŠ DOMèŠ‚ç‚¹" class="headerlink" title="3. ä½¿ç”¨innerHTMLä¸€æ¬¡æ€§æ·»åŠ DOMèŠ‚ç‚¹"></a>3. ä½¿ç”¨innerHTMLä¸€æ¬¡æ€§æ·»åŠ DOMèŠ‚ç‚¹</h2><blockquote>
<p>ä»¥ä¸Šçš„ä»£ç ä¸­æ¯æ¬¡éƒ½è¦é€šè¿‡<code>document.createElement(&#39;li&#39;)</code>åˆ›å»ºå…ƒç´ ï¼Œé€šè¿‡<code>li.innerText = data[i]</code>è®¾ç½®æ–‡æœ¬ä¿¡æ¯ï¼Œè›‹ç–¼çš„å¾ˆï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ç€ä½¿ç”¨innerHTMLæ¥ä¸€æ¬¡æ€§æ·»åŠ å…ƒç´ ï¼Œå½“ç„¶å‰ææ˜¯ä½ è¦å…ˆä»¥å­—ç¬¦ä¸²çš„å½¢å¼æŠŠå…ƒç´ å’Œæ•°æ®æ‹¼æ¥å¥½</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oMain = <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line"><span class="keyword">var</span> sHtml = <span class="string">''</span>;</div><div class="line"><span class="keyword">var</span> len = data.length;</div><div class="line"><span class="keyword">var</span> i,li;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++ )&#123;</div><div class="line">  sHtml += <span class="string">'&lt;li&gt;'</span>+ data[i] +<span class="string">'&lt;/li&gt;'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">oMain.innerHTMl = sHtml; <span class="comment">// æœ€åä¸€æ¬¡æ€§æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåªå‡ºå‘æµè§ˆå™¨ä¸€æ¬¡é‡æ’</span></div></pre></td></tr></table></figure>
<p><strong>è™½ç„¶è¿™æ ·åšæ•ˆç‡æœ‰æ‰€æå‡ï¼Œä½†æ˜¯å½“é¡µé¢çš„DOMç»“æ„ä¸€æ—¦å¤æ‚èµ·æ¥ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²ä¾¿ä¼šå˜æˆä¸€ä»¶ç›¸å½“æ¶å¿ƒçš„äº‹æƒ…</strong></p>
<h2 id="4-ä½¿ç”¨äº‹ä»¶ä»£ç†æ‰¹é‡å¤„ç†äº‹ä»¶"><a href="#4-ä½¿ç”¨äº‹ä»¶ä»£ç†æ‰¹é‡å¤„ç†äº‹ä»¶" class="headerlink" title="4. ä½¿ç”¨äº‹ä»¶ä»£ç†æ‰¹é‡å¤„ç†äº‹ä»¶"></a>4. ä½¿ç”¨äº‹ä»¶ä»£ç†æ‰¹é‡å¤„ç†äº‹ä»¶</h2><blockquote>
<p>äº‹ä»¶ä»£ç†æœ¬è´¨ä¸Šå°±æ˜¯å°†åŸæœ¬è‡ªå·±è¯¥å¹²çš„äº‹æƒ…ï¼Œå§”æ‰˜ç»™åˆ«äºº( è¿™é‡Œæ˜¯æŒ‡çˆ¶èŠ‚ç‚¹æˆ–è€…ç¥–å…ˆèŠ‚ç‚¹ )åšã€‚<br><strong>è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨è¦ç»™æ¯ä¸ªliéƒ½æ·»åŠ ä¸Šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œå¯èƒ½ä¼šå†™å‡ºä¸‹é¢çš„ä»£ç </strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oMain = <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line"><span class="keyword">var</span> frag = <span class="built_in">document</span>.createDocumentFragment </div><div class="line"><span class="keyword">var</span> len = data.length;</div><div class="line"><span class="keyword">var</span> i,li;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++ )&#123;</div><div class="line">  li = <span class="built_in">document</span>.createElement(<span class="string">'li'</span>);</div><div class="line">  li.innerText = data[i];</div><div class="line">  li.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">// do something</span></div><div class="line">  &#125;,<span class="literal">false</span>)</div><div class="line">  frag.appendChild(li); </div><div class="line">&#125;</div><div class="line"></div><div class="line">oMain.appendChild(frag);</div></pre></td></tr></table></figure>
<p><strong>å¾ˆæ˜¾ç„¶dataçš„lenthæœ‰å¤šå¤§ï¼Œå¾ªç¯å°±å¾—æ‰§è¡Œå¤šå°‘æ¬¡addEventListenerè¿™ä¸ªå‡½æ•°å¤šå°‘æ¬¡ï¼Œå½“æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™æ•ˆç‡è‡ªç„¶ä½äº†ä¸å°‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨äº‹ä»¶ä»£ç†çš„å½¢å¼å°†äº‹ä»¶å§”æ‰˜åˆ°mainå…ƒç´ ä¸Š</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> oMain = <span class="built_in">document</span>.getElementById(<span class="string">'main'</span>);</div><div class="line"><span class="keyword">var</span> sHtml = <span class="string">''</span>;</div><div class="line"><span class="keyword">var</span> len = data.length;</div><div class="line"><span class="keyword">var</span> i,li,target;</div><div class="line"></div><div class="line"><span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; len; i++ )&#123;</div><div class="line">  sHtml += <span class="string">'&lt;li&gt;'</span>+ data[i] +<span class="string">'&lt;/li&gt;'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">oMain.innerHTMl = sHtml; <span class="comment">// æœ€åä¸€æ¬¡æ€§æ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œåªå‡ºå‘æµè§ˆå™¨ä¸€æ¬¡é‡æ’</span></div><div class="line">oMain.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>)</span>&#123;</div><div class="line">  target = ev.target || ev.srcElement;</div><div class="line">  <span class="keyword">if</span>(target.tagName.toLowerCase() == <span class="string">'li'</span>)&#123;</div><div class="line">    <span class="comment">// do something</span></div><div class="line">  &#125;</div><div class="line">&#125;, <span class="literal">false</span>)</div></pre></td></tr></table></figure>
<h2 id="5-é€šè¿‡classNameæ¥æ‰¹é‡ä¿®æ”¹å…ƒç´ æ ·å¼"><a href="#5-é€šè¿‡classNameæ¥æ‰¹é‡ä¿®æ”¹å…ƒç´ æ ·å¼" class="headerlink" title="5. é€šè¿‡classNameæ¥æ‰¹é‡ä¿®æ”¹å…ƒç´ æ ·å¼"></a>5. é€šè¿‡classNameæ¥æ‰¹é‡ä¿®æ”¹å…ƒç´ æ ·å¼</h2><blockquote>
<p>ç»å¸¸æœ‰è¿™æ ·çš„åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨jsä¸­æ‰¹é‡çš„ä¿®æ”¹å…ƒç´ çš„æ ·å¼ï¼Œæ¯”å¦‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ele.style.width = <span class="number">100</span> + <span class="string">'px'</span>;</div><div class="line">ele.style.height = <span class="number">100</span> + <span class="string">'px'</span>;</div><div class="line">ele.style.backgrounfColor = <span class="string">'red'</span>;</div><div class="line">ele.style.border = <span class="string">'solid 1px green'</span>;</div></pre></td></tr></table></figure>
<p><strong>ä»¥ä¸Šä»£ç ä¼šå¤šæ¬¡å‡ºå‘æµè§ˆå™¨é‡ç»˜å’Œé‡æ’ï¼Œä¸€ç§å¥½çš„æ–¹å¼æ˜¯å°†éœ€è¦ä¿®æ”¹çš„æ ·å¼åœ¨æ ·å¼æ–‡ä»¶ä¸­å…ˆå†™å¥½ï¼Œé€šè¿‡ç»™å…ƒç´ èµ‹å€¼classNameçš„å½¢å¼æ‰¹é‡ä¿®æ”¹æ ·å¼</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.active&#123;</div><div class="line">  <span class="attr">width</span>: <span class="number">100</span>px;</div><div class="line">  height: <span class="number">100</span>px;</div><div class="line">  backgroung-color: red;</div><div class="line">  border: solid <span class="number">1</span>px green;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>ç»™å…ƒç´ èµ‹å€¼className</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ele.className += <span class="string">' active'</span>; <span class="comment">// æ³¨æ„å‰é¢çš„ç©ºæ ¼</span></div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[dragToSortè®°ä¸€æ¬¡æ’åºç»„ä»¶å¼€å‘]]></title>
      <url>https://qianlongo.github.io/2016/04/03/dragToSort%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%8E%92%E5%BA%8F%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>æœ‰è¿™ä¹ˆä¸€ç§äººï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ä¼šéœ€è¦ä»–ï¼Œæœ‰è¿™ä¹ˆä¸€ç§äººä»–ä¸€è¾ˆå­åªåšä¸€ä»¶äº‹ï¼Œå¹¶ä¸”åšçš„è¶³å¤Ÿå¥½ï¼Œåœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½è½åœ°ç”Ÿæ ¹ï¼ŒæœåŠ¡å¤§ä¼—ã€‚æ¯”å¦‚è¯´ä¿æ´é˜¿å§¨ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™é‡Œ<strong>è¢«éœ€æ±‚</strong>çš„å®ƒæ˜¯å¤§ä¼—åŒ–çš„ï¼Œå¯è¢«æŠ½è±¡åŒ–çš„ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ç¨‹åºä¸­çš„ä¸“æœ‰åè¯æ¥å½¢å®¹å¯ä»¥ä¸º<strong>ç»„ä»¶</strong>,ç»„ä»¶çš„å­˜åœ¨å°±æ˜¯å¹²<strong>ä¸€ä»¶äº‹</strong>ï¼Œæœ‰è‡ªå·±å­˜åœ¨çš„ç›®æ ‡( <strong>æ„ä¹‰</strong> ),æœ‰è‡ªå·±çš„<strong>è¡Œä¸º</strong>ï¼Œè‡ªå·±çš„<strong>åŠ¨ä½œ</strong>,ç”šè‡³è¿™é‡Œçš„ç»„ä»¶æ˜¯å¯ä»¥è¢«è°ƒç”¨è€…é…ç½®çš„ï¼Œå°±å¥½åƒä¿æ´é˜¿å§¨æ˜¯å¯ä»¥è¢«å…¬å¸åˆ†é…åˆ°ä¸åŒçš„å·¥ä½œåœ°ç‚¹ï¼Œè–ªèµ„ä¹Ÿæ˜¯å¯é…ç½®çš„ã€‚è¿™ç¯‡æ–‡ç« å°±æ˜¯è®²å¦‚ä½•å°†ä¸€ä¸ªç»„ä»¶ä»0åˆ°1çš„è¿‡ç¨‹( æ³¨æ„æš‚æ—¶è¿™ä¸ªç»„ä»¶ä¸ä¼šæ¶‰åŠåˆ°<strong>é…ç½®éƒ¨åˆ†</strong> )</p>
</blockquote>
<a id="more"></a>
<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p><a href="https://github.com/qianlongo/components/tree/master/DragToSort" target="_blank" rel="external">æºç åœ°å€</a></p>
<p><a href="http://sandbox.runjs.cn/show/yzi77cjc" target="_blank" rel="external">æå‰æ„Ÿå—1</a><br><a href="http://sandbox.runjs.cn/show/yjqcgiun" target="_blank" rel="external">æå‰æ„Ÿå—2</a></p>
<p>ä½ å¯ä»¥ç‚¹å‡»ä¸Šé¢çš„ä¸¤ä¸ªé“¾æ¥æå‰æ„Ÿå—ä¸€ä¸‹è¿™ä¸ªæ’ä»¶å¯èƒ½è¦å®Œæˆçš„åŠŸèƒ½ï¼Œä»¥åŠç‚¹å‡»æºç åœ°å€æŸ¥çœ‹æºä»£ç ã€‚å…¶å®éå¸¸çš„å¹³å¸¸ï¼Œä»–è¦åšçš„äº‹å°±æ˜¯å…è®¸ç”¨æˆ·é€šè¿‡é¼ æ ‡æ‹–æ‹½æ¥æ”¹å˜é¡µé¢ä¸ŠæŸäº›<strong>å…ƒç´ çš„ä½ç½®</strong>ï¼Œä»è€Œå®Œæˆç±»ä¼¼æ’åºçš„åŠŸèƒ½</p>
<h2 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h2><p>å…ˆå¼•å…¥dragToSort.jsæ–‡ä»¶</p>
<ol>
<li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„htmlç»“æ„ï¼Œæ‰€ä»¥éœ€è¦éµå¾ªä»¥ä¸‹çš„htmlç»“æ„</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;dragWrap&quot; class=&quot;clear&quot;&gt;</div><div class="line">  &lt;!--å°†è¦æ‹–æ‹½çš„å…ƒç´ æ”¾åˆ°#dragWrapä¸­  ä½œä¸ºä»–çš„å­å…ƒç´ --&gt;</div><div class="line">  ...</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<ol>
<li>è°ƒç”¨ ä»¥ä¸‹ä¸¤å¥ä»£ç æ—¢å¯ä»¥å®Œæˆä»¥ä¸Šæ‰€è¯‰éœ€æ±‚</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var dragTS = new DragToSort();</div><div class="line">    dragTS.init();</div></pre></td></tr></table></figure>
<h2 id="æºä»£ç åˆ†æ"><a href="#æºä»£ç åˆ†æ" class="headerlink" title="æºä»£ç åˆ†æ"></a>æºä»£ç åˆ†æ</h2><blockquote>
<p>æ’ä»¶ä»¥é¢å‘å¯¹è±¡çš„å½¢å¼å®Œæˆï¼Œæ„é€ å‡½æ•°å†…éƒ¨æœ‰ä¸€äº›åŸå‹ä¸Šéœ€è¦ç”¨åˆ°çš„ä¸€äº›æ•°æ®ï¼ŒæŒ‚åœ¨åˆ°åŸå‹ä¸Šé¢çš„æ–¹æ³•å®Œæˆæ’ä»¶çš„ä¸»è¦åŠŸèƒ½ã€‚</p>
</blockquote>
<p><strong>æ„é€ å‡½æ•°</strong></p>
<blockquote>
<p>æ„é€ å‡½æ•° ä¸»è¦å­˜å‚¨æ’ä»¶æ–¹æ³•ä¸­éœ€è¦ç”¨åˆ°çš„æ•°æ®</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function DragToSort() &#123;</div><div class="line">  var parent = document.getElementById(&apos;dragWrap&apos;);</div><div class="line">  this.eles = [].slice.call(parent.children);</div><div class="line">  this.elesPos = this.getPos();</div><div class="line">  this.iZIndex = 2;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong>åŸå‹</strong><br>&gt;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">DragToSort.prototype = &#123;</div><div class="line">  constructor: DragToSort, // é‡æ–°æŒ‡å‘DragToSort</div><div class="line">  init: function  () &#123;</div><div class="line">   //åˆå§‹åŒ–</div><div class="line">  &#125;,</div><div class="line">  getPos: function  () &#123;</div><div class="line">    // å¾—åˆ°éœ€è¦æ‹–æ‹‰æ’åºçš„ä½ç½®ä¿¡æ¯</div><div class="line">  &#125;,</div><div class="line">  css: function  () &#123;</div><div class="line">   // ç®€æ˜“çš„æ ·å¼æ“ä½œå‡½æ•°</div><div class="line">  &#125;,</div><div class="line">  getStyle: function () &#123;</div><div class="line">   // è·å–å…ƒç´ çš„è¡Œé—´æ ·å¼ å°è£…</div><div class="line">  &#125;,</div><div class="line">  startMove: function ()&#123;</div><div class="line">   // åŠ¨ç”»å‡½æ•°å°è£… ç”¨æ¥ç»™æ‹–æ‹½æ·»åŠ åŠ¨ç”»æ•ˆæœ</div><div class="line">  &#125;,</div><div class="line">  setPos: function  () &#123;</div><div class="line">   // å®šä½è½¬æ¢å‡½æ•° å› åˆå§‹æƒ…å†µä¸‹å…ƒç´ æ˜¯æµ®åŠ¨å¸ƒå±€ï¼Œä½†æ˜¯è¿™é‡Œçš„æ’ä»¶è¦å®Œæˆçš„åŠŸèƒ½éœ€è¦å…ƒç´ å®šä½( ç»å¯¹å®šä½ )</div><div class="line">  &#125;,</div><div class="line">  crash: function  () &#123;</div><div class="line">    // æ£€æŸ¥ä¸¤ä¸ªç‰©ä½“æ˜¯å¦å‘ç”Ÿç¢°æ’</div><div class="line">  &#125;,</div><div class="line">  distance : function  () &#123;</div><div class="line">   // è®¡ç®—ä¸¤ä¸ªç‰©ä½“ä¹‹é—´çš„è·ç¦»</div><div class="line">  &#125;,</div><div class="line">  nearObj : function  () &#123;</div><div class="line">   // å¯»æ‰¾ä¸å½“å‰æ‹–æ‹½å…ƒç´ ç›¸ç¢°æ­£çš„å…ƒç´ ä¸­æœ€è¿‘çš„å…ƒç´ </div><div class="line">  &#125;,</div><div class="line">  drag : function  () &#123;</div><div class="line">   //  æ‹–æ‹½å‡½æ•°å°è£…</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p><strong>æ¥ä¸‹æ¥å¼€å§‹è¯¦ç»†è§£é‡Šå„æ®µä»£ç </strong></p>
<p><strong>getPos</strong></p>
<blockquote>
<p>é€šè¿‡å¯¹éœ€è¦æ‹–æ‹½çš„å…ƒç´ ï¼Œè¿›è¡Œéå†ï¼Œç”¨æ•°ç»„å°†å…¶ä½ç½®ä¿¡æ¯å­˜å‚¨èµ·æ¥ï¼Œå¹¶ç»™æ¯ä¸ªå…ƒç´ è®¾ç½®ä¸€ä¸ªåˆå§‹çš„ç´¢å¼•å€¼(ä¸ºä»€ä¹ˆè¦ç”¨åˆ°ç´¢å¼•å€¼ï¼Œåé¢ä¼šè¯´åˆ°)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function ()&#123;</div><div class="line">  var pos = [];</div><div class="line">  this.eles.forEach( function  (item ,index) &#123;</div><div class="line">    pos.push(&#123;</div><div class="line">      left : item.offsetLeft,</div><div class="line">      top : item.offsetTop</div><div class="line">    &#125;)</div><div class="line">    item.index = index;</div><div class="line">  &#125;)</div><div class="line">  return pos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>css</strong></p>
<blockquote>
<p>è®¾ç½®å…ƒç´ æ ·å¼çš„çš„ç®€æ˜“å‡½æ•°å°è£…,æ¥å—ä¸€ä¸ªå…ƒç´ å¯¹è±¡ï¼Œå’Œè®¾ç½®cssæ ·å¼çš„å¯¹è±¡</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function  (objEle, obj) &#123;</div><div class="line">  for(var attr in obj)&#123;</div><div class="line">    objEle[&apos;style&apos;][attr] = obj[attr];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>getStyle</strong></p>
<blockquote>
<p>è·å–å…ƒç´ æ ·å¼å…¼å®¹å‡½æ•°å°è£…</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function (obj, attr) &#123;</div><div class="line">  if (obj.currentStyle) &#123;</div><div class="line">   return obj.currentStyle[attr]; // chrome ie ...</div><div class="line">  &#125;else&#123;</div><div class="line">   return getComputedStyle(obj, false)[attr]; // firefox ...</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>startMove</strong></p>
<blockquote>
<p>åŠ¨ç”»å‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">function (obj, json, fnEnd)&#123;</div><div class="line">  var _this = this;</div><div class="line">  clearInterval(obj.timer);</div><div class="line">  obj.timer=setInterval(function ()&#123;</div><div class="line">    var bStop=true;</div><div class="line">    for(var attr in json)&#123;</div><div class="line">       var cur=0;</div><div class="line">       if(attr==&apos;opacity&apos;)&#123;</div><div class="line">          cur=Math.round(parseFloat(_this.getStyle(obj, attr))*100);</div><div class="line">       &#125;else&#123;</div><div class="line">          cur=parseInt(_this.getStyle(obj, attr));</div><div class="line">       &#125;</div><div class="line">       var speed=(json[attr]-cur)/6;</div><div class="line">       speed=speed&gt;0?Math.ceil(speed):Math.floor(speed);</div><div class="line"></div><div class="line">       if(cur!=json[attr])&#123;</div><div class="line">          bStop=false;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       if(attr==&apos;opacity&apos;)&#123;</div><div class="line">          obj.style.filter=&apos;alpha(opacity:&apos;+(cur+speed)+&apos;)&apos;;</div><div class="line">          obj.style.opacity=(cur+speed)/100;</div><div class="line">        &#125;else&#123;</div><div class="line">          obj.style[attr]=cur+speed+&apos;px&apos;;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    if(bStop)&#123;</div><div class="line">        clearInterval(obj.timer);</div><div class="line">        if(fnEnd)fnEnd();</div><div class="line">    &#125;</div><div class="line">  &#125;, 30);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>setPos</strong></p>
<blockquote>
<p>å°†æµ®åŠ¨å¸ƒå±€è½¬åŒ–ä¸ºå®šä½å¸ƒå±€</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function  () &#123;</div><div class="line">  //å®šä½è½¬æ¢ absolute</div><div class="line">  var _this = this;</div><div class="line">  _this.eles.forEach( function  (item,index) &#123;</div><div class="line">    _this.css(item,&#123;</div><div class="line">      position : &apos;absolute&apos;,</div><div class="line">      left : _this.elesPos[index][&apos;left&apos;] + &apos;px&apos;,</div><div class="line">      top :  _this.elesPos[index][&apos;top&apos;] + &apos;px&apos;,</div><div class="line">      margin : 0</div><div class="line">    &#125;);</div><div class="line">  &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>crash</strong></p>
<blockquote>
<p>æ£€æŸ¥ä¸¤ä¸ªç‰©ä½“æ˜¯å¦å‘ç”Ÿç¢°æ’ï¼Œè¦æ£€æŸ¥ä¸¤ä¸ªç‰©ä½“æ˜¯å¦å‘ç”Ÿç¢°æ’ï¼Œå€¼éœ€è¦æ£€æŸ¥å®ƒä»¬çš„ä½ç½®å…³ç³»å°±å¯ä»¥ï¼Œä¹Ÿå°±æ˜¯ä¸¤ç‰©ä½“æ²¡æœ‰é‡å åŒºåŸŸã€‚å¦‚å›¾ï¼Œå¦ä¸€ä¸ªç‰©ä½“å¤„äºçº¢è‰²åœ†åœˆä½ç½®ä¾¿ä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œåä¹‹</p>
</blockquote>
<p><img src="/2016-4/3/6.png" alt="å›°"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function  (obj, obj2) &#123;</div><div class="line">  //æ£€æŸ¥ä¸¤ä¸ªç‰©ä½“æ˜¯å¦å‘ç”Ÿç¢°æ’</div><div class="line">  // obj1</div><div class="line">  var t1 = obj.offsetTop;</div><div class="line">  var l1 = obj.offsetLeft;</div><div class="line">  var b1 = obj.offsetHeight + t1;</div><div class="line">  var r1 = obj.offsetWidth + l1;</div><div class="line">  // obj2</div><div class="line">  var t2 = obj2.offsetTop;</div><div class="line">  var l2 = obj2.offsetLeft;</div><div class="line">  var b2 = obj2.offsetHeight + t2;</div><div class="line">  var r2 = obj2.offsetWidth + l2;</div><div class="line">  //æ£€æŸ¥</div><div class="line">  if( r1&lt;l2 || r2&lt;l1 || b1&lt;t2 || b2&lt;t1 )&#123;</div><div class="line">    return false;//æœªç¢°æ’</div><div class="line">  &#125;else&#123;</div><div class="line">    return true;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åˆè¯†jsé¢å‘å¯¹è±¡]]></title>
      <url>https://qianlongo.github.io/2016/04/03/%E5%88%9D%E8%AF%86js%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p><strong>åŸºäºç±»çš„å¯¹è±¡ï¼š</strong>æˆ‘ä»¬éƒ½çŸ¥é“é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­æœ‰ä¸€ä¸ªæ˜æ˜¾çš„æ ‡å¿—ï¼Œå°±æ˜¯éƒ½æœ‰ç±»çš„æ¦‚å¿µï¼Œé€šè¿‡ç±»è¿™ä¸ªç±»ä¼¼æ¨¡æ¿çš„ä¸œè¥¿æˆ‘ä»¬å¯ä»¥åˆ›å»ºè®¸å¤šä¸ªå…·æœ‰ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚ç„¶è€Œåœ¨ECMAScriptä¸­å¹¶æ²¡æœ‰ç±»çš„æ¦‚å¿µï¼Œè‡ªç„¶å®ƒä¸åŸºäºç±»çš„è¯­è¨€ä¸­çš„å¯¹è±¡ä¹Ÿä¼šæœ‰æ‰€ä¸åŒã€‚</p>
</blockquote>
<a id="more"></a>
<blockquote>
<p><strong>jsä¸­çš„å¯¹è±¡ï¼š**</strong>æ— åº**çš„å±æ€§çš„é›†åˆï¼Œå±æ€§å¯ä»¥åŒ…å«åŸºæœ¬å€¼ã€å¯¹è±¡ã€å‡½æ•°ã€‚å³jsä¸­çš„å¯¹è±¡æ˜¯ä¸€ç»„æ²¡æœ‰ç‰¹å®šé¡ºåºçš„å€¼ï¼Œå¯¹è±¡çš„æ¯ä¸ªå±æ€§æˆ–è€…æ–¹æ³•éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„åå­—ï¼Œè€Œæ¯ä¸ªåå­—éƒ½ä¸ä¸€ä¸ªå€¼ç›¸å¯¹åº”ã€‚</p>
</blockquote>
<h2 id="ç†è§£å¯¹è±¡"><a href="#ç†è§£å¯¹è±¡" class="headerlink" title="ç†è§£å¯¹è±¡"></a>ç†è§£å¯¹è±¡</h2><h3 id="åˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#åˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="åˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>åˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h3><blockquote>
<p>1 åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æœ€ç®€å•çš„æ–¹å¼æ˜¯åˆ›å»ºä¸€ä¸ªObjectå®ä¾‹,ä¹‹åä¸ºå…¶æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚</p>
</blockquote>
<p><strong>ä¾‹å¦‚</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var person = new Object();</div><div class="line">    person.name = &apos;è°¦é¾™&apos;;</div><div class="line">    person.sex = &apos;ç”·&apos;;</div><div class="line">    person.sayNameAndSex = function()&#123;</div><div class="line">        console.log(this.name, this.sex);</div><div class="line">    &#125;</div><div class="line">    person.sayNameAndSex(); // è°¦é¾™ ç”·</div></pre></td></tr></table></figure>
<blockquote>
<p>2  ä½¿ç”¨å¯¹è±¡å­—é¢é‡å½¢å¼</p>
</blockquote>
<p><strong>ä¾‹å¦‚</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var person = &#123;</div><div class="line">    name:&apos;è°¦é¾™&apos;,</div><div class="line">    sex:&apos;ç”·&apos;,</div><div class="line">    sayNameAndSex:function()&#123;</div><div class="line">        console.log(this.name, this.sex)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"> person.sayNameAndSex(); // è°¦é¾™ ç”·</div></pre></td></tr></table></figure>
<h3 id="å±æ€§çš„ç±»å‹"><a href="#å±æ€§çš„ç±»å‹" class="headerlink" title="å±æ€§çš„ç±»å‹"></a>å±æ€§çš„ç±»å‹</h3><blockquote>
<p>ECMAScriptæœ‰ä¸¤ç§æ•°æ®å±æ€§ï¼šæ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ã€‚</p>
</blockquote>
<h4 id="æ•°æ®å±æ€§"><a href="#æ•°æ®å±æ€§" class="headerlink" title="æ•°æ®å±æ€§"></a>æ•°æ®å±æ€§</h4><blockquote>
<p>æ•°æ®å±æ€§åŒ…å«ä¸€ä¸ªæ•°æ®å€¼çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä½ç½®å¯ä»¥è¯»å–å’Œå†™å…¥å€¼ã€‚å…±æœ‰å››ä¸ªæè¿°å…¶è¡Œä¸ºçš„ç‰¹æ€§ã€‚</p>
</blockquote>
<p> 1.[[Configurable]]:è¡¨ç¤ºèƒ½å¦é€šè¿‡deleteåˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§â€¦é»˜è®¤å€¼ä¸ºtrue<br> 2.[[Enumerable]]:è¡¨ç¤ºèƒ½å¦é€šè¿‡for in å¾ªç¯è¿”å›å±æ€§â€¦é»˜è®¤ä¸ºtrue<br> 3.[[Writable]]:è¡¨ç¤ºèƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼â€¦é»˜è®¤ä¸ºtrue<br> 4.[[Value]]:è¡¨ç¤ºè¿™ä¸ªå±æ€§çš„å€¼.é»˜è®¤ä¸ºundefined</p>
<p><strong>è¦ä¿®æ”¹å±æ€§é»˜è®¤çš„ç‰¹æ€§ï¼Œå¿…é¡»ä½¿ç”¨ES5çš„Object.defineProperty()æ–¹æ³•ï¼Œè€Œè¯¥æ–¹æ³•æ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡ã€å±æ€§çš„åç§°ã€è¿˜æœ‰ä¸€ä¸ªæè¿°å±æ€§ç‰¹æ€§çš„å¯¹è±¡(configurableã€enumerableã€writableã€value)ï¼Œè®¾ç½®å…¶ä¸­çš„ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼å¯ä»¥ä¿®æ”¹å¯¹åº”çš„ç‰¹æ€§</strong></p>
<p><strong>DEMO</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">var person = &#123;&#125;;</div><div class="line">Object.defineProperty(person, &apos;name&apos;,&#123;</div><div class="line">    configurable:false,//è¡¨ç¤ºä¸å…è®¸é€šè¿‡deleteåˆ é™¤å±æ€§</div><div class="line">    writable:false,//è¡¨ç¤ºä¸å…è®¸é‡å†™</div><div class="line">    ennumerable:false,//è¡¨ç¤ºä¸å…è®¸é€šè¿‡for inéå†</div><div class="line">    value:&apos;è°¦é¾™&apos;//è®¾ç½®è¯¥å¯¹è±¡ä¸­å±æ€§çš„å€¼</div><div class="line">&#125;)</div><div class="line">person.name = &apos;è°¦é¾™2&apos;;//å°è¯•é‡æ–°è®¾ç½®  ç»“æœä¸ç”Ÿæ•ˆ</div><div class="line">delete  person.name;//å°è¯•åˆ é™¤  ç»“æœä¸ç”Ÿæ•ˆ</div><div class="line"></div><div class="line">for(var attr in person)&#123;</div><div class="line">    console.log(person[attr]);// false</div><div class="line">&#125;</div><div class="line"></div><div class="line">console.log(person.name);//è°¦é¾™</div></pre></td></tr></table></figure></p>
<p><strong>æ³¨æ„ï¼š</strong>å°†<strong>configurable</strong>è®¾ç½®ä¸ºfalseå ä¸å…è®¸å†æ¬¡ä¿®æ”¹ä¸ºtrueï¼Œå¦å¤–åœ¨è°ƒç”¨Object.defineProperty()æ–¹æ³•çš„æ—¶å€™ï¼Œconfigurableã€ennumerableã€writableé»˜è®¤å€¼ä¸ºfalseã€‚</p>
<h4 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h4><blockquote>
<p>è®¿é—®å™¨å±æ€§ä¸åŒ…å«æ•°æ®å€¼ï¼Œå®ƒä»¬åŒ…å«ä¸€å¯¹getterã€setterå‡½æ•°(ä½†æ˜¯è¿™ä¸¤ä¸ªå‡½æ•°å¹¶ä¸æ˜¯å¿…é¡»çš„)åœ¨è¯»å–è®¿é—®å™¨å±æ€§çš„æ—¶å€™ï¼Œä¼šè°ƒç”¨getterå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯è´Ÿè´£è¿”å›æœ‰æ•ˆçš„å€¼ï¼Œåœ¨å†™å…¥è®¿é—®å™¨å±æ€§çš„æ—¶å€™ä¼šè°ƒç”¨setterå‡½æ•°å¹¶ä¼ å…¥æ–°å€¼ï¼Œè¿™ä¸ªå‡½æ•°è´Ÿè´£å¦‚ä½•å¤„ç†æ•°æ®ã€‚</p>
</blockquote>
<p><strong>è®¿é—®å™¨å±æ€§å…·æœ‰å¦‚ä¸‹çš„ç‰¹æ€§</strong></p>
<ol>
<li>[[configurable]] è¡¨ç¤ºèƒ½å¦é€šè¿‡deleteæ¥åˆ é™¤å±æ€§ä»è€Œå®šä¹‰æ–°çš„å±æ€§</li>
<li>[[enumerable]] è¡¨ç¤ºèƒ½å¦é€šè¿‡for inå¾ªç¯æ¥éå†è¿”å›å±æ€§</li>
<li>[[get]] åœ¨è¯»å–å±æ€§æ—¶å€™è°ƒç”¨çš„å‡½æ•°ï¼Œé»˜è®¤ä¸ºundefined</li>
<li>[[set]] åœ¨å†™å…¥å‡½æ•°çš„æ—¶å€™è°ƒç”¨çš„å‡½æ•°ï¼Œé»˜è®¤çš„å€¼ä¸ºundefined</li>
</ol>
<p><strong>æ³¨æ„ï¼š</strong>è®¿é—®å™¨å±æ€§ä¸èƒ½ç›´æ¥å®šä¹‰ï¼Œå¿…é¡»é€šè¿‡Object.defineProterty()å®šä¹‰<br><strong>DEMO</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var book=&#123;</div><div class="line">  _year:2015, //è¿™é‡Œçš„ä¸‹åˆ’çº¿æ˜¯å¸¸è§çš„è®°å·ï¼Œè¡¨ç¤ºåªèƒ½é€šè¿‡å¯¹è±¡çš„æ–¹æ³•æ‰èƒ½è®¿é—®çš„å±æ€§</div><div class="line">  edition:1</div><div class="line">&#125;</div><div class="line"></div><div class="line">Object.defineProperty(book, &apos;year&apos;,&#123;</div><div class="line">    get:function()&#123;</div><div class="line">        return this._year; //å³é»˜è®¤é€šè¿‡ book.yearè·å–å€¼çš„æ—¶å€™ è¿”å›çš„æ˜¯ boot._yearçš„å€¼</div><div class="line">    &#125;,</div><div class="line">    set: function (value) &#123;//åœ¨å¯¹ boot.yearè®¾ç½®å€¼çš„æ—¶å€™ é»˜è®¤è°ƒç”¨çš„æ–¹æ³• å¯¹æ•°æ®è¿›è¡Œå¤„ç†</div><div class="line">        var _year = this._year;</div><div class="line">        if(value &gt; _year)&#123;</div><div class="line">            this._year = value;</div><div class="line">            this.edition += value - _year;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">book.year = 2016;</div><div class="line">console.log(book.year,book.edition); // 2016  2</div></pre></td></tr></table></figure>
<h4 id="å®šä¹‰å¤šä¸ªå±æ€§"><a href="#å®šä¹‰å¤šä¸ªå±æ€§" class="headerlink" title="å®šä¹‰å¤šä¸ªå±æ€§"></a>å®šä¹‰å¤šä¸ªå±æ€§</h4><blockquote>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ES5ä¸­çš„Object.defineProperties()æ–¹æ³•æ¥ç»™å¯¹è±¡æ·»åŠ å¤šä¸ªå±æ€§ï¼Œè¯¥æ–¹æ³•æ¥å—ä¸¤ä¸ª<strong>å¯¹è±¡</strong>å‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ·»åŠ å’Œä¿®æ”¹å…¶å±æ€§çš„å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå¯¹è±¡çš„å±æ€§å’Œç¬¬ä¸€ä¸ªå¯¹è±¡ä¸­è¦æ·»åŠ å’Œä¿®æ”¹çš„å±æ€§ä¸€ä¸€å¯¹åº”ã€‚</p>
</blockquote>
<p><strong>DEMO</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">var book = &#123;&#125;;</div><div class="line">    Object.defineProperties(book,&#123;</div><div class="line">        _year:&#123;</div><div class="line">            value:2015,</div><div class="line">            writable:true //æ³¨æ„è¿™é‡Œè®¾ç½®æˆtrue æ‰å¯ä»¥ &quot;å†™&quot; é»˜è®¤æ˜¯false </div><div class="line">        &#125;,</div><div class="line">        edition:&#123;</div><div class="line">            value:1,</div><div class="line">            writable:true //æ³¨æ„è¿™é‡Œè®¾ç½®æˆtrue æ‰å¯ä»¥ &quot;å†™&quot; é»˜è®¤æ˜¯false</div><div class="line">        &#125;,</div><div class="line">        year:&#123;</div><div class="line">            get:function()&#123;</div><div class="line">                return this._year;</div><div class="line">            &#125;,</div><div class="line">            set: function (value) &#123;</div><div class="line">                var _year=this._year;</div><div class="line">                if(value &gt; _year)&#123;</div><div class="line">                    this._year=value;</div><div class="line">                    this.edition+=value-_year;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    book.year = 2016;</div><div class="line">    console.log(book.year,book.edition); // 2016 2</div></pre></td></tr></table></figure>
<h4 id="è¯»å–å¯¹è±¡å±æ€§çš„ç‰¹æ€§"><a href="#è¯»å–å¯¹è±¡å±æ€§çš„ç‰¹æ€§" class="headerlink" title="è¯»å–å¯¹è±¡å±æ€§çš„ç‰¹æ€§"></a>è¯»å–å¯¹è±¡å±æ€§çš„ç‰¹æ€§</h4><blockquote>
<p>ä½¿ç”¨ES5ä¸­çš„Object.getOwnPropertyDescriptor()æ–¹æ³•ï¼Œå¯ä»¥å»çš„ç»™å®šçš„å±æ€§çš„æè¿°ç¬¦ã€‚<br>è¯¥æ–¹æ³•æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šå±æ€§æ‰€åœ¨çš„å¯¹è±¡å’Œè¦è¯»å–æè¿°ç¬¦çš„å±æ€§åç§°ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ˜¯æ•°æ®å±æ€§ï¼Œåˆ™è¿”å›çš„å±æ€§æœ‰ configurable,enumerable,writable,value.å¦‚æœæ˜¯è®¿é—®å™¨å±æ€§åˆ™è¿”å›çš„å±æ€§æœ‰ configurable,enumerable,get,set</p>
</blockquote>
<p><strong>DEMO</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">var book=&#123;&#125;;</div><div class="line">Object.defineProperties(book,&#123;</div><div class="line">    _year:&#123;</div><div class="line">        value:2015,</div><div class="line">        writable:true</div><div class="line">    &#125;,</div><div class="line">    edition:&#123;</div><div class="line">        value:1,</div><div class="line">        writable:true</div><div class="line">    &#125;,</div><div class="line">    year:&#123;</div><div class="line">        get:function()&#123;</div><div class="line">            return this._year;</div><div class="line">        &#125;,</div><div class="line">        set: function (value) &#123;</div><div class="line">            var _year = this._year;</div><div class="line">            if(value &gt; _year)&#123;</div><div class="line">                this._year = value;</div><div class="line">                this.edition += value - _year;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">//å¯¹è±¡éå†å‡½æ•°</div><div class="line">function showAllProperties(obj)&#123;</div><div class="line">    for(var attr in obj)&#123;</div><div class="line">        console.log(attr+&apos;:&apos;+obj[attr]);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var descriptor= Object.getOwnPropertyDescriptor(book,&apos;_year&apos;);//æ•°æ®å±æ€§</div><div class="line">var descriptor2= Object.getOwnPropertyDescriptor(book,&apos;year&apos;);//è®¿é—®å™¨å±æ€§</div><div class="line">showAllProperties(descriptor);</div><div class="line">console.log(&apos;============================&apos;);</div><div class="line">showAllProperties(descriptor2);</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong></p>
<p><img src="/2016-4/3/5.png" alt="è·å–å±æ€§çš„ç‰¹æ€§"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[tool.js]]></title>
      <url>https://qianlongo.github.io/2016/04/03/lib-js/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>åœ¨å­¦ä¹ å’Œå·¥ä½œçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸€äº›è¾…åŠ©çš„ä¸œè¥¿æ¥å¸®åŠ©æˆ‘ä»¬å°†ä¸€äº›äº‹æƒ…åšå¥½ï¼Œæ¯”å¦‚å†™ä»£ç ä½ å¯èƒ½éœ€è¦ç”¨åˆ°ä¸€äº›åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ã€å¾—åˆ°æŸäº›å…ƒç´ å±æ€§çš„æ–¹å¼ç­‰ã€‚è¯¥ç¯‡æ–‡ç« <strong>æŒç»­è®°å½•</strong>è‡ªå·±åœ¨å†™ç¨‹åºè¿‡ç¨‹ä¸­æ€»ç»“å’Œç§¯ç´¯çš„ä¸€äº›å·¥å…·æ–¹æ³•ã€‚<a href="https://github.com/qianlongo/tool.js/blob/master/tool.js" title="ä»£ç åœ°å€" target="_blank" rel="external">ä»£ç åœ°å€</a></p>
</blockquote>
<a id="more"></a>
<h2 id="ä»£ç ç»“æ„"><a href="#ä»£ç ç»“æ„" class="headerlink" title="ä»£ç ç»“æ„"></a>ä»£ç ç»“æ„</h2><blockquote>
<p>ä»£ç çš„ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼Œæ¯äº§ç”Ÿä¸€ä¸ªæ–°çš„å·¥å…·æ–¹æ³•ï¼Œä¾¿ä¼šåœ¨tollå¯¹è±¡ä¸‹æŒ‚è½½ä¸€ä¸ªå‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">(function  (win) &#123;</div><div class="line"></div><div class="line">var tool = &#123;&#125;;</div><div class="line"></div><div class="line">// isUndefined åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦å·²ç»å£°æ˜</div><div class="line"></div><div class="line">tool.isUndefined = function  (obj) &#123;</div><div class="line">  return obj === typeof  void 0;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">win.tool = tool;</div><div class="line"></div><div class="line">&#125;)(window);</div></pre></td></tr></table></figure>
<h2 id="1-isUndefined"><a href="#1-isUndefined" class="headerlink" title="1.  isUndefined()"></a>1.  isUndefined()</h2><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦å·²ç»å£°æ˜æˆ–å£°æ˜ä½†æœªèµ‹å€¼ï¼Œè¿”å›å€¼æ˜¯booleanå€¼ï¼Œtrueå·²ç»å£°æ˜ï¼Œfalse æœªå£°æ˜</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tool.isUndefined = function  (obj) &#123;</div><div class="line">  return obj === typeof  void 0;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong> æµ‹è¯• </strong><br><img src="/2016-4/3/1.png" alt="isUndefined"></p>
<h2 id="2-random-min-max"><a href="#2-random-min-max" class="headerlink" title="2.  random(min, max)"></a>2.  random(min, max)</h2><blockquote>
<p>å¾—åˆ°ä¸€ä¸ªä»min ~ max çš„æ•´æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">tool.random = function  (min, max) &#123;</div><div class="line">if (min == null &amp;&amp; max == null) &#123;</div><div class="line">  return Math.random();</div><div class="line">&#125;</div><div class="line"></div><div class="line">if (max == null) &#123;</div><div class="line">  max = min;</div><div class="line">  min = 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">return min + Math.floor(Math.random() * (max - min) + 1);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong> æµ‹è¯• </strong><br><img src="/2016-4/3/2.png" alt="isUndefined"></p>
<h2 id="3-property-key"><a href="#3-property-key" class="headerlink" title="3. property(key)"></a>3. property(key)</h2><blockquote>
<p> å¾—åˆ°ä¸€ä¸ªè·å–å¯¹è±¡keyå±æ€§çš„å‡½æ•°</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tool.property = function  (key) &#123;</div><div class="line">  return function  (obj) &#123;</div><div class="line">    return obj == null ? &apos;undefined&apos; : obj[key];</div><div class="line">  &#125;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h2 id="4-isArray"><a href="#4-isArray" class="headerlink" title="4. isArray"></a>4. isArray</h2><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°ç»„</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">tool.isArray = Array.isArray || function  (obj) &#123;</div><div class="line">  return  Object.prototype.toString.call(obj) === &apos;[object Array]&apos;;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p><strong> æµ‹è¯• </strong></p>
<p><img src="/2016-4/3/3.png" alt="isUndefined"></p>
<h2 id="5-isArrayLike-arr"><a href="#5-isArrayLike-arr" class="headerlink" title="5. isArrayLike(arr)"></a>5. isArrayLike(arr)</h2><blockquote>
<p>åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ç±»æ•°ç»„ï¼Œ<strong>ç±»æ•°ç»„</strong>æ˜¯æ‹¥æœ‰è¿™æ ·ä¸€äº›ç‰¹å¾çš„æ•°æ®ç»“æ„ï¼Œå…·æœ‰ç±»ä¼¼æ•°ç»„lengthçš„å±æ€§ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ ‡ 0, 1, 2æ¥è®¿é—®ç±»æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œåœ¨jsä¸­é€šå¸¸æˆ‘ä»¬æŠŠä»–å«åšé›†åˆã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">tool.isArrayLike=  function  (arr) &#123;</div><div class="line">var getLength = this.property(&apos;length&apos;);</div><div class="line">var len = getLength(arr);</div><div class="line"></div><div class="line">return !this.isArray(arr) &amp;&amp; typeof len == &apos;number&apos; &amp;&amp; len &gt;= 0 &amp;&amp; length &lt;= Number.MAX_SAFE_INTEGER;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong> æµ‹è¯• </strong><br><img src="/2016-4/3/4.png" alt="isUndefined"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å‰ç«¯ç¥å™¨emmetè¯­æ³•è¯­æ³•gifå½¢å¼è¯¦è§£]]></title>
      <url>https://qianlongo.github.io/2016/04/02/%E5%89%8D%E7%AB%AF%E7%A5%9E%E5%99%A8emmet%E8%AF%AD%E6%B3%95%E8%AF%AD%E6%B3%95gif%E5%BD%A2%E5%BC%8F%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼Œå¥½çš„ç¥å™¨å¯ä»¥ç»™æˆ‘ä»¬çš„ç”Ÿæ´»å’Œå·¥ä½œå¸¦æ¥äº‹åŠåŠŸå€çš„æ•ˆç‡ï¼Œè¿™ç¯‡æ–‡ç« å°±æ˜¯ä»‹ç»å’Œæ¼”ç¤ºä¸€å‰ç«¯ç¥å™¨  <strong>emmet</strong>,å®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ç”¨æ¥å¸®æˆ‘ä»¬å‰ç«¯åŒå­¦å¿«é€Ÿä¹¦å†™htmlã€‚</p>
</blockquote>
<p>è¦å®Œæˆä¸‹é¢è¿™æ®µhtmlç»“æ„ï¼Œåœ¨åŸå§‹çš„åˆ€è€•ç«ç§æ—¶ä»£æˆ‘ä»¬æ˜¯è¿™æ ·å†™çš„â€¦â€¦<br><a id="more"></a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">  &lt;li&gt;1&lt;/li&gt;</div><div class="line">  &lt;li&gt;2&lt;/li&gt;</div><div class="line">  &lt;li&gt;3&lt;/li&gt;</div><div class="line">  &lt;li&gt;4&lt;/li&gt;</div><div class="line">  &lt;li&gt;5&lt;/li&gt;</div><div class="line">  &lt;li&gt;6&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure>
<p><img src="/2016-4/1/1.gif" alt="åŸå§‹htmlå†™æ³•">;</p>
<p><strong> ç„¶è€Œç§‘æŠ€æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›ï¼Œåœ¨ç¨‹åºå‘˜çš„ä¸–ç•Œé‡Œï¼Œç”Ÿäº§åŠ›ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œä¸ºäº†æé«˜æˆ‘ä»¬çš„ä»£ç äº§å‡ºç‡ï¼Œemmetä¾¿è¯ç”Ÿäº†ï¼Œäºæ˜¯åŒæ ·ä¸ºäº†å®Œæˆä¸Šè¿°å·¥ä½œï¼Œemmetå¯ä»¥ä»¥ä¸‹é¢ç®€æ´è€Œåˆé«˜æ•ˆçš„æ–¹å¼å®Œæˆï¼Œç®€ç›´å¸…å‘†äº†ï¼Œæœ‰æœ¨æœ‰ </strong></p>
<p><img src="/2016-4/1/2.gif" alt="åŸå§‹htmlå†™æ³•">;</p>
<p>çœ‹åˆ°è¿™é‡Œå°ä¼™ä¼´æ˜¯ä¸æ˜¯å¼€å§‹é¸¡å†»äº†å‘¢ï¼ æœ‰æœ¨æœ‰æƒ³è‡ªå·±äº²è‡ªæ’¸ä¸€æŠŠçš„å†²åŠ¨å‘¢ï¼ï¼ï¼æ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹çœ‹ä¸€ä¸‹emmetçš„è¯­æ³•å§ï¼Œè‡³äºemmetï¼Œè¯¥æ€ä¹ˆä½¿ç”¨ï¼Œå„å¤§ç¼–è¾‘å™¨é‡Œé¢æ’ä»¶æ€ä¹ˆå®‰è£…ï¼Œå¤§å®¶ç™¾åº¦googleä¸€æŠŠå°±å¯ä»¥çŸ¥é“ï¼Œå¼€å§‹å§ï¼Œéªšå¹´ã€‚</p>
<h2 id="1-åŸºç¡€è¯­æ³•-æ ‡ç­¾-id-class-tagName"><a href="#1-åŸºç¡€è¯­æ³•-æ ‡ç­¾-id-class-tagName" class="headerlink" title="1. åŸºç¡€è¯­æ³• æ ‡ç­¾ id class ( tagName # . )"></a>1. åŸºç¡€è¯­æ³• æ ‡ç­¾ id class ( tagName # . )</h2><p><img src="/2016-4/1/3.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="2-åä»£-å…„å¼Ÿ-çˆ¶çº§-gt"><a href="#2-åä»£-å…„å¼Ÿ-çˆ¶çº§-gt" class="headerlink" title="2. åä»£ å…„å¼Ÿ çˆ¶çº§ ( &gt; + ^ )"></a>2. åä»£ å…„å¼Ÿ çˆ¶çº§ ( &gt; + ^ )</h2><p><img src="/2016-4/1/4.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="3-ä¹˜å·-åˆ†ç»„"><a href="#3-ä¹˜å·-åˆ†ç»„" class="headerlink" title="3. ä¹˜å· åˆ†ç»„ ( () )"></a>3. ä¹˜å·<em> åˆ†ç»„ (</em> () )</h2><p><img src="/2016-4/1/5.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="4-è‡ªå¢-è‡ªå‡"><a href="#4-è‡ªå¢-è‡ªå‡" class="headerlink" title="4. è‡ªå¢ è‡ªå‡ ( $ $@- )"></a>4. è‡ªå¢ è‡ªå‡ ( $ $@- )</h2><p><img src="/2016-4/1/6.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="5-è‡ªå®šä¹‰å±æ€§-key-value"><a href="#5-è‡ªå®šä¹‰å±æ€§-key-value" class="headerlink" title="5. è‡ªå®šä¹‰å±æ€§ ( [key=value] )"></a>5. è‡ªå®šä¹‰å±æ€§ ( [key=value] )</h2><p><img src="/2016-4/1/7.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="6-æ–‡æœ¬"><a href="#6-æ–‡æœ¬" class="headerlink" title="6. æ–‡æœ¬ ( {} )"></a>6. æ–‡æœ¬ ( {} )</h2><p><img src="/2016-4/1/8.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="7-éšå¼æ ‡ç­¾"><a href="#7-éšå¼æ ‡ç­¾" class="headerlink" title="7. éšå¼æ ‡ç­¾"></a>7. éšå¼æ ‡ç­¾</h2><blockquote>
<p>éšå¼æ ‡ç­¾æŒ‡çš„æ˜¯ä¾‹å¦‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ ul çš„å­å…ƒç´ æ˜¯ liï¼Œåœ¨ä½¿ç”¨emmetè¯­æ³•çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å†™<code>ul.list</code> è€Œä¸ç”¨å»æŒ‡å®šå­å…ƒç´ çš„æ ‡ç­¾å <code>ul&gt;li.list</code></p>
</blockquote>
<p><img src="/2016-4/1/9.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="8-ç¼©å†™"><a href="#8-ç¼©å†™" class="headerlink" title="8. ç¼©å†™ :"></a>8. ç¼©å†™ :</h2><p><img src="/2016-4/1/10.gif" alt="emmetè¯­æ³•">;</p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>æ—¥å¸¸çš„å·¥ä½œå¯ä»¥å°†ä¸Šè¿°çš„å„ç§æ–¹å¼æ··åˆä½¿ç”¨ï¼Œæœ€ç»ˆè®©æˆ‘ä»¬çš„ç¼–ç ä»é€Ÿåº¦å’Œè´¨é‡ä¸Šå¾—åˆ°è¾ƒå¤§çš„æå‡ã€‚ </p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jsä¸­å¤šè¡Œå­—ç¬¦ä¸²ç¼–è¾‘ï¼Œä½ ä¼šå“ªäº›æ–¹å¼]]></title>
      <url>https://qianlongo.github.io/2016/03/28/js%E4%B8%AD%E5%A4%9A%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%BC%96%E8%BE%91%EF%BC%8C%E4%BD%A0%E4%BC%9A%E9%82%A3%E4%BA%9B%E6%96%B9%E5%BC%8F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>æˆ‘ä»¬ä¼šç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œéœ€è¦æ‹¼æ¥å¤šè¡Œå­—ç¬¦ä¸²ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­åŠ¨æ€æ’å…¥ä¸€äº›æ•°æ®ä»¥è¾¾åˆ°ä¸šåŠ¡çš„éœ€æ±‚ã€‚ä½†æ˜¯jsä¸­å¹¶æ²¡æœ‰æ ‡å‡†çš„å¤šè¡Œç¼–è¾‘çš„å‡½æ•°ï¼Œäºæ˜¯èªæ˜çš„ç¨‹åºå‘˜ä»¬ä¾¿è„‘æ´å¤§å¼€ï¼Œä¹¦å†™å‡ºè®¸å¤šæœ‰è¶£çš„æ–¹æ³•ã€‚</p>
</blockquote>
<p><img src="/img/2016-03-28-1.png" alt="å¤šè¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ–¹å¼"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://qianlongo.github.io/"</span>&gt;</span>è°¦é¾™çš„åšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://aximario.github.io/"</span>&gt;</span>é˜¿å¸Œçš„åšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://lingyu.wang/"</span>&gt;</span>å¤©é•¶çš„åšå®¢<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong> å¯¹äºä¸Šå›¾çš„domç»“æ„å¦‚æœè¦åœ¨jsä¸­æ‹¼æ¥ï¼Œä½ ä¼šç”¨ä»€ä¹ˆç»„ç»‡æ–¹å¼å‘¢ï¼Ÿ </strong></p>
<h2 id="1-å¸¸è§„æ–¹å¼"><a href="#1-å¸¸è§„æ–¹å¼" class="headerlink" title="1.  å¸¸è§„æ–¹å¼"></a>1.  å¸¸è§„æ–¹å¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var str = &apos;&lt;div class=&quot;links&quot;&gt;&lt;a href=&quot;http://qianlongo.github.io/&quot;&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;&lt;a href=&quot;http://aximario.github.io/&quot;&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;&lt;a href=&quot;http://lingyu.wang/&quot;&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;&lt;/div&gt;&apos;</div></pre></td></tr></table></figure>
<p><strong>çœ‹åˆ°ä¸Šé¢é‚£ä¸€å¨çš„ä»£ç ï¼Œä¸çŸ¥é“æ‚¨çš„å¿ƒæƒ…æ˜¯æ€æ ·çš„ï¼Œåæ­£æˆ‘æ˜¯å®Œå…¨æ²¡æœ‰å¿ƒæƒ…çœ‹ä¸‹å»äº†ï¼Œå¯è¯»æ€§å¤ªå·®äº†ï¼Œäºæ˜¯ä¹ä¸ºäº†å†™å‡ºå¯è¯»æ€§å¼ºçš„ä»£ç æˆ‘ä»¬å¼€å§‹äº†ä¸‹é¢çš„å¾ç¨‹</strong></p>
<h2 id="2-å­—ç¬¦ä¸²ç›¸åŠ å½¢å¼"><a href="#2-å­—ç¬¦ä¸²ç›¸åŠ å½¢å¼" class="headerlink" title="2. å­—ç¬¦ä¸²ç›¸åŠ å½¢å¼"></a>2. å­—ç¬¦ä¸²ç›¸åŠ å½¢å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">'&lt;div class="links"&gt;'</span> +</div><div class="line">	    <span class="string">'&lt;a href="http://qianlongo.github.io/"&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;'</span> +</div><div class="line">	    <span class="string">'&lt;a href="http://aximario.github.io/"&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;'</span> +</div><div class="line">	    <span class="string">'&lt;a href="http://lingyu.wang/"&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;'</span> +</div><div class="line">	  <span class="string">'&lt;/div&gt;'</span></div></pre></td></tr></table></figure>
<p><strong>è¿™ç§ä¹Ÿè®¸æ˜¯æˆ‘ä»¬ç”¨çš„å¾ˆå¤šçš„ä¸€ç§æ–¹å¼ï¼Œç®€å•çµæ´»ï¼Œå¯ä»¥ç›´è§‚åœ°çœ‹å‡ºdomç»“æ„ï¼Œä½†æ˜¯å†™å‡ºæ¥çš„ä»£ç çŠ¹å¦‚æ»¡å¤©ç¹æ˜Ÿä¸€èˆ¬ï¼Œæœ‰äº›å¤´æ™•ç›®çœ©</strong></p>
<h2 id="3-åæ–œæ "><a href="#3-åæ–œæ " class="headerlink" title="3. åæ–œæ "></a>3. åæ–œæ </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">'&lt;div class="links"&gt;\</span></div><div class="line">  &lt;a href="http://qianlongo.github.io/"&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;\</div><div class="line">  &lt;a href="http://aximario.github.io/"&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;\</div><div class="line">  &lt;a href="http://lingyu.wang/"&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;\</div><div class="line">&lt;/div&gt;'</div></pre></td></tr></table></figure>
<h2 id="4-æ•°ç»„åˆ‡å‰²æ–¹å¼"><a href="#4-æ•°ç»„åˆ‡å‰²æ–¹å¼" class="headerlink" title="4. æ•°ç»„åˆ‡å‰²æ–¹å¼"></a>4. æ•°ç»„åˆ‡å‰²æ–¹å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ <span class="string">'&lt;div class="links"&gt;'</span>,<span class="string">'&lt;a href="http://qianlongo.github.io/"&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;'</span>,<span class="string">'&lt;a href="http://aximario.github.io/"&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;'</span>,<span class="string">'&lt;a href="http://lingyu.wang/"&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;'</span>,<span class="string">'&lt;/div&gt;'</span>].join(<span class="string">'\n'</span>);</div></pre></td></tr></table></figure>
<h2 id="5-es6-æ–¹å¼"><a href="#5-es6-æ–¹å¼" class="headerlink" title="5. es6 æ–¹å¼"></a>5. es6 æ–¹å¼</h2><blockquote>
<p>es6çš„åˆ°æ¥ç»™æˆ‘ä»¬å¸¦æ¥è®¸å¤šæ–°çš„ç‰¹æ€§ï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯å…³äºæ¨¡æ¿å­—ç¬¦ä¸²çš„ï¼Œä¸“é—¨å¯ä»¥ç”¨æ¥è§£å†³å¤šè¡Œç¼–è¾‘çš„é—®é¢˜</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">`&lt;div class="links"&gt;</span></div><div class="line">  &lt;a href="http://qianlongo.github.io/"&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;</div><div class="line">  &lt;a href="http://aximario.github.io/"&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;</div><div class="line">  &lt;a href="http://lingyu.wang/"&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;</div><div class="line">&lt;/div&gt;`</div></pre></td></tr></table></figure>
<p>æ³¨æ„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªâ€ <strong>`</strong> â€œç¬¦å·,æ•´æ®µä»£ç å¹²å‡€ç®€æ´ï¼Œå¤ªèˆ’æœäº†æœ‰æœ¨æœ‰</p>
<h2 id="6-é»‘é­”æ³•-function-toString"><a href="#6-é»‘é­”æ³•-function-toString" class="headerlink" title="6. é»‘é­”æ³• function.toString()"></a>6. é»‘é­”æ³• function.toString()</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">toSting</span>(<span class="params">fn</span>)</span>&#123;</div><div class="line">	<span class="keyword">return</span> fn.toString().split(<span class="string">'\n'</span>).slice(<span class="number">1</span>,<span class="number">-1</span>).join(<span class="string">'\n'</span>) + <span class="string">'\n'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">document</span>.body.innerHTML = toString(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="comment">/*</span></div><div class="line">	&lt;div class="links"&gt;</div><div class="line">		&lt;a href="http://qianlongo.github.io/"&gt;è°¦é¾™çš„åšå®¢&lt;/a&gt;</div><div class="line">		&lt;a href="http://aximario.github.io/"&gt;é˜¿å¸Œçš„åšå®¢&lt;/a&gt;</div><div class="line">		&lt;a href="http://lingyu.wang/"&gt;å¤©é•¶çš„åšå®¢&lt;/a&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">*/&#125;)</div></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<p>æ–¹æ³•ä¼šæœ‰å¾ˆå¤šï¼Œé€‚åˆè‡ªå·±çš„ï¼Œé€‚åˆè§£å†³å®é™…é—®é¢˜çš„æ–¹æ³•æ‰æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[javascriptæ•°ç»„æµ…æ]]></title>
      <url>https://qianlongo.github.io/2016/03/27/javascript%E6%95%B0%E7%BB%84%E6%B5%85%E6%9E%90/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>Arrayæ˜¯jsä¸­çš„å¼•ç”¨æ•°æ®ç±»å‹ï¼Œé™¤äº†Objectå¤–ï¼ŒArrayå‡ ä¹æ˜¯æ—¥å¸¸å¼€å‘ä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œè¿™è¾¹æ–‡ç« æ—¨åœ¨å°†jsç›¸å…³çš„apiåˆ†ç±»æ±‡æ€»ï¼Œå¤‡ä½œå­¦ä¹ ç¬”è®°ã€‚</p>
</blockquote>
<h2 id="jsä¸­çš„æ•°ç»„ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒä¹‹å¤„"><a href="#jsä¸­çš„æ•°ç»„ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒä¹‹å¤„" class="headerlink" title="jsä¸­çš„æ•°ç»„ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒä¹‹å¤„"></a>jsä¸­çš„æ•°ç»„ä¸å…¶ä»–è¯­è¨€çš„ä¸åŒä¹‹å¤„</h2><ol>
<li>å¯ä»¥ä¿å­˜<code>ä»»æ„çš„</code>æ•°æ®ç±»å‹</li>
<li>æ•°ç»„é•¿åº¦åŠ¨æ€è°ƒæ•´</li>
</ol>
<a id="more"></a>
<h2 id="æ ˆæ–¹æ³•"><a href="#æ ˆæ–¹æ³•" class="headerlink" title="æ ˆæ–¹æ³•"></a>æ ˆæ–¹æ³•</h2><blockquote>
<p>ECMAScriptä¸­æä¾›äº†è®©æ•°ç»„çš„è¡Œä¸ºç±»ä¼¼äºæ ˆçš„æ–¹æ³•ï¼Œå³å¯ä»¥è®©æ•°ç»„è¡¨ç°çš„å¦‚åŒæ ˆçš„LIFOæ•°æ®ç»“æ„ä¸€èˆ¬ï¼Œæ–¹æ³•åˆ†åˆ«æ˜¯pushï¼Œpop</p>
</blockquote>
<h3 id="push"><a href="#push" class="headerlink" title="push"></a>push</h3><blockquote>
<p>ç”¨æ³•ï¼šè¯¥æ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒæŠŠä»–ä»¬é€ä¸ªæ·»åŠ åˆ°æ•°ç»„çš„æœ«å°¾ï¼Œå¹¶è¿”å›ä¿®æ”¹åæ•°ç»„çš„é•¿åº¦</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var nums = [];</div><div class="line">var len = nums.push(1,2,3);//ä¸€æ¬¡æ€§æ·»åŠ ä¸‰ä¸ªå…ƒç´  è¿”å›ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦3</div><div class="line">    console.log(nums,&apos;len=&apos; + len);</div><div class="line">    len = nums.push(4);//æ·»åŠ ä¸€ä¸ªå…ƒç´  è¿”å›æ•°ç»„ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦4</div><div class="line">    console.log(nums,&apos;len=&apos; + len);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-1.png" alt="push"></p>
<h3 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h3><blockquote>
<p>ç”¨æ³•ï¼šè¯¥æ–¹æ³•åˆ é™¤æ•°ç»„æœ€åä¸€é¡¹ï¼Œ<code>å‡å°‘</code>lengthçš„å€¼ï¼Œå¹¶ä¸”è¿”å›<code>è¢«åˆ é™¤</code>çš„å…ƒç´ </p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var nums = [1,2,3,4];</div><div class="line">    var returnNum = nums.pop();//åˆ é™¤æœ€åä¸€é¡¹ å¹¶è¿”å›</div><div class="line">    console.log(&apos;len=&apos; + nums.length,&apos;returnNum=&apos; + returnNum);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-2.png" alt="pop"></p>
<h3 id="æ ˆå¸¸è§åº”ç”¨ä¹‹æ•°åˆ¶è½¬æ¢"><a href="#æ ˆå¸¸è§åº”ç”¨ä¹‹æ•°åˆ¶è½¬æ¢" class="headerlink" title="æ ˆå¸¸è§åº”ç”¨ä¹‹æ•°åˆ¶è½¬æ¢"></a>æ ˆå¸¸è§åº”ç”¨ä¹‹æ•°åˆ¶è½¬æ¢</h3><p>è¿›è¡Œæ•°åˆ¶ä¹‹é—´çš„ç›¸äº’è½¬æ¢æ˜¯æ˜¯ç¼–ç¨‹ä¸­ç»å¸¸é‡è§çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ•°ç»„æ ˆçš„è¿™ä¸ªç‰¹æ€§æ¥å®Œæˆè¿™ä¸ªæ“ä½œ</p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªæ•´å‹æ•°å­—ï¼Œä»¥åŠè¦è½¬åŒ–çš„æ•°åˆ¶åŸºæ•°</div><div class="line"> function mulBase(num,base)&#123;</div><div class="line">    var numArr = [];</div><div class="line">    do&#123;</div><div class="line">       numArr.push(num%base);//å…¥æ ˆ</div><div class="line">       num = Math.floor((num/base))</div><div class="line">    &#125;while(num&gt;0);</div><div class="line">    var converted = &apos;&apos;;</div><div class="line">    while(numArr.length&gt;0)&#123;</div><div class="line">       converted += numArr.pop();//å‡ºæ ˆ</div><div class="line">    &#125;</div><div class="line">    return converted;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-3.png" alt="æ•°å€¼è½¬æ¢"></p>
<p><strong>æœªå®Œå¾…ç»­zZZ</strong></p>
<h3 id="æ ˆå¸¸è§è¿ç”¨ä¹‹å›æ–‡åˆ¤æ–­"><a href="#æ ˆå¸¸è§è¿ç”¨ä¹‹å›æ–‡åˆ¤æ–­" class="headerlink" title="æ ˆå¸¸è§è¿ç”¨ä¹‹å›æ–‡åˆ¤æ–­"></a>æ ˆå¸¸è§è¿ç”¨ä¹‹å›æ–‡åˆ¤æ–­</h3><blockquote>
<p><strong>å›æ–‡</strong>ï¼šå›æ–‡æ˜¯æŒ‡è¿™æ ·çš„ä¸€ç§ç°è±¡ ä¸€ä¸ªå•è¯ã€çŸ­è¯­ã€æˆ–è€…æ•°å­—ï¼Œ<strong>ä»å‰å¾€å</strong>å†™å’Œ<strong>ä»åå¾€å‰</strong>å†™éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚å•è¯â€dadâ€ã€â€racecarâ€ã€‚</p>
<p><code>code</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function isPalindrome(word)&#123;</div><div class="line">var word = &apos;&apos;+word;</div><div class="line">var wordArr = [];</div><div class="line">    for(var i=0;i&lt;word.length;i++)&#123;</div><div class="line">      wordArr.push(word.charAt(i));//å…¥æ ˆ</div><div class="line">    &#125;</div><div class="line">var reWord=&apos;&apos;;</div><div class="line">    while(wordArr.length&gt;0)&#123;</div><div class="line">      reWord += wordArr.pop();//å‡ºæ ˆ</div><div class="line">    &#125;</div><div class="line">    return reWord == word ? true : false;   </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><img src="/img/2016-03-27-4.png" alt="å›æ–‡åˆ¤æ–­"></p>
<h2 id="é˜Ÿåˆ—æ–¹æ³•"><a href="#é˜Ÿåˆ—æ–¹æ³•" class="headerlink" title="é˜Ÿåˆ—æ–¹æ³•"></a>é˜Ÿåˆ—æ–¹æ³•</h2><blockquote>
<p>æ ˆæ•°æ®ç»“æ„çš„è®¿é—®è§„åˆ™æ˜¯LIFO(åè¿›å…ˆå‡º),è€Œé˜Ÿåˆ—æ•°æ®ç»“æ„çš„è®¿é—®è§„åˆ™æ˜¯FIFO(å…ˆè¿›å…ˆå‡º),å³é˜Ÿåˆ—åœ¨æœ«ç«¯æ·»åŠ é¡¹ï¼Œåœ¨å‰ç«¯ç§»é™¤é¡¹ã€‚å®ç°è¿™ä¸€ç»“æ„çš„æ–¹æ³•æ˜¯push(æœ«ç«¯æ·»åŠ ),shift(å‰ç«¯ç§»é™¤),å‰é¢å·²ç»è¯´è¿‡pushï¼Œæ¥ä¸‹æ¥ä¸»è¦è¯´shift</p>
</blockquote>
<h3 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h3><blockquote>
<p>shiftæ–¹æ³•èƒ½å¤Ÿç§»é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹å¹¶ä¸”è¿”å›è¯¥é¡¹ï¼ŒåŒæ—¶å°†æ•°ç»„çš„é•¿åº¦å‡ä¸€</p>
<p><code>code</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">var reNum = arr.shift();//1</div><div class="line">    console.log(reNum,arr.length)//1,3</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-5.png" alt="shift"></p>
<h3 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h3><blockquote>
<p>unshiftä¸shift<strong>ä½œç”¨ç›¸å</strong>ï¼Œåœ¨æ•°ç»„çš„å‰ç«¯æ·»åŠ ä»»æ„ä¸ªé¡¹ï¼Œå¹¶ä¸”è¿”å›è¯¥æ•°ç»„çš„é•¿åº¦ã€‚<br><code>code</code></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">var reLen = arr.unshift(0);//5</div><div class="line">    reLen2 = arr.unshift(-2,-1);//7</div><div class="line">    console.log(&apos;reLen=&apos; + reLen,&apos;reLen2=&apos; + reLen2,&apos;arr=&apos; + arr);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-6.png" alt="unshift"></p>
<h2 id="æ’åºæ–¹æ³•"><a href="#æ’åºæ–¹æ³•" class="headerlink" title="æ’åºæ–¹æ³•"></a>æ’åºæ–¹æ³•</h2><blockquote>
<p>æ•°ç»„ä¸­å­˜åœ¨ä¸¤ä¸ªç›´æ¥ç”¨æ¥æ’åºçš„æ–¹æ³•ï¼šreverseå’Œsortï¼Œå…¶ä¸­reverseç”¨æ¥é€†åæ•°ç»„ï¼Œsortåˆ™é»˜è®¤æŒ‰ç…§å­—æ¯é¡ºåºè¿›è¡Œæ’åºã€‚</p>
</blockquote>
<h3 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h3><blockquote>
<p>reverse å°†å¯¹åŸæ¥çš„æ•°ç»„è¿›è¡Œåè½¬ï¼Œå¹¶è¿”å›æ”¹å˜åçš„æ•°ç»„ï¼Œå…¶ä¼š<code>æ”¹å˜åŸæ•°ç»„çš„å€¼</code>ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var arr = [5,4,3,2,1];</div><div class="line">var reverseArr = arr.reverse();</div><div class="line">    console.log(&apos;arr:&apos; + arr,&apos;reverseArr:&apos; + reverseArr);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-7.png" alt="reverse"></p>
<h3 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h3><blockquote>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œsortæ–¹æ³•æŒ‰ç…§å‡åºæ’åˆ—æ•°ç»„é¡¹ï¼Œä¸ºäº†å®ç°æ’åºï¼Œsortä¼šè°ƒç”¨æ¯ä¸ªæ•°ç»„é¡¹çš„<strong>toString</strong>æ–¹æ³•ï¼Œç„¶åæ¯”è¾ƒå¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œä»¥ç¡®å®šå¦‚ä½•è¿›è¡Œæ’åºã€‚æ•…sortæ–¹æ³•æ˜¯é€šè¿‡å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒçš„ï¼Œå³ä½¿æ•°ç»„çš„æ¯ä¸€é¡¹æ˜¯æ•°å­—ç±»å‹äº¦æ˜¯å¦‚æ­¤ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var sortArr=[0,1,5,10,15];</div><div class="line">    sortArr.sort();</div><div class="line">    console.log(sortArr);//0,1,10,15,5</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-8.png" alt="sort"></p>
<p><strong>ä¸ºäº†èƒ½å¤Ÿå¯¹æ•°ç»„è¿›è¡Œæˆ‘ä»¬æƒ³è¦çš„æ’åºï¼Œå¯ä»¥ç»™sortä¼ ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ä½œä¸ºå‚æ•°</strong></p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var sortArr=[0,1,5,10,15];</div><div class="line">    sortArr.sort(function(a,b)&#123;</div><div class="line">       return a-b//å‡åº</div><div class="line">      /*</div><div class="line">        return b-a//é™åº</div><div class="line">      */</div><div class="line">   &#125;);</div><div class="line">   console.log(sortArr);//[0,1,5,10,15]</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-9.png" alt="sortæ•°å­—æ’åº"></p>
<h2 id="è½¬æ¢æ–¹æ³•"><a href="#è½¬æ¢æ–¹æ³•" class="headerlink" title="è½¬æ¢æ–¹æ³•"></a>è½¬æ¢æ–¹æ³•</h2><blockquote>
<p>æ‰€æœ‰å¯¹è±¡éƒ½æœ‰toLocalString()ã€toString()ã€valueOf()æ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h3><blockquote>
<p>å°†ä¸€ä¸ªå€¼è½¬æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯ä½¿ç”¨toString()æ–¹æ³•ï¼ŒäºŒæ˜¯ä½¿ç”¨è½¬å‹å‡½æ•°String()<br><strong>(å½“ç„¶è¿˜æœ‰æ·»åŠ ç©ºå­—ç¬¦ä¸²çš„æ–¹å¼)</strong></p>
</blockquote>
<p><strong>ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„</strong></p>
<ol>
<li>å‡ ä¹æ‰€æœ‰å€¼éƒ½æœ‰toStringæ–¹æ³•ï¼Œè¯´æ˜æœ‰çš„å€¼æ˜¯æ²¡æœ‰çš„ï¼Œæ¯”å¦‚nullã€undefined<br><strong>æ¨èè§‚çœ‹</strong> <a href="https://msdn.microsoft.com/zh-cn/library/k6xhc6yc%28v=vs.94%29.aspx" target="_blank" rel="external">toString</a></li>
</ol>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">var num = 10;</div><div class="line">var boolean1 = true;</div><div class="line">var str = &apos;è°¦é¾™&apos;;</div><div class="line">var obj = &#123;&quot;name&quot;:&quot;è°¦é¾™&quot;&#125;;</div><div class="line">var arr = [1,2,3,4];</div><div class="line">var nul = null;</div><div class="line">var undefined1 = undefined;</div><div class="line"></div><div class="line">console.log( num.toString())</div><div class="line">console.log( boolean1.toString())</div><div class="line">console.log( str.toString())</div><div class="line">console.log( obj.toString())</div><div class="line">console.log( arr.toString())</div><div class="line">console.log( nul.toString())</div><div class="line">console.log( undefined1.toString())</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-10.png" alt="toString"></p>
<ol>
<li>å¯¹äºå­—ç¬¦ä¸²ç±»å‹çš„æ•°å€¼ä¹Ÿå¯ä»¥ä½¿ç”¨toStringæ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯è¯¥å­—ç¬¦ä¸²çš„å‰¯æœ¬</li>
<li>toStringæ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå°†è¦è½¬æ¢çš„æ•°å€¼çš„åŸºæ•°(é»˜è®¤æ˜¯10)ï¼Œ<strong>æ³¨æ„</strong>åªæœ€<strong>æ•°å€¼</strong>èµ·ä½œç”¨</li>
</ol>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var num = 10;</div><div class="line">var num2 = &apos;10&apos;;</div><div class="line">console.log(num.toString()) // &apos;10&apos;</div><div class="line">console.log(num.toString(2))// &apos;1010&apos;</div><div class="line">console.log(num.toString(8))// &apos;12&apos;</div><div class="line">console.log(num.toString(16))//&apos;a&apos;</div><div class="line">console.log(num2.toString(2)) // &apos;10&apos;ä¸æ˜¯1010  åªå¯¹æ•°å€¼èµ·ä½œç”¨</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-11.png" alt="toString ">   </p>
<h3 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a>valueOf</h3><blockquote>
<p>è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸºå…ƒå€¼ã€‚</p>
</blockquote>
<p><strong>æ¨èè§‚çœ‹</strong><a href="https://msdn.microsoft.com/zh-cn/library/ftx8swz5%28v=vs.94%29.aspx" target="_blank" rel="external">valueOf</a></p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">var bl = true;</div><div class="line">function fn()&#123;console.log(&apos;è°¦é¾™&apos;)&#125;;</div><div class="line">var num = 10;</div><div class="line">var str = &apos;è°¦é¾™&apos;;</div><div class="line">var obj = /\d/;</div><div class="line">console.log(arr.valueOf(),typeof( arr.valueOf()));</div><div class="line">console.log(bl.valueOf(),typeof( bl.valueOf()));</div><div class="line">console.log(fn.valueOf(),typeof( fn.valueOf()));</div><div class="line">console.log(num.valueOf(),typeof( num.valueOf()));</div><div class="line">console.log(str.valueOf(),typeof( str.valueOf()))</div><div class="line">console.log(obj.valueOf(),typeof( obj.valueOf()));</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-12.png" alt="valueOfæè¿°"></p>
<h3 id="toLocalString"><a href="#toLocalString" class="headerlink" title="toLocalString"></a>toLocalString</h3><blockquote>
<p>toLocalStringæ–¹æ³•ä½œç”¨å‡ ä¹å’ŒtoStringç›¸åŒ</p>
</blockquote>
<h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><blockquote>
<p>å°†æ•°ç»„ä¸­çš„å…ƒç´ ç”¨ä¸åŒçš„åˆ†éš”ç¬¦è¿æ¥æˆå­—ç¬¦ä¸²ï¼ˆé»˜è®¤æ˜¯â€ï¼Œâ€å·ï¼‰</p>
</blockquote>
<p><code>code</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">    console.log(arr.join());</div><div class="line">    console.log(arr.join(&apos;&apos;));</div><div class="line">    console.log(arr.join(&apos;+&apos;))</div></pre></td></tr></table></figure></p>
<p><img src="/img/2016-03-27-13.png" alt="join"></p>
<h2 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h2><h3 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h3><blockquote>
<p>concatæ–¹æ³•å¯ä»¥åŸºäºå½“å‰æ•°ç»„ä¸­çš„æ‰€æœ‰é¡¹åˆ›å»ºä¸€ä¸ª<strong>æ–°çš„æ•°ç»„</strong>ï¼Œå…·ä½“æ¥è¯´ï¼š</p>
</blockquote>
<ol>
<li>è¯¥æ–¹æ³•ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå½“å‰æ•°ç»„çš„å‰¯æœ¬ï¼Œç„¶åå°†æ¥æ”¶åˆ°çš„å‚æ•°æ·»åŠ åˆ°è¿™ä¸ªæ•°ç»„çš„æœ«å°¾ï¼Œæœ€åè¿”å›æ–°æ„å»ºçš„æ•°ç»„ã€‚</li>
<li>å¦‚æœä¼ é€’çš„æ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°ç»„ï¼Œåˆ™ä¼šå°†è¿™äº›æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹éƒ½æ·»åŠ åˆ°ç»“æœæ•°ç»„ä¸­ã€‚</li>
<li>å¦‚æœä¼ é€’çš„ä¸æ˜¯æ•°ç»„ï¼Œè¿™äº›å€¼å°±ä¼šè¢«ç®€å•çš„æ·»åŠ åˆ°ç»“æœæ•°ç»„çš„æœ«å°¾ã€‚</li>
</ol>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var sourceArr = [0];</div><div class="line">var reArr = sourceArr.concat(1,[2,3],[4,5]);</div><div class="line">    console.log(&apos;sourceArr&apos;+sourceArr,&apos;reArr&apos;+reArr);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-14.png" alt="join"></p>
<h3 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h3><blockquote>
<p>åŸºäºå½“å‰æ•°ç»„çš„ä¸€é¡¹æˆ–è€…å¤šé¡¹åˆ›å»ºä¸€ä¸ª<strong>æ–°çš„æ•°ç»„</strong>ï¼Œsliceæ–¹æ³•æ¥å—ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå‚æ•°ã€‚<strong>ä¸€ä¸ªå‚æ•°æ—¶</strong>ï¼šè¿”å›è¯¥å‚æ•°<strong>æŒ‡å®šçš„ä½ç½®</strong>åˆ°å½“å‰æ•°ç»„æœ«å°¾çš„æ‰€æœ‰é¡¹ã€‚<strong>ä¸¤ä¸ªå‚æ•°æ—¶</strong>ï¼šè¿”å›èµ·å§‹ä½ç½®åˆ°ç»“æŸä½ç½®ä¹‹é—´çš„é¡¹ï¼ˆä¸åŒ…æ‹¬ç»“æŸä½ç½®å¹¶ä¸”è¯¥æ–¹æ³•ä¸å½±å“åŸæ¥çš„æ•°ç»„ï¼‰</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">var arr2 = arr.slice(0);// 0-æœ«å°¾æ‰€æœ‰å…ƒç´ </div><div class="line">var arr3 = arr.slice(0,3)// 0-3 ä¸åŒ…æ‹¬3çš„ä½ç½®çš„å…ƒç´ </div><div class="line">var arr4 = arr.slice(-3,-1);//å³æœ€åä¸€ä¸ªå…ƒç´ æ˜¯-1 ä»¥æ­¤å¾€å·¦ç±»æ¨ æ‰€ä»¥å¾—åˆ°çš„ç»“æœæ˜¯[3,4]</div><div class="line">console.log(arr2);</div><div class="line">console.log(arr3);</div><div class="line">console.log(arr4);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-15.png" alt="slice"></p>
<h3 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h3><blockquote>
<p>sliceæ–¹å¼å¯ä»¥è¯´æ˜¯æ•°ç»„ä¸­åŠŸèƒ½æœ€å¼ºå¤§çš„æ–¹æ³•ï¼Œå¯ä»¥å®Œæˆä»»æ„ä½ç½®çš„<strong>æ’å…¥</strong>ï¼Œ<strong>åˆ é™¤</strong>å’Œ<strong>æ›¿æ¢</strong>æ“ä½œ</p>
<p><strong>æ’å…¥</strong>ï¼šå¯ä»¥å‘ä»»æ„ä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œæä¾›ä¸‰ä¸ªå‚æ•°â€“æ’å…¥çš„èµ·å§‹ä½ç½®ã€0ï¼ˆåˆ é™¤å…ƒç´ çš„ä¸ªæ•°ï¼‰ã€æ’å…¥çš„å…ƒç´ ï¼ˆå¦‚æœè¦æ’å…¥å¤šä¸ªå…ƒç´ ï¼Œå†ä¼ å…¥ç¬¬å››ç¬¬äº”â€¦ä¸ªå‚æ•°ï¼‰ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ï¼ˆå¦‚æœæ²¡æœ‰è¢«åˆ é™¤çš„å…ƒç´ è¿”å›çš„æ˜¯[]ç©ºæ•°ç»„ï¼‰ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">var reArr = arr.splice(1,0,&apos;è°¦é¾™&apos;,&apos;è°¦é¾™2&apos;,&apos;è°¦é¾™3&apos;);</div><div class="line">console.log(arr,reArr);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-16.png" alt="spliceæ’å…¥"></p>
<p><strong>åˆ é™¤</strong>ï¼šå¯ä»¥åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œéœ€è¦æŒ‡å®š2ä¸ªå‚æ•°ï¼Œè¦åˆ é™¤çš„ç¬¬ä¸€é¡¹çš„ä½ç½®å’Œè¦åˆ é™¤çš„é¡¹æ•°ã€‚</p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">var reArr = arr.splice(0,2);</div><div class="line">    console.log(arr,reArr);</div><div class="line"></div><div class="line">var arr = [1,2,3,4,5];</div><div class="line">var reArr = arr.splice(5,2);//æ³¨æ„è¿™é‡Œçš„5ä¸åœ¨æ•°ç»„çš„èŒƒå›´å†…</div><div class="line">    console.log(arr,reArr)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-17.png" alt="spliceåˆ é™¤"></p>
<p><strong>æ›¿æ¢</strong>:å¯ä»¥å‘æŒ‡å®šçš„ä½ç½®æ’å…¥ä»»æ„æ•°é‡çš„é¡¹ï¼Œä¸”åŒæ—¶åˆ é™¤ä»»æ„æ•°é‡çš„é¡¹ï¼Œéœ€è¦æä¾›ä¸‰ä¸ªå‚æ•°</p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">var reArr = arr.splice(0,2,&apos;è°¦é¾™&apos;);</div><div class="line">console.log(arr,reArr)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-18.png" alt="spliceåˆ é™¤æ›¿æ¢"></p>
<h2 id="ä½ç½®æ–¹æ³•"><a href="#ä½ç½®æ–¹æ³•" class="headerlink" title="ä½ç½®æ–¹æ³•"></a>ä½ç½®æ–¹æ³•</h2><blockquote>
<p>æ•°ç»„ä¸­æœ‰ä¸¤ä¸ªä½ç½®æ–¹æ³•ï¼šindexOfå’ŒlastIndexOfã€‚éƒ½æ¥æ”¶ä¸¤ä¸ªå‚æ•°â€”è¦æŸ¥æ‰¾çš„é¡¹å’Œè¡¨ç¤ºæŸ¥æ‰¾èµ·ç‚¹çš„ç´¢å¼•ï¼ˆå¯é€‰ï¼‰ã€‚å…¶ä¸­indexOfä»æ•°ç»„å¼€å¤´å¼€å§‹å¾€åæŸ¥æ‰¾ï¼ŒlastIndexOfä»åå¾€å‰æŸ¥æ‰¾ï¼Œè¿”å›å€¼æ˜¯é¡¹åœ¨æ•°ç»„ä¸­çš„ä½ç½®æˆ–è€…-1ï¼ˆæ²¡æœ‰æ‰¾åˆ°ï¼‰</p>
</blockquote>
<h3 id="indexOf-å’Œ-lastIndexOf"><a href="#indexOf-å’Œ-lastIndexOf" class="headerlink" title="indexOf å’Œ lastIndexOf"></a>indexOf å’Œ lastIndexOf</h3><p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,&apos;è°¦é¾™&apos;,4,5,&apos;è°¦é¾™&apos;,6];</div><div class="line">console.log(arr.indexOf(&apos;è°¦é¾™&apos;));//3</div><div class="line">console.log(arr.indexOf(&apos;å¸…å“¥&apos;));//-1</div><div class="line">console.log(arr.lastIndexOf(&apos;è°¦é¾™&apos;));//6</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-19.png" alt="ä½ç½®æ–¹æ³•"></p>
<h2 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h2><blockquote>
<p>ECMAScriptä¸ºæ•°ç»„å®šä¹‰äº†5ä¸ªè¿­ä»£çš„æ–¹æ³•ï¼Œæ¯ä¸ªæ–¹æ³•éƒ½å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¦åœ¨æ¯ä¸€é¡¹è¿è¡Œçš„å‡½æ•°å’Œï¼ˆå¯é€‰ï¼‰è¿è¡Œè¯¥å‡½æ•°çš„ä½œç”¨åŸŸå¯¹è±¡â€”å½±å“çš„æ˜¯thisçš„å€¼ã€‚è€Œä¼ å…¥çš„å‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ï¼šæ•°ç»„é¡¹çš„å€¼ï¼Œç´¢å¼•ï¼Œæ•°ç»„æœ¬èº«ã€‚</p>
</blockquote>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h3><blockquote>
<p>å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿è¡Œç»™å®šçš„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">    arr.forEach(function(item,index,arr)&#123;</div><div class="line">        console.log(item,index,arr);</div><div class="line">    &#125;)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-20.png" alt="forEachæµ‹è¯•"></p>
<p><strong>ç‰¹åˆ«æ³¨æ„ï¼š</strong>é™¤äº†ä»¥ä¸Šçš„åŸºæœ¬ç”¨æ³•ï¼ŒforEachä¸­é»˜è®¤çš„thisæŒ‡çš„æ˜¯windowå¯¹è±¡ï¼Œæ‰€ä»¥å…¶å¯ä»¥æ¥å—ä¸€ä¸ªç”¨æ¥æ”¹å˜thisçš„å‚æ•°ã€‚</p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">arr.forEach(function(item,index,arr)&#123;</div><div class="line">   console.log(this)</div><div class="line">&#125;,arr);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-21.png" alt="forEach thisæŒ‡å‘å‘ç”Ÿæ”¹å˜"></p>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><blockquote>
<p>å¯¹æ•°ç»„çš„æ¯ä¸€é¡¹è¿è¡Œæœ‰è¿”å›å€¼çš„å‡½æ•°ï¼Œæœ€åæ˜ å°„æˆä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5];</div><div class="line">arr.map(function(item,index,arr)&#123;</div><div class="line">console.log(this);</div><div class="line">return item*item;</div><div class="line">&#125;,arr)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-22.png" alt="mapæµ‹è¯•"></p>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><blockquote>
<p>æœ‰è¿‡æ»¤ç­›é€‰çš„å«ä¹‰ï¼Œæ¥æ”¶ä¸€ä¸ªæœ‰è¿”å›å€¼ä¸º<strong>å¼±==true</strong>çš„å‡½æ•°ï¼Œæœ€åè¿”å›ä¸€ä¸ªè¿‡æ»¤åçš„æ–°æ•°ç»„ã€‚å…³äºthisæŒ‡å‘çš„é—®é¢˜ä¸ä¸Šé¢çš„forEachå’Œmapæ˜¯ä¸€æ ·çš„</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4,5,6,7];</div><div class="line">var newArr=arr.filter(function(item)&#123;</div><div class="line"> if(item%2==0)&#123;</div><div class="line">    return true;//è¿”å›å€¼ä¸ºå¸ƒå°”</div><div class="line">  &#125;</div><div class="line">  //ä¹Ÿå¯ä»¥ç›´æ¥å†™æˆ return item%2;</div><div class="line">&#125;)</div><div class="line">console.log(newArr)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-23.png" alt="å›¾ç‰‡æè¿°"></p>
<h3 id="every-å’Œsome"><a href="#every-å’Œsome" class="headerlink" title="every å’Œsome"></a>every å’Œsome</h3><blockquote>
<p>æ¥æ”¶ä¸€ä¸ªè¿”å›å€¼ä¸ºå¸ƒå°”å€¼çš„å‡½æ•°ï¼Œå¦‚æœå¯¹äºæ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œè¯¥å‡½æ•°éƒ½æ˜¯è¿”å›trueåˆ™ï¼Œè¯¥æ–¹æ³•è¿”å›trueã€‚<strong>æ³¨æ„</strong>è¯¥æ–¹æ³•å’Œå‰é¢çš„å‡ ä¸ªæ–¹æ³•ä¸åŒï¼Œä¸ä¼šè¿”å›æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚someä¹Ÿæ˜¯å¦‚æ­¤</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var arr=[1,2,3,4,5];</div><div class="line"> var b=arr.every(function(item)&#123;</div><div class="line">     return item%2==0?true:false;</div><div class="line"> &#125;);</div><div class="line"> console.log(b) </div><div class="line"> </div><div class="line"> ar arr=[1,2,3,4,5];</div><div class="line"> var b=arr.some(function(item)&#123;</div><div class="line">     return item%2==0?true:false;</div><div class="line"> &#125;);</div><div class="line"> console.log(b)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-24.png" alt="every someåº”ç”¨"></p>
<h2 id="å‡å°æ–¹æ³•"><a href="#å‡å°æ–¹æ³•" class="headerlink" title="å‡å°æ–¹æ³•"></a>å‡å°æ–¹æ³•</h2><blockquote>
<p>ES5ä¸­å¯¹æ•°ç»„æ–°å¢äº†ä¸¤ä¸ªâ€ç¼©å°â€æ–¹æ³•(ps:ç¼©å°æ˜¯ç›¸å¯¹çš„)ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ï¼Œç„¶åæ„å»ºä¸€ä¸ªæœ€ç»ˆçš„è¿”å›å€¼ã€‚reduceä»ç¬¬0é¡¹å¼€å§‹ï¼ŒruduceRightä»æœ«å°¾å¼€å§‹ã€‚</p>
</blockquote>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><blockquote>
<p>è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œå‡½æ•°æ¥å—4ä¸ªå‚æ•°ï¼šä¹‹å‰å€¼ã€å½“å‰å€¼ã€ç´¢å¼•å€¼ä»¥åŠæ•°ç»„æœ¬èº«ã€‚initialValueå‚æ•°å¯é€‰ï¼Œè¡¨ç¤ºåˆå§‹å€¼ã€‚è‹¥æŒ‡å®šï¼Œåˆ™å½“ä½œæœ€åˆä½¿ç”¨çš„previouså€¼ï¼›å¦‚æœç¼ºçœï¼Œåˆ™ä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºpreviousåˆå§‹å€¼ï¼ŒåŒæ—¶currentå¾€åæ’ä¸€ä½ï¼Œç›¸æ¯”æœ‰initialValueå€¼å°‘ä¸€æ¬¡è¿­ä»£ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">var sum = arr.reduce(function(pre,cur,index,arr)&#123;</div><div class="line">    return pre+cur;</div><div class="line">&#125;);</div><div class="line">console.log(sum)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-25.png" alt="reduece"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// åˆå§‹è®¾ç½®</div><div class="line">pre = initialValue = 1, cur = 2</div><div class="line"></div><div class="line">// ç¬¬ä¸€æ¬¡è¿­ä»£</div><div class="line">pre = (1 + 2) =  3, cur = 3</div><div class="line"></div><div class="line">// ç¬¬äºŒæ¬¡è¿­ä»£</div><div class="line">pre = (3 + 3) =  6, cur = 4</div><div class="line"></div><div class="line">// ç¬¬ä¸‰æ¬¡è¿­ä»£</div><div class="line">pre = (6 + 4) =  10, cur = undefined (é€€å‡º)</div></pre></td></tr></table></figure>
<h3 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h3><blockquote>
<p>è¯¥å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œå‡½æ•°æ¥å—4ä¸ªå‚æ•°ï¼šä¹‹å‰å€¼ã€å½“å‰å€¼ã€ç´¢å¼•å€¼ä»¥åŠæ•°ç»„æœ¬èº«ã€‚initialValueå‚æ•°å¯é€‰ï¼Œè¡¨ç¤ºåˆå§‹å€¼ã€‚è‹¥æŒ‡å®šï¼Œåˆ™å½“ä½œæœ€åˆä½¿ç”¨çš„previouså€¼ï¼›å¦‚æœç¼ºçœï¼Œåˆ™ä½¿ç”¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½œä¸ºpreviousåˆå§‹å€¼ï¼ŒåŒæ—¶currentå¾€åæ’ä¸€ä½ï¼Œç›¸æ¯”æœ‰initialValueå€¼å°‘ä¸€æ¬¡è¿­ä»£ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var arr = [1,2,3,4];</div><div class="line">var reNum = arr.reduceRight(function(pre,cur,idnex,arr)&#123;</div><div class="line">return pre+cur;</div><div class="line">&#125;)</div><div class="line">console.log(reNum)</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-27-26.png" alt="reduceRightæµ‹è¯•"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// åˆå§‹è®¾ç½®</div><div class="line">pre = initialValue = 4, cur = 3</div><div class="line"></div><div class="line">// ç¬¬ä¸€æ¬¡è¿­ä»£</div><div class="line">pre = (4 +3) =  7, cur = 2</div><div class="line"></div><div class="line">// ç¬¬äºŒæ¬¡è¿­ä»£</div><div class="line">pre = (7 + 2) =  9, cur = 1</div><div class="line"></div><div class="line">// ç¬¬ä¸‰æ¬¡è¿­ä»£</div><div class="line">pre = (9 + 1) =  10, cur = undefined (é€€å‡º)</div></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[åªç”¨ä¸€ä¸ªdiv,æˆ‘ä»¬èƒ½åšä»€ä¹ˆï¼Ÿ]]></title>
      <url>https://qianlongo.github.io/2016/03/27/%E5%8F%AA%E7%94%A8%E4%B8%80%E4%B8%AAdiv-%E6%88%91%E4%BB%AC%E8%83%BD%E5%81%9A%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ç°åœ¨éƒ½æµè¡Œç”¨çº¯csså®ç°ä¸€äº›éå¸¸æœ‰è¶£çš„äº‹æƒ…ï¼Œæ¯”å¦‚çº¯csså®ç°â€æš–ç”·å¤§ç™½â€å•¦( <a href="http://www.17sucai.com/pins/demoshow/9598" target="_blank" rel="external">æˆ³è¿™é‡Œ</a> )ï¼Œçº¯csså®ç°å“†å•¦aæ¢¦å•¦( <a href="http://www.w3cfuns.com/notes/20156/9afc0fe168cc0747bd632da963687973" target="_blank" rel="external">æˆ³è¿™é‡Œ</a> )ç­‰ç­‰ï¼Œè¿˜æœ‰åªç”¨ä¸€ä¸ªdivæˆ‘ä»¬èƒ½åšå“ªäº›æœ‰è¶£çš„äº‹æƒ…å•¦ï¼Œä»Šå¤©æˆ‘ä¹Ÿå‡†å¤‡å†™ä¸€ç¯‡æ–‡ç« ( æŒç»­æ›´æ–° )ï¼Œè®°å½•è‡ªå·±å¹³æ—¶å­¦ä¹ å’Œå·¥ä½œè¿‡ç¨‹ä¸­åªç”¨ä¸€ä¸ªdivæ¥å®Œæˆçš„ä¸€äº›åº”ç”¨å’Œå¥½ç©çš„ä¸œè¥¿ã€‚</p>
</blockquote>
<a id="more"></a>
<p>ä»¥åé™†ç»­æ›´æ–°ä¼šå°†demoä¿å­˜åœ¨<a href="http://sandbox.runjs.cn/show/5yl6lwbv" target="_blank" rel="external">è¿™é‡Œ</a></p>
<p><strong>html</strong>ç»“æ„éƒ½æ˜¯ä¸€ä¸ªdivæ‰€ä»¥ä¸ä¼šå±•ç¤ºå…¶éƒ¨åˆ†ä»£ç ï¼Œåªä¼šåˆ†æå’Œå±•ç¤ºcsséƒ¨åˆ†</p>
<h3 id="1-ç”»ä¸€ä¸ªä¼¸ç¼©å±•å¼€èœå•æŒ‰é’®"><a href="#1-ç”»ä¸€ä¸ªä¼¸ç¼©å±•å¼€èœå•æŒ‰é’®" class="headerlink" title="1. ç”»ä¸€ä¸ªä¼¸ç¼©å±•å¼€èœå•æŒ‰é’®"></a>1. ç”»ä¸€ä¸ªä¼¸ç¼©å±•å¼€èœå•æŒ‰é’®</h3><blockquote>
<p>é¦–å…ˆæˆ‘ä»¬æ¥ç”»ä¸€ä¸ªå‰ç«¯å·¥ä½œä¸­ç»å¸¸è¦ç”¨åˆ°çš„ä¸€ä¸ªiconå›¾æ ‡ï¼Œ<strong>ä¼¸ç¼©å±•å¼€èœå•æŒ‰é’®*</strong>,ä»–çš„ä¸»è¦ä½œç”¨å°±æ˜¯å°†éšè—çš„èœå•å±•å¼€ä»¥æ˜¾ç¤ºæˆ–è€…ä¼¸ç¼©ä»¥éšè—ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º,æˆ–è€…è¯·æˆ³ä½ çš„æµè§ˆå™¨å³ä¸Šè§’â€¦Goã€‚</p>
</blockquote>
<p><img src="/img/2016-03-27-27.png" alt="ä¼¸ç¼©å±•å¼€æŒ‰é’®"></p>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">.hamburger &#123;</div><div class="line">  position: relative;</div><div class="line">  width: 50px;</div><div class="line">  height: 50px;</div><div class="line">  cursor: pointer;</div><div class="line">  border: solid 1px #68EA58;</div><div class="line">&#125;</div><div class="line">.hamburger:before,.hamburger:after&#123;</div><div class="line">  display: block;;</div><div class="line">  content: &apos;&apos;;</div><div class="line">  width: 60%;</div><div class="line">  position: absolute;</div><div class="line">  left: 50%;</div><div class="line">  top: 50%;</div><div class="line">  -webkit-transform: translate(-50%,-50%);</div><div class="line">  -ms-transform: translate(-50%,-50%);</div><div class="line">  -o-transform: translate(-50%,-50%);</div><div class="line">  transform: translate(-50%,-50%);</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line">.hamburger:before &#123;</div><div class="line">  border-top: 4px solid #68EA58;</div><div class="line">  border-bottom: 4px solid #68EA58;</div><div class="line">  height: 14px;</div><div class="line">&#125;</div><div class="line">.hamburger:after &#123;</div><div class="line">  background: #68EA58;</div><div class="line">  height: 4px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>çœ‹æ•ˆæœï¼Œç‚¹å‡»<a href="http://sandbox.runjs.cn/show/5yl6lwbv" target="_blank" rel="external">è¿™é‡Œ</a></p>
<h2 id="2-å›åˆ°é¡¶éƒ¨"><a href="#2-å›åˆ°é¡¶éƒ¨" class="headerlink" title="2. å›åˆ°é¡¶éƒ¨"></a>2. å›åˆ°é¡¶éƒ¨</h2><blockquote>
<p>å‡ ä¹æ¯ä¸€å¼ ç½‘é¡µéƒ½æœ‰ä¸€ä¸ªå›åˆ°é¡¶éƒ¨çš„æŒ‰é’®ï¼Œæ–¹ä¾¿ç”¨æˆ·éšæµè§ˆæ—¶ï¼Œå›åˆ°ç½‘é¡µé¡¶éƒ¨è¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">/*å›åˆ°é¡¶éƒ¨*/</div><div class="line"></div><div class="line">.to-top&#123;</div><div class="line">  border-radius: 50%;</div><div class="line">&#125;</div><div class="line">.to-top:after,.to-top:before&#123;</div><div class="line">  display: block;;</div><div class="line">  content: &apos;&apos;;</div><div class="line">  position: absolute;</div><div class="line">  left: 50%;</div><div class="line">  -webkit-transform: translateX(-50%);</div><div class="line">  -ms-transform: translateX(-50%);</div><div class="line">  -o-transform: translateX(-50%);</div><div class="line">  transform: translateX(-50%);</div><div class="line">&#125;</div><div class="line"></div><div class="line">.to-top:before&#123;</div><div class="line">  border: solid 14px #68EA58;</div><div class="line">  border-left-color: transparent;</div><div class="line">  border-top-color: transparent;</div><div class="line">  border-right-color: transparent;</div><div class="line">&#125;</div><div class="line">.to-top:after&#123;</div><div class="line">  width: 12px;</div><div class="line">  height: 12px;</div><div class="line">  background-color: #68EA58;</div><div class="line">  top:28px;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>çœ‹æ•ˆæœï¼Œç‚¹å‡»<a href="http://sandbox.runjs.cn/show/5yl6lwbv" target="_blank" rel="external">è¿™é‡Œ</a></p>
<h2 id="3-æ¶ˆæ¯æç¤ºæ¡†"><a href="#3-æ¶ˆæ¯æç¤ºæ¡†" class="headerlink" title="3. æ¶ˆæ¯æç¤ºæ¡†"></a>3. æ¶ˆæ¯æç¤ºæ¡†</h2><blockquote>
<p>ä¸€èˆ¬å‰ç«¯å·¥ä½œä¸­ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œé¼ æ ‡è¿›è¡ŒæŸäº›æ“ä½œï¼Œè¿›è€Œç»™åˆ°ç”¨æˆ·ä¸€äº›æç¤ºä¿¡æ¯ï¼Œè¿™äº›æç¤ºä¿¡æ¯çš„è½½ä½“æ˜¯ä¸€ä¸ªæç¤ºæ¡†ã€‚</p>
</blockquote>
<p><code>code</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">/*ä¿¡æ¯æç¤º*/</div><div class="line">.message&#123;</div><div class="line">  border-radius: 4px;</div><div class="line">  height: 30px !important;</div><div class="line">&#125;</div><div class="line">.message:after&#123;</div><div class="line">  display: block;</div><div class="line">  content: &apos;&apos;;</div><div class="line">  position: absolute;</div><div class="line">  border-bottom: 6px solid transparent;</div><div class="line">  border-left:6px solid  #68EA58;;</div><div class="line">  bottom: -6px;</div><div class="line">  left: 20%;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>çœ‹æ•ˆæœï¼Œç‚¹å‡»<a href="http://sandbox.runjs.cn/show/5yl6lwbv" target="_blank" rel="external">è¿™é‡Œ</a></p>
<h2 id="4-æœç´¢æŒ‰é’®"><a href="#4-æœç´¢æŒ‰é’®" class="headerlink" title="4. æœç´¢æŒ‰é’®"></a>4. æœç´¢æŒ‰é’®</h2><blockquote>
<p>æœç´¢æŒ‰é’®å¯¹äºæˆ‘ä»¬æ¥è¯´åœ¨ç†Ÿæ‚‰ä¸è¿‡ï¼Œå‡ ä¹æ¶‰åŠåˆ°æœç´¢çš„åœ°æ–¹éƒ½ä¼šæœ‰ä¸€ä¸ªæœç´¢æŒ‰é’®ï¼Œç”¨æ¥æç¤ºç”¨æˆ·è¿™ä¸€å—æ˜¯ç”¨äºæœç´¢ä¿¡æ¯ç”¨çš„</p>
</blockquote>
<p><code>code</code></p>
<pre><code>

.search{
  width: 24px !important;
  height: 4px !important;
  background-color:  #68EA58;
  -webkit-transform: rotate(45deg) translateX(14px) ;
  -ms-transform: rotate(45deg) translateX(14px) ;
  -o-transform: rotate(45deg) translateX(14px) ;
  transform: rotate(45deg) translateX(14px);
}

.search:before{
  display: block;
  content: &apos;&apos;;
  width: 20px;
  height: 20px;
  border: 4px solid #68EA58;
  border-radius: 50%;
  position: absolute;
  left: -28px;
  top: 50%;
  -webkit-transform: translateY(-50%);
  -ms-transform: translateY(-50%);
  -o-transform: translateY(-50%);
  transform: translateY(-50%);
}
</code></pre>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[é¢å¯¹æ•°ç»„å»é‡ï¼Œæˆ‘ä»¬ç”¨ä»€ä¹ˆæ–¹å¼]]></title>
      <url>https://qianlongo.github.io/2016/03/26/%E9%9D%A2%E5%AF%B9%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%EF%BC%8C%E6%88%91%E4%BB%AC%E7%94%A8%E4%BB%80%E4%B9%88%E6%96%B9%E5%BC%8F/</url>
      <content type="html"><![CDATA[<p>ä¸ç®¡æ˜¯é¢è¯•è¿˜æ˜¯å¹³æ—¶å†™ç¨‹åºçš„è¿‡ç¨‹ä¸­æˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¦å¯¹<strong>æ•°ç»„è¿›è¡Œå»é‡</strong>çš„é—®é¢˜ï¼Œè¯¥æ–‡æ€»ç»“äº†ä¸€äº›å¸¸è§çš„æ•°ç»„å»é‡çš„æ–¹æ³•ã€‚</p>
<h2 id="å¯¹è±¡é”®å€¼å¯¹æ³•"><a href="#å¯¹è±¡é”®å€¼å¯¹æ³•" class="headerlink" title="å¯¹è±¡é”®å€¼å¯¹æ³•"></a>å¯¹è±¡é”®å€¼å¯¹æ³•</h2><p><strong>æ€è·¯ï¼š</strong>æ–°å»ºä¸€jså¯¹è±¡jsonä»¥åŠæ–°æ•°ç»„reArrï¼Œéå†æ•°ç»„å…ƒç´ æ˜¯å¦ä¸ºjsonçš„é”®ï¼Œä¸æ˜¯åˆ™åˆ›å»ºï¼Œæ˜¯åˆ™åˆ¤æ–­å…ƒç´ çš„ç±»å‹åœ¨é”®å¯¹åº”çš„å€¼ä¸­æ˜¯å¦å­˜åœ¨ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">    function unique(array)&#123;</div><div class="line">      var json = &#123;&#125;, reArr = [], len = array.length, val, type;</div><div class="line">        for (var i = 0; i &lt; len ; i++) &#123;</div><div class="line">            val = array[i];</div><div class="line">            type = Object.prototype.toString.call(val);</div><div class="line">            if (!json[val]) &#123;//å¦‚æœé”®å¯¹åº”çš„å€¼ä¸å­˜åœ¨åˆ™æ˜¯ç¬¬ä¸€æ¬¡å­˜å–</div><div class="line">                json[val] = [type];//è®¾ç½®è¯¥é”®ä¸ºæ•°ç»„ï¼Œå¹¶èµ‹å€¼å…ƒç´ ç±»å‹</div><div class="line">                reArr.push(val);//å¾€reArrä¸­æ·»åŠ å…ƒç´ </div><div class="line">            &#125; else if (json[val].indexOf(type) &lt; 0) &#123;</div><div class="line">                json[val].push(type);</div><div class="line">                reArr.push(val);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        return reArr;</div><div class="line">    &#125;</div><div class="line">//è¯¥æ–¹æ³•æœ‰bugï¼Œå½“æœ‰å¤šä¸ª&#123;&#125;æ—¶ï¼Œåªèƒ½ä¿å­˜ä¸€ä¸ª&#123;&#125;</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-13.png" alt="unique1æµ‹è¯•"></p>
<h2 id="éå†æ•°ç»„æ³•"><a href="#éå†æ•°ç»„æ³•" class="headerlink" title="éå†æ•°ç»„æ³•"></a>éå†æ•°ç»„æ³•</h2><p><strong>æ€è·¯ï¼š</strong>æ–°å»ºä¸€æ–°æ•°ç»„ï¼Œéå†ä¼ å…¥çš„æ•°ç»„ï¼Œå€¼ä¸åœ¨æ–°æ•°ç»„å°±åŠ å…¥è¯¥æ–°æ•°ç»„ä¸­ï¼›è¯¥æ–¹æ³•æœ€ä¸»è¦çš„æ˜¯è¦ä½¿ç”¨ES5ä¸­çš„indexOfæ–¹æ³•ã€‚ä½†æ˜¯ie8ä¸€ä¸‹ä¸æ”¯æŒï¼Œæ‰€ä»¥éœ€è¦åšä¸€äº›å…¼å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">    if (!Array.prototype.indexOf)&#123;</div><div class="line">      Array.prototype.indexOf = function(item)&#123;</div><div class="line">        if (this.length == 0)&#123;</div><div class="line">          return -1;</div><div class="line">        &#125;</div><div class="line">        for(var i = 0, len = this.length; i &lt; len; i++)&#123;</div><div class="line">          if (this[i] === item)&#123;//æ³¨æ„æ˜¯ä¸‰ä¸ªç­‰å·</div><div class="line">            return i</div><div class="line">            break;</div><div class="line">          &#125;  </div><div class="line">        &#125;</div><div class="line">        return -1;</div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>å»é‡ä»£ç </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function unique(array)&#123;</div><div class="line">  var reArr = []; </div><div class="line">  for(var i = 0; i &lt; array.length; i++)&#123;</div><div class="line">    if (reArr.indexOf(array[i]) == -1)&#123;//åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨æ•°ç»„ä¸­å·²ç»å­˜åœ¨</div><div class="line">       reArr.push(array[i]);</div><div class="line">    &#125; </div><div class="line">  &#125;</div><div class="line">  return reArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-14.png" alt="éå†æ•°ç»„æ³•æµ‹è¯•"></p>
<h2 id="æ•°ç»„ä¸‹æ ‡åˆ¤æ–­æ³•"><a href="#æ•°ç»„ä¸‹æ ‡åˆ¤æ–­æ³•" class="headerlink" title="æ•°ç»„ä¸‹æ ‡åˆ¤æ–­æ³•"></a>æ•°ç»„ä¸‹æ ‡åˆ¤æ–­æ³•</h2><p><strong>æ€è·¯ï¼š</strong>å°†ä¼ å…¥çš„æ•°ç»„çš„ç¬¬ä¸€é¡¹ç›®æ·»åŠ åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œåéå†ä¼ å…¥çš„æ•°ç»„ä¸­çš„å…ƒç´ åˆ©ç”¨indexOfæ–¹æ³•ï¼Œè‹¥è¿”å›å€¼ä¸å¾ªç¯ä¸­çš„ç´¢å¼•ä¸åŒåˆ™æ˜¯é‡å¤çš„å…ƒç´ ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">function unique(array)&#123;</div><div class="line">    var reArr=[];</div><div class="line">        reArr[0]=array[0];</div><div class="line">    for(var i=1;i&lt;array.length;i++)&#123;</div><div class="line">        if(array.indexOf(array[i])==i)&#123;</div><div class="line">            reArr.push(arrar[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return reArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-15.png" alt="éå†æ•°ç»„ä¸‹è¡¨æ³•æµ‹è¯•"></p>
<h2 id="æ’åºåç›¸é‚»å»é™¤æ³•"><a href="#æ’åºåç›¸é‚»å»é™¤æ³•" class="headerlink" title="æ’åºåç›¸é‚»å»é™¤æ³•"></a>æ’åºåç›¸é‚»å»é™¤æ³•</h2><p><strong>æ€è·¯ï¼š</strong>å…ˆå°†æ•°ç»„ç»è¿‡sortæ’åºï¼Œè¿™æ—¶å€™ç›¸åŒçš„å…ƒç´ å¤„äºç›¸é‚»çš„ä½ç½®,æ‰€ä»¥åœ¨ä¾¿åˆ©æ•°ç»„çš„æ—¶å€™æˆ‘ä»¬åªå°†ä¸å‰ä¸€å€¼ä¸é‡å¤çš„å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function unique(array)&#123;</div><div class="line">    var reArr=[array[0]];</div><div class="line">    var len=array.length;</div><div class="line">        array.sort();</div><div class="line">    for(var i=1;i&lt;len;i++)&#123;</div><div class="line">        if(array[i]!=reArr[reArr.length-1])&#123;//æ³¨æ„è¿™é‡Œ</div><div class="line">            reArr.push(array[i]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return reArr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-16.png" alt="æ’åºåç›¸é‚»å»é™¤æ³•"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å‡ ä¸ªjså¼€å‘è¿‡ç¨‹ä¸­çš„å°æŠ€å·§]]></title>
      <url>https://qianlongo.github.io/2016/03/26/%E5%87%A0%E4%B8%AAjs%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%B0%8F%E6%8A%80%E5%B7%A7/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>javascriptæ˜¯ä¸€é—¨éå¸¸çµæ´»çš„è¯­è¨€ï¼Œå®é™…çš„å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¹Ÿå¯ä»¥çµæ´»çš„ä½¿ç”¨å®ƒè€Œç»™æˆ‘ä»¬çš„å·¥ä½œå¸¦æ¥ä¾¿åˆ©ï¼Œè¿™ç¯‡æ–‡ç« è®°å½•äº†è‡ªå·±å¹³æ—¶å­¦ä¹ è¿‡ç¨‹ä¸­ç»å¸¸ç”¨åˆ°çš„ä¸€äº›å°æŠ€å·§ï¼Œæ•´ç†å‡ºæ¥ä½œä¸ºç¬”è®°ï¼Œä¹Ÿå¸Œæœ›å¯¹æ„Ÿå…´è¶£çš„åŒå­¦æœ‰æ‰€å¸®åŠ©ã€‚( æŒç»­æ›´æ–°â€¦ )</p>
</blockquote>
<h2 id="1-è·å–æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°"><a href="#1-è·å–æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°" class="headerlink" title="1 è·å–æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°"></a>1 è·å–æŒ‡å®šèŒƒå›´å†…çš„éšæœºæ•°</h2><blockquote>
<p>å½“æˆ‘ä»¬éœ€è¦è·å–æŒ‡å®šèŒƒå›´(min,max)å†…çš„æ•´æ•°çš„æ—¶å€™ï¼Œä¸‹é¢çš„ä»£ç éå¸¸é€‚åˆã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRadomNum</span>(<span class="params">min,max</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span>  <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-2.png" alt="æµ‹è¯•"></p>
<h2 id="2-éšæœºè·å–æ•°ç»„ä¸­çš„å…ƒç´ "><a href="#2-éšæœºè·å–æ•°ç»„ä¸­çš„å…ƒç´ " class="headerlink" title="2 éšæœºè·å–æ•°ç»„ä¸­çš„å…ƒç´ "></a>2 éšæœºè·å–æ•°ç»„ä¸­çš„å…ƒç´ </h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRadomFromArr</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> arr[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random()*arr.length)];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-3.png" alt="æµ‹è¯•"></p>
<h2 id="3-ç”Ÿæˆä»0åˆ°æŒ‡å®šå€¼çš„æ•°å­—æ•°ç»„"><a href="#3-ç”Ÿæˆä»0åˆ°æŒ‡å®šå€¼çš„æ•°å­—æ•°ç»„" class="headerlink" title="3 ç”Ÿæˆä»0åˆ°æŒ‡å®šå€¼çš„æ•°å­—æ•°ç»„"></a>3 ç”Ÿæˆä»0åˆ°æŒ‡å®šå€¼çš„æ•°å­—æ•°ç»„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[],length=<span class="number">100</span>,i=<span class="number">1</span>;</div><div class="line"><span class="keyword">for</span>(;arr.push(i++)&lt;length;)&#123;&#125;</div><div class="line"><span class="built_in">console</span>.log(arr)</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-4.png" alt="æµ‹è¯•"></p>
<h2 id="4-æ‰“ä¹±æ•°å­—æ•°ç»„çš„é¡ºåº"><a href="#4-æ‰“ä¹±æ•°å­—æ•°ç»„çš„é¡ºåº" class="headerlink" title="4 æ‰“ä¹±æ•°å­—æ•°ç»„çš„é¡ºåº"></a>4 æ‰“ä¹±æ•°å­—æ•°ç»„çš„é¡ºåº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="string">'a'</span>,<span class="string">'dsfs'</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="string">'v'</span>];</div><div class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">Math</span>.random()<span class="number">-0.5</span>&#125;);</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-5.png" alt="æµ‹è¯•"></p>
<h2 id="5-å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„"><a href="#5-å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„" class="headerlink" title="5 å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„"></a>5 å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ³¨æ„å¯¹è±¡å¿…é¡»æ˜¯ä»¥ä¸‹æ ¼å¼çš„æ‰å¯ä»¥é€šè¿‡æ­¤æ–¹å¼è½¬åŒ–ä¸ºæ•°ç»„</span></div><div class="line"><span class="comment">//è·å–çš„DOMé›†åˆï¼Œä»¥åŠå‡½æ•°çš„argumentsä¹Ÿå¯ä»¥é€šè¿‡æ­¤æ–¹å¼è½¬åŒ–ä¸ºæ•°ç»„</span></div><div class="line"><span class="keyword">var</span> obj=&#123;</div><div class="line">	<span class="number">0</span>:<span class="string">'qian'</span>,</div><div class="line">	<span class="number">1</span>:<span class="string">'long'</span>,</div><div class="line">	<span class="number">2</span>:<span class="string">'chu'</span>,</div><div class="line">	<span class="number">3</span>:<span class="string">'tian'</span>,</div><div class="line">	<span class="attr">length</span>:<span class="number">4</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> _slice=[].slice;</div><div class="line"><span class="keyword">var</span> objArr=_slice.call(obj);</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-6.png" alt="å›¾ç‰‡æè¿°"></p>
<h2 id="6-éªŒè¯æ˜¯å¦ä¸ºæ•°ç»„"><a href="#6-éªŒè¯æ˜¯å¦ä¸ºæ•°ç»„" class="headerlink" title="6 éªŒè¯æ˜¯å¦ä¸ºæ•°ç»„"></a>6 éªŒè¯æ˜¯å¦ä¸ºæ•°ç»„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span>  <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span> ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong></p>
<p><img src="/img/2016-03-26-7.png" alt="å›¾ç‰‡æè¿°"></p>
<h2 id="7-è·å–æ•°ç»„ä¸­æœ€å¤§æˆ–è€…æœ€å°å€¼"><a href="#7-è·å–æ•°ç»„ä¸­æœ€å¤§æˆ–è€…æœ€å°å€¼" class="headerlink" title="7 è·å–æ•°ç»„ä¸­æœ€å¤§æˆ–è€…æœ€å°å€¼"></a>7 è·å–æ•°ç»„ä¸­æœ€å¤§æˆ–è€…æœ€å°å€¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxAndMin</span>(<span class="params">arr</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">   <span class="attr">max</span>:<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr.join(<span class="string">','</span>).split(<span class="string">','</span>)),</div><div class="line">   <span class="attr">min</span>:<span class="built_in">Math</span>.min.apply(<span class="literal">null</span>,arr.join(<span class="string">','</span>).split(<span class="string">','</span>))</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>è¯¥æ–¹æ³•é€‚åˆä¸€ç»´æˆ–è€…å¤šç»´æ•°ç»„æ±‚æœ€å¤§æœ€å°å€¼çš„æƒ…å†µ</strong></p>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-8.png" alt="å›¾ç‰‡æè¿°"></p>
<h2 id="8-æ¸…ç©ºæ•°ç»„"><a href="#8-æ¸…ç©ºæ•°ç»„" class="headerlink" title="8 æ¸…ç©ºæ•°ç»„"></a>8 æ¸…ç©ºæ•°ç»„</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//æ–¹å¼ä¸€ é€šè¿‡å°†é•¿åº¦è®¾ç½®ä¸º0</span></div><div class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line">arr.length=<span class="number">0</span>;</div><div class="line"></div><div class="line"><span class="comment">//æ–¹å¼äºŒ é€šè¿‡spliceæ–¹æ³•</span></div><div class="line"> <span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line">arr.splice(<span class="number">0</span>,arr.length);</div><div class="line"></div><div class="line"><span class="comment">//æ–¹å¼ä¸‰ é€šè¿‡å°†ç©ºæ•°ç»„ [] èµ‹å€¼ç»™æ•°ç»„(ä¸¥æ ¼æ„ä¹‰æ¥è¯´è¿™åªæ˜¯å°†aryé‡æ–°èµ‹å€¼ä¸ºç©ºæ•°ç»„ï¼Œä¹‹å‰çš„æ•°ç»„å¦‚æœæ²¡æœ‰å¼•ç”¨åœ¨æŒ‡å‘å®ƒå°†ç­‰å¾…åƒåœ¾å›æ”¶ã€‚)</span></div><div class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line">arr=[];</div></pre></td></tr></table></figure>
<h2 id="9-ä¿ç•™æŒ‡å®šå°æ•°ä½"><a href="#9-ä¿ç•™æŒ‡å®šå°æ•°ä½" class="headerlink" title="9 ä¿ç•™æŒ‡å®šå°æ•°ä½"></a>9 ä¿ç•™æŒ‡å®šå°æ•°ä½</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num =<span class="number">4.345678</span>;</div><div class="line">num = num.toFixed(<span class="number">4</span>);  <span class="comment">// 4.3457 ç¬¬å››ä½å°æ•°ä½ä»¥å››èˆäº”å…¥è®¡ç®—</span></div></pre></td></tr></table></figure>
<h2 id="10-ä¸è¦ç›´æ¥ä½¿ç”¨deleteæ¥åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ "><a href="#10-ä¸è¦ç›´æ¥ä½¿ç”¨deleteæ¥åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ " class="headerlink" title="10 ä¸è¦ç›´æ¥ä½¿ç”¨deleteæ¥åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ "></a>10 ä¸è¦ç›´æ¥ä½¿ç”¨deleteæ¥åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ </h2><blockquote>
<p>æ•°ç»„åœ¨jsä¸­ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šé€šè¿‡deleteæ¥åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ ï¼Œä½†æ˜¯å…¶å®ä»…ä»…æ˜¯å°†æ•°ç»„çš„å…ƒç´ çš„å€¼èµ‹å€¼ä¸ºäº†undefinedã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">'è°¦é¾™'</span>,<span class="string">'é›ç”°'</span>];</div><div class="line">    <span class="keyword">delete</span> arr[<span class="number">5</span>];</div><div class="line">    <span class="built_in">console</span>.log(arr,arr[<span class="number">5</span>],arr.length);</div></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>æµ‹è¯•</strong></p>
<p><img src="/img/2016-03-26-9.png" alt="å›¾ç‰‡æè¿°"></p>
<p><strong>å¯ä»¥é€šè¿‡spliceæ¥åˆ é™¤æ•°ç»„ä¸­çš„æŸä¸€é¡¹</strong><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="string">'è°¦é¾™'</span>,<span class="string">'é›ç”°'</span>];</div><div class="line">    arr.splice(<span class="number">5</span>,<span class="number">1</span>);</div><div class="line">    <span class="built_in">console</span>.log(arr,arr[<span class="number">5</span>],arr.length);</div></pre></td></tr></table></figure></p>
<p><strong>æµ‹è¯•</strong></p>
<p><img src="/img/2016-03-26-10.png" alt="å›¾ç‰‡æè¿°"></p>
<h2 id="11-ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—æ¯æ•°å­—å­—ç¬¦ä¸²"><a href="#11-ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—æ¯æ•°å­—å­—ç¬¦ä¸²" class="headerlink" title="11 ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—æ¯æ•°å­—å­—ç¬¦ä¸²"></a>11 ç”ŸæˆæŒ‡å®šé•¿åº¦çš„éšæœºå­—æ¯æ•°å­—å­—ç¬¦ä¸²</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomStr</span>(<span class="params">len</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>( ; str.length &lt; len; str  += <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).substr(<span class="number">2</span>));</div><div class="line">    <span class="keyword">return</span>  str.substr(<span class="number">0</span>, len);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•</strong><br><img src="/img/2016-03-26-11.png" alt="å›¾ç‰‡æè¿°"></p>
<h2 id="12-null-ä¸-undefined"><a href="#12-null-ä¸-undefined" class="headerlink" title="12 null ä¸ undefined"></a>12 null ä¸ undefined</h2><blockquote>
<p>null == undefined,null == null è¿”å›true,æœ‰æ—¶å€™æˆ‘ä»¬ä¸ºäº†æ’é™¤null å’Œ undefinedå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä»£ç </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(obj!=<span class="literal">null</span>)&#123;<span class="comment">// objé™¤äº†undefined å’Œ null ä¹‹å¤–éƒ½ä¼šèµ°è¿™é‡Œ</span></div><div class="line">        ....è¿™é‡Œå†™ä»£ç é€»è¾‘</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="13-æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€çš„å…ƒç´ ï¼Œå¹¶ç»™å‡ºå…¶å‡ºç°è¿‡çš„ä½ç½®"><a href="#13-æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€çš„å…ƒç´ ï¼Œå¹¶ç»™å‡ºå…¶å‡ºç°è¿‡çš„ä½ç½®" class="headerlink" title="13 æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€çš„å…ƒç´ ï¼Œå¹¶ç»™å‡ºå…¶å‡ºç°è¿‡çš„ä½ç½®"></a>13 æ‰¾å‡ºæ•°ç»„ä¸­å‡ºç°æ¬¡æ•°æœ€çš„å…ƒç´ ï¼Œå¹¶ç»™å‡ºå…¶å‡ºç°è¿‡çš„ä½ç½®</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMaxAndIndex</span>(<span class="params"> arr </span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> obj = &#123;&#125;;</div><div class="line">        arr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">item,index</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(!obj[item])&#123;</div><div class="line">                obj[item]= &#123;<span class="attr">indexs</span>: [index]&#125;</div><div class="line">            &#125;<span class="keyword">else</span>&#123;</div><div class="line">                obj[item][<span class="string">'indexs'</span>].push(index);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        <span class="keyword">var</span> num=<span class="number">0</span>;<span class="comment">//è®°å½•å‡ºç°æ¬¡æ•°æœ€å¤§å€¼</span></div><div class="line">        <span class="keyword">var</span> str=<span class="string">''</span>;<span class="comment">//è®°å½•å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦</span></div><div class="line">        <span class="keyword">var</span> reArr;<span class="comment">//è¿”å›æœ€å¤§å€¼çš„ä½ç½®æ•°ç»„</span></div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> attr <span class="keyword">in</span> obj)&#123;</div><div class="line">            <span class="keyword">var</span> temp=obj[attr][<span class="string">'indexs'</span>];</div><div class="line">            <span class="keyword">if</span>(temp.length&gt;num)&#123;</div><div class="line">                num=temp.length;</div><div class="line">                str=attr;</div><div class="line">                reArr=temp;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">maxStr</span>:str,</div><div class="line">            <span class="attr">indexs</span>:reArr</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><strong>æµ‹è¯•ç»“æœ</strong><br><img src="/img/2016-03-26-12.png" alt="å›¾ç‰‡æè¿°"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jQueryä¸­$()å‡½æ•°çš„7ç§ç”¨æ³•æ±‡æ€»]]></title>
      <url>https://qianlongo.github.io/2016/03/26/jQuery%E4%B8%AD-%E5%87%BD%E6%95%B0%E7%9A%847%E7%A7%8D%E7%94%A8%E6%B3%95%E6%B1%87%E6%80%BB/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>jQueryå¯¹è±¡æ˜¯ä¸€ä¸ª<strong>ç±»æ•°ç»„</strong>çš„å¯¹è±¡ï¼Œå«æœ‰è¿ç»­çš„æ•´å½¢å±æ€§ä»¥åŠä¸€ç³»åˆ—çš„jQueryæ–¹æ³•ã€‚å®ƒæŠŠæ‰€æœ‰çš„æ“ä½œéƒ½åŒ…è£…åœ¨ä¸€ä¸ªjQuery()å‡½æ•°ä¸­ï¼Œå½¢æˆäº†ç»Ÿä¸€(ä¹Ÿæ˜¯æƒŸä¸€)çš„æ“ä½œå…¥å£ã€‚<br>å…¶ä¸­æˆ‘ä»¬ç”¨çš„éå¸¸é¢‘ç¹çš„ä¸€ä¸ªå‡½æ•°æ˜¯$()æˆ–è€…è¯´æ˜¯jQuery()ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ä»–çš„æ—¶å€™ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°çš„ä¸åŒè€Œè¾¾åˆ°ä¸åŒçš„æ•ˆæœã€‚</p>
</blockquote>
<p>æ¥ä¸‹æ¥ä¼šä¸€ä¸€è¯´ä¸€ä¸‹è¿™7ä¸­ç”¨æ³•ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£å…¶ä¸­ä¸æ­£ç¡®çš„åœ°æ–¹ã€‚</p>
<a id="more"></a>
<h2 id="1-jQuery-selector-context"><a href="#1-jQuery-selector-context" class="headerlink" title="1 jQuery(selector,context)"></a>1 jQuery(selector,context)</h2><blockquote>
<p>ç®€è¦çš„è¯´æ˜¯ï¼šæ¥æ”¶ä¸€ä¸ªcssé€‰æ‹©å™¨è¡¨è¾¾å¼(selector)å’Œå¯é€‰çš„é€‰æ‹©å™¨ä¸Šä¸‹æ–‡(context),è¿”å›ä¸€ä¸ªåŒ…å«äº†åŒ¹é…çš„DOMå…ƒç´ çš„jQueryå¯¹è±¡ã€‚</p>
</blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹åŒ¹é…å…ƒç´ çš„æŸ¥æ‰¾éƒ½æ˜¯ä»<strong>æ ¹å…ƒç´ ducumentå¯¹è±¡</strong>å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾èŒƒå›´æ˜¯æ•´æ£µæ–‡æ¡£æ ‘ã€‚ä½†æ˜¯å¦‚æœç»™å®šäº†ä¸Šä¸‹æ–‡contextï¼Œåˆ™åœ¨æŒ‡å®šä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾</p>
<p><strong>html</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;span&gt;body span&lt;/span&gt;</div><div class="line">&lt;span&gt;body span&lt;/span&gt;</div><div class="line">&lt;span&gt;body span&lt;/span&gt;</div><div class="line">&lt;div class=&quot;wrap&quot;&gt;</div><div class="line">    &lt;span&gt;wrap span&lt;/span&gt;</div><div class="line">    &lt;span&gt;wrap span&lt;/span&gt;</div><div class="line">    &lt;span&gt;wrap span&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure></p>
<p><strong>js</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(&apos;span&apos;).css(&apos;background-color&apos;,&apos;red&apos;);//æ‰€æœ‰çš„spanéƒ½ä¼šå˜çº¢</div><div class="line">$(&apos;span&apos;,&apos;.wrap&apos;).css(&apos;background-color&apos;,&apos;red&apos;);//åªæœ‰.wrapä¸­çš„spanä¼šå˜çº¢</div></pre></td></tr></table></figure></p>
<h2 id="2-jQuery-html-ownerDocument-ã€jQuery-html-props"><a href="#2-jQuery-html-ownerDocument-ã€jQuery-html-props" class="headerlink" title="2 jQuery(html,ownerDocument) ã€jQuery(html,props)"></a>2 jQuery(html,ownerDocument) ã€jQuery(html,props)</h2><blockquote>
<p>ç”¨æ‰€æä¾›çš„htmlä»£ç åˆ›å»ºDOMå…ƒç´ <br>å¯¹äºjQuery(html,ownerDocument)ï¼Œå‚æ•°htmlå¯ä»¥æ˜¯å•æ ‡ç­¾æˆ–è€…æ˜¯å¤šå±‚æ ‡ç­¾ä¹‹é—´çš„åµŒå¥—ã€‚ç¬¬äºŒä¸ªå‚æ•°ç”¨äºåˆ›å»ºæ–°DOMå…ƒç´ çš„<strong>æ–‡æ¡£å¯¹è±¡</strong>ï¼Œå¦‚æœä¸ä¼ å…¥åˆ™é»˜è®¤ä¸ºå½“å‰çš„æ–‡æ¡£å¯¹è±¡ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//å•æ ‡ç­¾  ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å¾€bodyä¸­æ’å…¥div</div><div class="line">/*</div><div class="line"> *   1  $(&apos;&lt;div&gt;&apos;).appendTo(&apos;body&apos;);</div><div class="line"> *   2  $(&apos;&lt;div&gt;&lt;/div&gt;&apos;).appendTo(&apos;body&apos;);</div><div class="line"> */</div><div class="line">// å¤šæ ‡ç­¾åµŒå¥—</div><div class="line"> $(&apos;&lt;div&gt;&lt;span&gt;dfsg&lt;/span&gt;&lt;/div&gt;&apos;).appendTo(&apos;body&apos;);</div></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>å¦å¤–:</strong>å¯¹äºå•æ ‡ç­¾ï¼ŒjQuery(html,props)ï¼Œpropsæ˜¯ä¸€ä¸ªåŒ…å«å±æ€§å’Œäº‹ä»¶çš„æ™®é€šçš„å¯¹è±¡ï¼Œç”¨æ³•å¦‚ä¸‹ã€‚(<strong>è¯¥ç”¨æ³•æœ‰å¾…è€ƒè¯ï¼Œè¯·çŸ¥é“è¿™ä¸€ç”¨æ³•çš„ç«¥é‹å‘ŠçŸ¥ä¸€ä¸‹ï¼Œæ„Ÿæ¿€ä¸å°½</strong>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$(&apos;&lt;div&gt;æˆ‘æ˜¯div&lt;/div&gt;&apos;,&#123;</div><div class="line">    title:&apos;æˆ‘æ˜¯æ–°çš„div&apos;,</div><div class="line">    click:function()&#123;</div><div class="line">        $(this).css(&apos;color&apos;,&apos;red&apos;);</div><div class="line">        console.log(this);</div><div class="line">    &#125;</div><div class="line">&#125;).appendTo(&apos;body&apos;);</div></pre></td></tr></table></figure>
<h2 id="3-jQuery-element-or-elementsArray"><a href="#3-jQuery-element-or-elementsArray" class="headerlink" title="3 jQuery(element or elementsArray)"></a>3 jQuery(element or elementsArray)</h2><blockquote>
<p>å¦‚æœä¼ å…¥ä¸€ä¸ªDOMå…ƒç´ æˆ–è€…æ˜¯DOMå…ƒç´ çš„æ•°ç»„ï¼Œåˆ™æŠŠDOMå…ƒç´ å°è£…åˆ°jQueryå¯¹è±¡ä¸­å¹¶è¿”å›ã€‚<br><strong>html</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;1&lt;/li&gt;</div><div class="line">    &lt;li&gt;2&lt;/li&gt;</div><div class="line">    &lt;li&gt;3&lt;/li&gt;</div><div class="line">    &lt;li&gt;4&lt;/li&gt;</div><div class="line">    &lt;li&gt;5&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div></pre></td></tr></table></figure></p>
</blockquote>
<p><strong>js</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"> // ä¼ å…¥DOMå…ƒç´ </div><div class="line"> $(&apos;li&apos;).each(function(index,ele)&#123;</div><div class="line">        $(ele).on(&apos;click&apos;,function()&#123;</div><div class="line">            $(this).css(&apos;background&apos;,&apos;red&apos;);//è¿™é‡Œçš„DOMå…ƒç´ å°±æ˜¯this</div><div class="line">        &#125;)</div><div class="line">&#125;)</div><div class="line"></div><div class="line">//ä¼ å…¥DOMæ•°ç»„</div><div class="line">var aLi=document.getElementsByTagName(&apos;li&apos;);</div><div class="line">    aLi=[].slice.call(aLi);//é›†åˆè½¬æ•°ç»„</div><div class="line">    var $aLi=$(aLi);</div><div class="line">    $aLi.html(&apos;æˆ‘æ˜¯jQueryå¯¹è±¡&apos;);//æ‰€æœ‰çš„liçš„å†…å®¹éƒ½å˜æˆ&apos;æˆ‘æ˜¯jQueryå¯¹è±¡&apos;</div></pre></td></tr></table></figure></p>
<h2 id="4-jQuery-object"><a href="#4-jQuery-object" class="headerlink" title="4 jQuery(object)"></a>4 jQuery(object)</h2><blockquote>
<p>å¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªobjectå¯¹è±¡ï¼Œåˆ™æŠŠè¯¥å¯¹è±¡å°è£…åˆ°jQueryå¯¹è±¡ä¸­å¹¶è¿”å›ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var obj=&#123;name:&apos;è°¦é¾™&apos;&#125;;</div><div class="line">var $obj=$(obj);//å°è£…æˆjQueryå¯¹è±¡</div><div class="line">//ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶</div><div class="line">$obj.on(&apos;say&apos;,function()&#123;</div><div class="line">    console.log(this.name)//è¾“å‡ºè°¦é¾™</div><div class="line">&#125;);</div><div class="line">$obj.trigger(&apos;say&apos;);</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="5-jQuery-callback"><a href="#5-jQuery-callback" class="headerlink" title="5 jQuery(callback)"></a>5 jQuery(callback)</h2><blockquote>
<p>å½“ä¼ è¿›å»çš„å‚æ•°æ˜¯å‡½æ•°çš„æ—¶å€™ï¼Œåˆ™åœ¨documentå¯¹è±¡ä¸Šç»‘å®šä¸€ä¸ªreadyäº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå½“DOMç»“æ„åŠ è½½å®Œæˆçš„æ—¶å€™æ‰§è¡Œ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$(function()&#123;</div><div class="line"></div><div class="line">&#125;)</div><div class="line">//ä»¥ä¸Šä»£ç å’Œä¸‹é¢çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</div><div class="line">$(document).ready(function()&#123;</div><div class="line">    ...//ä»£ç </div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="6-jQuery-jQuery-object"><a href="#6-jQuery-jQuery-object" class="headerlink" title="6 jQuery(jQuery object)"></a>6 jQuery(jQuery object)</h2><blockquote>
<p>å½“ä¼ è¿›å»çš„å‚æ•°æ˜¯ä¸€ä¸ªjQueryå¯¹è±¡çš„æ—¶å€™ï¼Œåˆ™åˆ›å»ºè¯¥jQueryå¯¹è±¡çš„ä¸€ä¸ªå‰¯æœ¬å¹¶è¿”å›ã€‚å‰¯æœ¬ä¸ä¼ å…¥çš„jQueryå¯¹è±¡å¼•ç”¨å®Œå…¨ç›¸åŒçš„å…ƒç´ </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var aLi=$(&apos;li&apos;);</div><div class="line">var copyLi=$(aLi);//åˆ›å»ºä¸€ä¸ªaLiçš„å‰¯æœ¬</div><div class="line">console.log(aLi);</div><div class="line">console.log(copyLi);</div><div class="line">console.log(copyLi===aLi);</div></pre></td></tr></table></figure>
<p><img src="/img/2016-03-26-1.png" alt="jQuery"></p>
<h2 id="7-jQuery"><a href="#7-jQuery" class="headerlink" title="7 jQuery()"></a>7 jQuery()</h2><blockquote>
<p>å¦‚æœä¸ä¼ å…¥ä»»ä½•çš„å‚æ•°ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºçš„jQueryå¯¹è±¡ï¼Œå±æ€§lengthä¸º0<br>æ³¨æ„è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥å¤ç”¨jQueryå¯¹è±¡ï¼Œä¾‹å¦‚å¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„jQueryå¯¹è±¡ï¼Œç„¶ååœ¨éœ€è¦çš„æ—¶å€™å…ˆæ‰‹åŠ¨ä¿®æ”¹å…¶ä¸­çš„å…ƒç´ ï¼Œç„¶ååœ¨è°ƒç”¨jQueryæ–¹æ³•ã€‚ä»è€Œé¿å…é‡å¤åˆ›å»ºjQueryå¯¹è±¡ã€‚</p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[tip ç§»åŠ¨ç«¯å­å…ƒç´ scrollï¼Œçˆ¶å…ƒç´ ä¸è·Ÿéšæ»šåŠ¨jså®ç°]]></title>
      <url>https://qianlongo.github.io/2016/03/24/tip-%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%AD%90%E5%85%83%E7%B4%A0scroll%EF%BC%8C%E7%88%B6%E5%85%83%E7%B4%A0%E4%B8%8D%E8%B7%9F%E9%9A%8F%E6%BB%9A%E5%8A%A8js%E5%AE%9E%E7%8E%B0/</url>
      <content type="html"></content>
    </entry>
    
    <entry>
      <title><![CDATA[ç”¨cssç¾åŒ–ä½ çš„æµè§ˆå™¨æ»šåŠ¨æ¡]]></title>
      <url>https://qianlongo.github.io/2016/03/22/%E7%94%A8css%E7%BE%8E%E5%8C%96%E4%BD%A0%E7%9A%84%E6%B5%8F%E8%A7%88%E5%99%A8%E6%BB%9A%E5%8A%A8%E6%9D%A1/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>æ€»æ‰€å‘¨çŸ¥ï¼Œå„å¤§æµè§ˆå™¨è‡ªå¸¦çš„æ»šåŠ¨æ¡æ ·å¼åœ¨pcç«¯æ¯”è¾ƒå•è°ƒæ— è¶£ï¼Œçˆ±ç¾çš„ç«¥é‹ä¹Ÿè®¸ä¸ä¼šå–œæ¬¢è¿™æ ·çš„é»˜è®¤è®¾ç½®ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è®©æˆ‘ä»¬éšå¿ƒæ‰€æ¬²çš„å®šåˆ¶å±äºè‡ªå·±çš„æ»šåŠ¨æ¡æ ·å¼å‘¢ï¼Ÿå¥½æ¶ˆæ¯æ˜¯<strong>æœ‰åŠæ³•æ»´</strong>ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªåæ¶ˆæ¯ï¼Œé‚£å°±æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå‡ ä¹åªæœ‰webkitå†…æ ¸çš„æµè§ˆå™¨æ”¯æŒå®šåˆ¶æ»šåŠ¨æ¡ï¼Œå…¶ä»–æµè§ˆå™¨è¦ä¹ˆå®Œå…¨ä¸æ”¯æŒè‡ªå®šä¹‰ï¼Œè¦ä¹ˆå°±æ˜¯åªæ”¯æŒè‡ªå®šä¹‰éƒ¨åˆ†æ»šåŠ¨æ¡å±æ€§ï¼Œæ‰€ä»¥æœ¬æ–‡æš‚æ—¶åªè°ˆæ€ä¹ˆåœ¨webkitå†…æ ¸æµè§ˆå™¨ä¸­ä¿®æ”¹æ»šåŠ¨æ¡</p>
</blockquote>
<a id="more"></a>
<h2 id="æ»šåŠ¨æ¡æ„é€ åˆä½“éªŒ"><a href="#æ»šåŠ¨æ¡æ„é€ åˆä½“éªŒ" class="headerlink" title="æ»šåŠ¨æ¡æ„é€ åˆä½“éªŒ"></a>æ»šåŠ¨æ¡æ„é€ åˆä½“éªŒ</h2><p>é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ»šåŠ¨æ¡å¤§è‡´ç”±å“ªäº›éƒ¨åˆ†ç»„æˆï¼Œç•™å›¾ä¸ç•™ç§ï¼ŒèŠèŠ±ä¸‡äººæ…ï¼Œä¸€å›¾èƒœåƒè¨€ï¼Œè¯·çœ‹ä¸‹å›¾ã€‚</p>
<p><img src="/img/2016-03-22-1.png" alt="å›°"></p>
<p><strong>æ„é€ è¯´æ˜</strong></p>
<ol>
<li>::-webkit-scrollbar        æ»šåŠ¨æ¡æ•´ä½“éƒ¨åˆ†ï¼Œå…¶ä¸­çš„å±æ€§æœ‰width,height,background,borderï¼ˆå°±å’Œä¸€ä¸ªå—çº§å…ƒç´ ä¸€æ ·ï¼‰ç­‰ã€‚</li>
<li>::-webkit-scrollbar-button      æ»šåŠ¨æ¡ä¸¤ç«¯çš„æŒ‰é’®ã€‚å¯ä»¥ç”¨display:noneè®©å…¶ä¸æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥æ·»åŠ èƒŒæ™¯å›¾ç‰‡ï¼Œé¢œè‰²æ”¹å˜æ˜¾ç¤ºæ•ˆæœã€‚</li>
<li>::-webkit-scrollbar-track         å¤–å±‚è½¨é“ã€‚å¯ä»¥ç”¨display:noneè®©å…¶ä¸æ˜¾ç¤ºï¼Œä¹Ÿå¯ä»¥æ·»åŠ èƒŒæ™¯å›¾ç‰‡ï¼Œé¢œè‰²æ”¹å˜æ˜¾ç¤ºæ•ˆæœã€‚</li>
<li>::-webkit-scrollbar-track-piece        å†…å±‚è½¨é“ï¼Œæ»šåŠ¨æ¡ä¸­é—´éƒ¨åˆ†ï¼ˆé™¤å»ï¼‰ã€‚</li>
<li>::-webkit-scrollbar-thumb               æ»šåŠ¨æ¡é‡Œé¢å¯ä»¥æ‹–åŠ¨çš„é‚£éƒ¨åˆ†</li>
<li>::-webkit-scrollbar-corner               è¾¹è§’</li>
<li>::-webkit-resizer                       å®šä¹‰å³ä¸‹è§’æ‹–åŠ¨å—çš„æ ·å¼</li>
</ol>
<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><blockquote>
<p>æˆ‘ä»¬è¿ç”¨ä¸Šé¢çš„ä¼ªç±»æ¥ä¿®æ”¹webkitå†…æ ¸çš„æ»šåŠ¨æ¡ï¼Œå¯ä»¥å…ˆé¢„è§ˆä¸€ä¸‹ä¸€ä¸ªç®€å•çš„demo</p>
</blockquote>
<p><a href="http://runjs.cn/detail/esdf8ncr" target="_blank" rel="external">ç‚¹å‡»é¢„è§ˆ</a></p>
<p><strong>å¼€å§‹åˆ†æ</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;div class=&quot;box&quot;&gt;</div><div class="line">  &lt;div class=&quot;inner&quot;&gt;</div><div class="line">    æˆ‘æ˜¯é»˜è®¤çš„æ»šåŠ¨æ¡</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;div class=&quot;box demo&quot;&gt;</div><div class="line">  &lt;div class=&quot;inner&quot;&gt;</div><div class="line">    æˆ‘æ˜¯è‡ªå®šä¹‰çš„æ»šåŠ¨æ¡</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p><strong>html</strong>çš„ç»“æ„éå¸¸ç®€å•ï¼Œå°±æ˜¯ä¸ºäº†æ¼”ç¤ºä¾‹å­å‡†å¤‡çš„ä¸¤ä¸ªdivæ»šåŠ¨å®¹å™¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">.box&#123;</div><div class="line">  width: 400px;</div><div class="line">  height: 400px;</div><div class="line">  border: solid 1px green;</div><div class="line">  float: left;</div><div class="line">  margin-right: 30px;</div><div class="line">  overflow: scroll;</div><div class="line">&#125;</div><div class="line"></div><div class="line">.inner&#123;</div><div class="line">  height: 700px;</div><div class="line">  width: 700px;</div><div class="line">  font: 40px/400px &quot;å¾®è½¯é›…é»‘&quot;;</div><div class="line">  text-align: center;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*æ»šåŠ¨æ¡æ•´ä½“éƒ¨åˆ†*/</div><div class="line">.demo::-webkit-scrollbar&#123;</div><div class="line">  width: 7px;</div><div class="line">  height: 7px;</div><div class="line">  border-radius: 4px;</div><div class="line">  background-color: #f0f0f0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*æ»šåŠ¨æ¡ä¸¤ç«¯çš„ç®­å¤´*/</div><div class="line">.demo::-webkit-scrollbar-button&#123;</div><div class="line">  display: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*ç»æµ‹è¯•å¥½åƒå¹¶ä¸èƒ½æ§åˆ¶ä»€ä¹ˆ*/</div><div class="line">.demo::-webkit-scroll-track&#123;</div><div class="line">  display: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*æ»šåŠ¨æ¡å†…ä¾§éƒ¨åˆ† å»æ‰*/</div><div class="line">.demo::-webkit-scrollbar-track-piece &#123;</div><div class="line">  display: none;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*æ»šåŠ¨æ¡ä¸­å¯ä»¥æ‹–åŠ¨çš„é‚£éƒ¨åˆ†*/</div><div class="line">.demo::-webkit-scrollbar-thumb&#123;</div><div class="line">  background-color: green;</div><div class="line">  border-radius: 4px;</div><div class="line">&#125;</div><div class="line">/*å˜è§’éƒ¨åˆ†*/</div><div class="line">.demo::-webkit-scrollbar-corner &#123;</div><div class="line">  display: none;</div><div class="line">&#125;</div><div class="line">.demo::-webkit-resizer&#123;</div><div class="line">  display: none;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>æœ€åå¾—åˆ°æ•ˆæœå¦‚ä¸‹å›¾</strong>  å›¾ä¸‘è«æ€ª</p>
<p><img src="/img/2016-03-22-2.png" alt="å›°"></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><blockquote>
<p>è™½ç„¶webkitå†…æ ¸æµè§ˆå™¨å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ï¼Œä½†æ˜¯è¿™æ˜¯ä¸å…¼å®¹çš„ï¼Œå…¶ä»–æµè§ˆå™¨ä¸‹è¯¥æ˜¯ä»€ä¹ˆæ ·å­å°±æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ‰€ä»¥æƒ³è¦æ»šåŠ¨æ¡ä¸€è‡´æ€§ä½“éªŒï¼Œè¿˜æ˜¯ç”¨<strong>å…ƒç´ æ¨¡æ‹Ÿ</strong>çš„å½¢å¼æŠŠï¼Œè€Œä¸”ç”¨cssè‡ªå®šä¹‰æ ·å¼çš„æƒ…å†µä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯ä¼š<strong>è¦†ç›–ç§»åŠ¨ç«¯ä¸‹æ»šåŠ¨æ¡æ ·å¼</strong></p>
</blockquote>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[hexoåšå®¢æ­å»ºæ€»ç»“]]></title>
      <url>https://qianlongo.github.io/2016/03/06/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>ä¸€ç›´æƒ³æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±ç‹¬ç«‹çš„åšå®¢ï¼Œåœ¨é‚£é‡Œå†™è‡ªå·±çš„ç”Ÿæ´»ã€æ„Ÿæ‚Ÿã€å­¦ä¹ ç§¯ç´¯å’Œè‡ªå·±çš„å¿ƒäº‹â€¦ä»Šå¤©ç»ˆäºæ„¿æœ›æˆçœŸäº†ï¼Œåšå®¢åˆæ­¥æ­å»ºæˆå‹ï¼Œè€Œæˆ‘ä¹Ÿå›°æˆç‹—äº†ã€‚</p>
</blockquote>
<p><img src="/img/sleep.gif" alt="å›°"></p>
<a id="more"></a>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å®ä¹ æœˆæ€»ç»“]]></title>
      <url>https://qianlongo.github.io/2016/03/05/%E5%AE%9E%E4%B9%A0%E6%9C%88%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>æ—¶é—´ä¼¼æµæ°´èˆ¬æ½ºæ½ºè€Œè¿‡ï¼Œä¸ç»æ„ä¾¿ä»æŒ‡å°–æºœèµ°ï¼Œäºç¬”å°–åˆ’è¿‡ã€‚æ‚„ç„¶æ— å£°ï¼Œå´è¿¹ç—•èˆ¬èˆ¬ã€‚æŠ•æ±Ÿè‡³ä»Šè¶³æœˆæœ‰ä½™ï¼Œæç„¶æ°ä¼¼æ˜¨æ—¥ï¼Œæ¢¦é†’çŠ¹å¦‚åˆè§ã€‚å¸­åœ°è€Œåï¼Œæ‰€æ€ï¼Ÿæ‰€è·ï¼Ÿä½•ä¸ºï¼Ÿâ€¦</p>
</blockquote>
<h2 id="å°è±¡"><a href="#å°è±¡" class="headerlink" title="å°è±¡"></a>å°è±¡</h2><blockquote>
<p>æŠ•æ±Ÿè¿‘ä¸€ä¸ªæœˆï¼Œåˆ‡èº«ä½“ä¼šè¿™é‡Œçš„äººã€äº‹ã€æ™¯ã€ç‰©ã€‚30å¤šä¸ªå°ä¼™ä¼´ç»„æˆäº†å’Œç¦æœ‰çˆ±çš„å‰ç«¯å¤§å®¶åº­ï¼Œä»–ä»¬èº«æ€€è¿‡ç¡¬çš„æŠ€æœ¯ä¸“é•¿ï¼Œå¯¹å·¥ä½œç”¨å¿ƒåŠ¡å®ï¼Œå¾…æ–°äººè€å¿ƒå’Œå–„ï¼Œé¢†å¯¼æ²¡æœ‰é«˜æ¶å­ï¼Œä¸â€å¹³æ°‘â€åŒä¹ï¼Œä»–ä»¬æ—¥å‡ºè€Œâ€ä½œâ€,æ—¥è½è€Œå½’ï¼Œæ²¡æœ‰å¤œå¤œåŠ ç­çš„batæ–‡åŒ–ï¼Œæ²¡æœ‰å°”è™æˆ‘è¯ˆçš„å‹¾å¿ƒæ–—è§’ï¼Œåœ¨è¿™é‡Œè‡ªå·±å¼€å¿ƒå¿«ä¹ï¼Œå……å®è€Œé¥±æ»¡ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h2><ol>
<li><strong>ç†Ÿæ‚‰å’Œå®è·µç§»åŠ¨ç«¯ç›¸å…³æŠ€æœ¯</strong><br>ç§»åŠ¨ç«¯åœ¨webå¼€å‘ä¸­æ‰€å çš„åœ°ä½ä¸æ–­åŠ é‡ï¼Œå‰ç«¯å¼€å‘ä¸äº†è§£å…¶ç›¸å…³æŠ€æœ¯åŠ¿å¿…è¢«æµªæ½®æ‹åœ¨<br>æ²™æ»©ä¸Šã€‚</li>
<li><strong>åœ¨å·¥ä½œä¸­é”»ç‚¼æŠ€æœ¯ï¼Œæé«˜è§£å†³é—®é¢˜å’Œç‹¬ç«‹å­¦ä¹ çš„èƒ½åŠ›</strong></li>
</ol>
<h2 id="æ‰€è·"><a href="#æ‰€è·" class="headerlink" title="æ‰€è·"></a>æ‰€è·</h2><h3 id="ä¸»åŠ¨æ€è€ƒ"><a href="#ä¸»åŠ¨æ€è€ƒ" class="headerlink" title="ä¸»åŠ¨æ€è€ƒ"></a>ä¸»åŠ¨æ€è€ƒ</h3><blockquote>
<p>å®ä¹ æ”¶è·æœ€å¤§çš„ä¸€ä»¶äº‹æƒ…å°±æ˜¯å­¦ä¼šä¸»åŠ¨æ€è€ƒï¼Œä¸»åŠ¨å»æ€è€ƒéœ€æ±‚æœ¬èº«æ˜¯å¦åˆç†ï¼Œå»æ€è€ƒå¦‚ä½•åšæ‰èƒ½ä½¿ä½“éªŒæ›´ä½³â€¦</p>
</blockquote>
<p>mmpé¡¹ç›®ä¸­æœ‰ä¸€ä¸ªæ¨¡å—ç”¨æ¥ä¸“é—¨åšæ¸ é“ç®¡ç†ï¼Œä½¿åº”ç”¨å¯ä»¥å…³è”ç›¸åº”çš„æ¸ é“ï¼Œä½†æ˜¯äº§å“ç»™å‡ºçš„åŸå‹ä¸­åº”ç”¨å´æœ‰ä¸€å¥—è‡ªå·±ç‹¬ç«‹çš„æ·»åŠ æ¸ é“æ“ä½œï¼Œè¯¥æ¸ é“å¹¶ä¸æ˜¯ä»å‰é¢ç»´æŠ¤çš„æ¸ é“ä¸­é€‰å‡ºï¼Œäºæ˜¯å’Œäº§å“æ²Ÿé€šï¼Œå¦‚æœè¿™æ ·æ¸ é“ç®¡ç†å°±å¤±å»äº†ç»´æŠ¤çš„æ„ä¹‰ï¼Œåæ¥äº§å“æ›´æ”¹éœ€æ±‚ï¼Œäº¤äº’åŸå‹ä¹Ÿå˜æˆå¦‚ä¸‹å›¾</p>
<p><img src="/img/mmpSource.png" alt="å›¾ç‰‡æè¿°"></p>
<p><img src="/img/mmpLater.png" alt="å›¾ç‰‡æè¿°"></p>
<h3 id="å‰ç«¯æ— éœ€äº†è§£éœ€æ±‚æœ¬èº«ï¼Ÿ"><a href="#å‰ç«¯æ— éœ€äº†è§£éœ€æ±‚æœ¬èº«ï¼Ÿ" class="headerlink" title="å‰ç«¯æ— éœ€äº†è§£éœ€æ±‚æœ¬èº«ï¼Ÿ"></a>å‰ç«¯æ— éœ€äº†è§£éœ€æ±‚æœ¬èº«ï¼Ÿ</h3><blockquote>
<p>åœ¨ä¹‹å‰çš„ä¸€æ®µå®ä¹ è¿‡ç¨‹ä¸­ï¼Œç»å¸¸æœ‰åˆä½œçš„åç«¯åŒå­¦è¯´å‰ç«¯æ— éœ€äº†è§£éœ€æ±‚æœ¬èº«ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·çš„çœ‹æ³•æ˜¯ä¸å¯¹çš„ã€‚</p>
<p><strong>æŠ›å¼€ç å†œçš„ä¸–ç•Œ</strong>ï¼Œæ— è®ºèº«å¤„ä½•å¤„ï¼Œåœ¨åšä»€ä¹ˆï¼Œé¦–å…ˆ<strong>çŸ¥é“è‡ªå·±åšçš„æ˜¯ä»€ä¹ˆ</strong>æ˜¯éå¸¸é‡è¦çš„äº‹æƒ…ï¼Œå¦‚æœåªæ˜¯æŒ‰éƒ¨å°±ç­çš„æŠŠè¢«å®‰æ’çš„äº‹æƒ…åšå¥½,è¿™ä¸è¡Œå°¸èµ°è‚‰æ— å¼‚ï¼Œäºå·±è€Œè¨€ä¹Ÿå°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰äº†ã€‚</p>
<p><strong>å›å½’ç å†œçš„ä¸–ç•Œ</strong>ï¼Œå‰ç«¯é™¤äº†äº†è§£äº§å“ç•Œé¢åŸå‹å’Œuiæ•ˆæœå›¾ï¼Œè¿˜åº”å½“äº†è§£äº§å“çš„åŠŸèƒ½éœ€æ±‚å’Œä¸šåŠ¡è§„åˆ™ã€‚å¾ˆå¤šæ—¶å€™ï¼Œåœ¨æ²¡æœ‰è®¾è®¡æˆ–è€…äº¤äº’å‚ä¸çš„é¡¹ç›®ä¸­ï¼Œäº§å“å¯¹ç•Œé¢çš„æŠŠæ§å¹¶æ²¡æœ‰å‰ç«¯ä»”ç»†ï¼Œè€Œä¸”åœ¨ä¸€äº›äº¤äº’ç»†èŠ‚ä¸Šä¹Ÿæ— æ³•åšåˆ°ä½“éªŒæœ€ä½³ã€‚å¦‚æœå‰ç«¯ä¸å»äº†è§£ä¸šåŠ¡éœ€æ±‚ï¼Œè€Œåªæ˜¯æŒ‰ç…§åŸå‹å°†é¡µé¢å®ç°ï¼Œé‚£åšå‡ºæ¥çš„ä¸œè¥¿ä¸€å®šä¸æ˜¯â€æ›´å¥½çš„â€ã€‚</p>
</blockquote>
<h3 id="å…³äºç¼–ç ä¹ æƒ¯"><a href="#å…³äºç¼–ç ä¹ æƒ¯" class="headerlink" title="å…³äºç¼–ç ä¹ æƒ¯"></a>å…³äºç¼–ç ä¹ æƒ¯</h3><p>å¥½çš„ç¼–ç ä¹ æƒ¯å¯ä»¥æé«˜æˆ‘ä»¬çš„ä»£ç è´¨é‡ï¼Œå¢å¼ºå›¢è§„å¼€å‘åä½œæ•ˆï¼Œå‡å°‘bugå‡ºç°çš„å‡ ç‡â€¦<br>ç”šè‡³å¯ä»¥æé«˜è‡ªå·±å¯¹æ›¾ç»å†™è¿‡çš„ä»£ç çš„ç†è§£åŠ›(æ—¶é—´ä¸€é•¿ï¼Œå¦‚æœç¼–ç ä¹ æƒ¯ä¸å¥½ï¼Œå“ªæ€•æ˜¯è‡ªå·±å†™çš„ç¨‹åºï¼Œææ€•ä¹Ÿä¸èƒ½å¿«é€Ÿç†è§£)</p>
<blockquote>
<p>ä¸å…¶è¯´å¸ˆå…„æœ‰ä»£ç æ´ç™–ï¼Œå¼ºè¿«ç—‡ï¼Œè¿˜ä¸å¦‚è¯´ä»–å…»æˆäº†è‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œæœ‰æ—¶å€™ä»–åœ¨çœ‹è‡ªå·±å†™çš„ä»£ç çš„æ—¶å€™ï¼Œç»å¸¸ä¼šæŒ‡å‡ºä¸€äº›ç¼–ç¨‹ä¹ æƒ¯çš„é—®é¢˜æ¯”å¦‚</p>
</blockquote>
<ol>
<li>ä¿æŒåˆ†å·ç»Ÿä¸€ï¼Œä¸è¦ä¸€å¤„æœ‰ï¼Œä¸€å¤„æ²¡æœ‰</li>
<li>å†™if whileç­‰çš„æ—¶å€™ç©ºä¸€æ ¼ï¼Œè¿™æœ‰åˆ©äºå’Œå‡½æ•°è°ƒç”¨åŒºåˆ†å¼€</li>
<li>ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼æ¥ç¼©è¿›ï¼Œè¿™æ˜¯ä¿è¯åœ¨å„å¤§å¹³å°ä¸Šä»£ç ç¼©è¿›éƒ½ç»Ÿä¸€åŠæ³•</li>
<li>å°†è°ƒè¯•ä»¥åŠå½“å‰ä½¿ç”¨ä½†æœªæ¥éœ€è¦åˆ é™¤çš„ä»£ç åšä¸Šæ ‡è®°xxxæ–¹ä¾¿ä»¥åå°†å…¶åˆ é™¤<br>(ç»å¸¸æˆ‘ä»¬çš„ä¹ æƒ¯æ˜¯ç”¨console.logç­‰æ¥è¿›è¡Œè°ƒè¯•ï¼Œä½†æ˜¯è°ƒè¯•å®Œæˆä¹‹åä½¿ç”¨//æ³¨é‡Šæ‰ï¼Œå¾ˆæœ‰å¯èƒ½åœ¨ä»£ç ä¸Šçº¿ä¹‹å‰æ²¡æœ‰å°†å…¶åˆ é™¤)</li>
<li>åšå¥½æ³¨é‡Šï¼Œæ¯”å¦‚åœ¨è·¯ç”±é‚£ä¸€å—ï¼Œå“ªä¸€ä¸ªæ¨¡æ¿å¯¹åº”ä»€ä¹ˆä¸šåŠ¡åº”è¯¥æœ‰æ¸…æ™°æ˜æ˜¾çš„æ³¨é‡Šï¼Œæ–¹ä¾¿è‡ªå·±å’Œåé¢ç»´æŠ¤çš„ç«¥é‹ä¸€ç›®äº†ç„¶çš„çŸ¥æ™“å…¶ä½œç”¨ã€‚</li>
<li>â€¦<blockquote>
<p>å¥½ä¹ æƒ¯çš„å…»æˆä¸æ˜¯ä¸€æœä¸€å¤•çš„äº‹æƒ…ï¼Œè€Œæ˜¯é•¿æ—¶é—´çš„ç§¯ç´¯å’ŒåšæŒï¼Œç°åœ¨è‡ªå·±å†™ç¨‹åºä¾ç„¶ä¼šæœ‰å„ç§é—®é¢˜å­˜åœ¨ï¼Œè¿™ä¹Ÿè¯´æ˜ä¹ æƒ¯å…»æˆä¹‹è·¯æ¼«é•¿ä¸”å¾…åšæŒã€‚</p>
</blockquote>
</li>
</ol>
<h3 id="æ‰©å±•å’Œå¯é…ç½®"><a href="#æ‰©å±•å’Œå¯é…ç½®" class="headerlink" title="æ‰©å±•å’Œå¯é…ç½®"></a>æ‰©å±•å’Œå¯é…ç½®</h3><blockquote>
<p>ä»£ç çš„æ‰©å±•æ€§æ˜¯ç å†œéƒ½è¿½æ±‚çš„ä¸€ä¸ªç›®æ ‡ï¼Œæˆ‘æ‰€ç†è§£çš„ä»£ç çš„æ‰©å±•æ€§ä¸€æ–¹é¢æ˜¯ä¸ºäº†åº”å¯¹æˆ–è€…è§£å†³éœ€æ±‚çš„æ—¶å¸¸å˜æ›´è€Œç»™å¼€å‘è€…å¸¦æ¥æ¯”è¾ƒå¤§çš„å¼€å‘ä»£ä»·è€Œåšçš„ç¨‹åºè®¾è®¡ã€‚</p>
</blockquote>
<p>æ¯”å¦‚æœ‰è¿™ä¹ˆä¸€ä¸ªå¸¸è§çš„å¯¼èˆªæ¨¡å—ï¼ŒåŒ…å«ä¸‰å¤§æ¿å—ï¼Œæ¯ä¸ªæ¿å—ä¸‹é¢ä¼šæœ‰è‡ªå·±çš„å°æ¨¡å—</p>
<p><img src="/img/mmpNav.png" alt="å›¾ç‰‡æè¿°"></p>
<p>åˆšå¼€å§‹åšçš„æ—¶å€™æ˜¯æ ¹æ®åŸå‹å®Œå…¨ç”¨<strong>å†™æ­»çš„æ–¹å¼åœ¨htmlå†™å¥½</strong>ï¼Œä½†æ˜¯åæ¥å’Œäº§å“äº†è§£éœ€æ±‚çš„æ—¶å€™å‘ç°è¿™ä¸ªé¡¹ç›®å¹¶æ²¡æœ‰æœ€åå®Œå…¨æ•²é”¤å®šéŸ³ï¼Œä¹Ÿå°±æ˜¯è¿˜å­˜åœ¨è®¸å¤šå¯å˜å› ç´ ï¼Œå¯¼èˆªæ¨¡å—å®Œå…¨æœ‰å¯èƒ½å¢åŠ å’Œåˆ é™¤ï¼Œä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘å°†åŸå…ˆå…ˆæ­»çš„htmlç»“æ„æŠ½è±¡å‡ºæ¥ï¼Œå°†å¤§æ¨¡å—æ ‡é¢˜ï¼Œå°æ¨¡å—ï¼Œå›¾æ ‡ç”¨æ•°æ®é…ç½®çš„æ–¹å¼æ¥ç”Ÿæˆ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$scope.groups = [</div><div class="line">    &#123;</div><div class="line">      title : &apos;åº”ç”¨ç®¡ç†&apos;,//æ ‡é¢˜</div><div class="line">      icon : &apos;glyphicon glyphicon-th-list&apos;,//å›¾æ ‡</div><div class="line">      isOpen : true,//æ˜¯å¦å±•å¼€</div><div class="line">      lists : [//å­æ¨¡å—</div><div class="line">        &#123;</div><div class="line">          title : &apos;åº”ç”¨åˆ—è¡¨&apos;,</div><div class="line">          ui_sref : &apos;application_list&apos;,</div><div class="line">          icons : &apos;glyphicon glyphicon-paperclip&apos;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">          title : &apos;æ¸ é“ç®¡ç†&apos;,</div><div class="line">          ui_sref : &apos;channel_management&apos;,</div><div class="line">          icons : &apos;glyphicon glyphicon-paperclip&apos;</div><div class="line">        &#125;</div><div class="line">      ]</div><div class="line">    &#125;</div><div class="line">  ];</div></pre></td></tr></table></figure></p>
<p>å†é…åˆè¿™ä¸€æ®µæ¨¡æ¿å°±å¯ä»¥è§£å†³åç»­æ¨¡å—å¢åŠ æˆ–è€…åˆ é™¤çš„é—®é¢˜(åªéœ€è¦åœ¨æ•°æ®æ¨¡å‹ä¸­å¢åŠ æˆ–è€…åˆ é™¤å¯¹åº”çš„å­—æ®µå°±å¯ä»¥)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;uib-accordion&gt;</div><div class="line">    &lt;uib-accordion-group  is-open=&quot;group.isOpen&quot; ng-repeat=&quot;group in groups&quot;&gt;</div><div class="line">      &lt;uib-accordion-heading&gt;</div><div class="line">        &#123;&#123; group.title &#125;&#125;  &lt;i class=&quot;&#123;&#123; group.icon &#125;&#125;&quot;&gt;&lt;/i&gt;&lt;span ng-class=&quot;&#123;&apos;triangle&apos;: group.isOpen,&apos;triangle_no&apos;:!group.isOpen&#125;&quot;&gt;&lt;/span&gt;</div><div class="line">      &lt;/uib-accordion-heading&gt;</div><div class="line">      &lt;ul&gt;</div><div class="line">        &lt;li ng-repeat=&quot;item in group.lists&quot; ng-click=&quot;tab.setCurrent(&apos;application_list&apos;)&quot;&gt;</div><div class="line">          &lt;a ui-sref=&quot;.&#123;&#123; item.ui_sref &#125;&#125;&quot;&gt;&#123;&#123; item.title &#125;&#125;&lt;/a&gt;</div><div class="line">          &lt;i class=&quot;&#123;&#123; item.icons &#125;&#125;&quot;&gt;&lt;/i&gt;</div><div class="line">        &lt;/li&gt;</div><div class="line">      &lt;/ul&gt;</div><div class="line">    &lt;/uib-accordion-group&gt;</div><div class="line">  &lt;/uib-accordion&gt;</div></pre></td></tr></table></figure></p>
<h3 id="æŠ€æœ¯ç›¸å…³"><a href="#æŠ€æœ¯ç›¸å…³" class="headerlink" title="æŠ€æœ¯ç›¸å…³"></a>æŠ€æœ¯ç›¸å…³</h3><ol>
<li>angularåˆçº§å¼€å‘ï¼Œå¯ä»¥åˆ©ç”¨angularæä¾›çš„ç‰¹æ€§å®Œæˆåˆæ­¥çš„webå¼€å‘</li>
<li>ç§»åŠ¨ç«¯å…¥é—¨ã€äº†è§£ç§»åŠ¨ç«¯ç›¸å…³çŸ¥è¯†ç†Ÿæ‚‰flexå¸ƒå±€</li>
<li>gulpçŸ¥è¯†å…¥é—¨ï¼Œå¯ä»¥ç¼–å†™å¸¸è§çš„gulpä»£ç æ¥å¤„ç†æˆ‘ä»¬çš„ä»»åŠ¡</li>
</ol>
<h2 id="è®¡åˆ’æœªå®Œæˆ"><a href="#è®¡åˆ’æœªå®Œæˆ" class="headerlink" title="è®¡åˆ’æœªå®Œæˆ"></a>è®¡åˆ’æœªå®Œæˆ</h2><h3 id="qDrapç»„ä»¶å¼€å‘"><a href="#qDrapç»„ä»¶å¼€å‘" class="headerlink" title="qDrapç»„ä»¶å¼€å‘"></a>qDrapç»„ä»¶å¼€å‘</h3><p>äº§ç”Ÿè¦å†™è¿™ä¸ªç»„ä»¶çš„åˆå§‹åŸå› æ˜¯åˆšæ¥åˆ°è¿™é‡Œçš„æ—¶å€™å†™äº†ä¸€ä¸ªæ‹–æ‹½æ’åºå°ç»„ä»¶<a href="https://github.com/qianlongGo/components/blob/master/DragToSort/js/dragToSort.js" target="_blank" rel="external">æ‹–æ‹½æ’åº</a>å¸ˆå…„çœ‹äº†ä¹‹åæäº†è®¸å¤šå»ºè®®</p>
<ol>
<li>åœ¨è¿›è¡Œç¢°æ’æ£€æµ‹çš„æ—¶å€™æ— éœ€å°†æ‰€æœ‰çš„å…ƒç´ éƒ½æ£€æµ‹ä¸€éï¼Œåªéœ€è¦å°†å³å°†å¯èƒ½å‘ç”Ÿç¢°æ’çš„å…ƒç´ è¿›è¡Œæ£€æµ‹å³å¯( å½“ç„¶å‰ææ˜¯éœ€è¦åˆ¤æ–­å“ªäº›å…ƒç´ å¯èƒ½ä¼šä¸å½“å‰å…ƒç´ å‘ç”Ÿç¢°æ’)</li>
<li>æœ‰äº›è¡Œä¸ºåº”è¯¥åšæˆå¯é…ç½®ï¼Œæ¯”å¦‚æ‹–æ‹½æ—¶çš„åŠ¨ç”»</li>
<li>ç»„ä»¶å¼€å‘åº”è¯¥å°½é‡æ»¡è¶³å’Œå¥‘åˆå…¶ä»–è§„èŒƒï¼Œæ¯”å¦‚amdã€cmd</li>
</ol>
<p>åæ¥åœ¨mmpéœ€æ±‚æ¥äº†ä¹‹åï¼ŒæŠŠå·¥ä½œé‡å¿ƒéƒ½æ”¾åœ¨mmpä¸Šï¼Œæ²¡æœ‰å®Œæˆè¿™ä¸€è®¡åˆ’â€¦.<br><strong>åšäº‹å½“æœ‰å§‹æœ‰ç»ˆï¼Œä¸å¯ä»¥åŠé€”è€ŒåºŸ</strong></p>
<h3 id="mmpé¡¹ç›®å‰ç«¯å·¥ä½œæœªè¾¾åˆ°é¢„æœŸ"><a href="#mmpé¡¹ç›®å‰ç«¯å·¥ä½œæœªè¾¾åˆ°é¢„æœŸ" class="headerlink" title="mmpé¡¹ç›®å‰ç«¯å·¥ä½œæœªè¾¾åˆ°é¢„æœŸ"></a>mmpé¡¹ç›®å‰ç«¯å·¥ä½œæœªè¾¾åˆ°é¢„æœŸ</h3><p>mmpé¡¹ç›®æœŸæœ›æ˜¯å¹´å‰ä¸Šçº¿ï¼Œæ’é™¤ä¸€äº›å‰ç«¯ä¸å¯æ§å› ç´ ( æ¯”å¦‚åç«¯æ•°æ®æ¥å£åœ¨29å·æ‰éƒ¨åˆ†èµ°é€šï¼Œæ‰€æä¾›çš„æ•°æ®è”è°ƒæœºå™¨åœ¨28å·æ‰ç»™åˆ°â€¦ )ä»è‡ªå·±èº«ä¸Šæ‰¾åŸå› </p>
<ol>
<li>è¯¥é¡¹ç›®æ—¶é—´ç»å¯¹å¤Ÿï¼Œå¿«20å¤©çš„æ—¶é—´å‰ç«¯åªå®Œæˆ2/3ç•Œé¢ç¼–å†™ä¸é€»è¾‘äº¤äº’ï¼Œè€Œä¸”ç°åœ¨è¿˜æ²¡æœ‰ç»è¿‡æµ‹è¯•ã€‚åŸå› ä½•åœ¨ï¼Ÿè™½è¯´è‡ªå·±è®¾è®¡ç•Œé¢ä»æœªæœ‰è¿‡æ¶‰åŠæ˜¯ä¸€ä¸ªæŒ‘æˆ˜ï¼Œä½†æ˜¯å˜åŒ–æ˜¯å”¯ä¸€ä¸å˜çš„å˜åŒ–ï¼Œä¸å¯èƒ½ä»»ä½•æ—¶å€™éƒ½è®©è‡ªå·±åšè‡ªå·±ç†Ÿæ‚‰çš„äº‹æƒ…ï¼Œæ‰€ä»¥é¢å¯¹è¿™ç§æƒ…å†µè‡ªå·±èŠ±è´¹äº†æ¯”è¾ƒå¤šçš„æ—¶é—´å»é€‚åº”ï¼Œé€‚åº”èƒ½åŠ›å·®ã€‚</li>
<li>æ²¡æœ‰æŠŠæ§å¥½æ—¶é—´èŠ‚ç‚¹ï¼Œé¡µé¢ç¼–å†™èŠ±è´¹æ—¶é—´å¤ªå¤šè¿‘2å‘¨ï¼Œè¿™æ˜¯ä¸æ˜¯ä»ä¾§é¢è¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼Œå‰ç«¯åŸºç¡€çŸ¥è¯†csså¸ƒå±€æœ‰å¾…åŠ å¼ºã€‚</li>
</ol>
<h2 id="å­˜åœ¨çš„é—®é¢˜"><a href="#å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="å­˜åœ¨çš„é—®é¢˜"></a>å­˜åœ¨çš„é—®é¢˜</h2><ol>
<li><p>ä¸èƒ½å¾ˆå¥½åœ°åˆ†é…æ—¶é—´ï¼Œå®‰æ’å·¥ä½œèŠ‚ç‚¹å®é™…å·¥ä½œä¸­å¯¹éœ€æ±‚çš„è¯„ä¼°å¹¶ç»™å‡ºç›¸åº”çš„å®Œæˆæ—¶é—´èŠ‚ç‚¹æ˜¯éå¸¸é‡è¦çš„ä¸€ä»¶äº‹æƒ…,ä¸€æ–¹é¢èŠ‚ç‚¹çš„ç»™å‡ºæœ‰åˆ©äºå…¶ä»–ç«¥é‹çŸ¥æ™“ä½ çš„å·¥ä½œè¿›åº¦ï¼Œä»¥æ–¹ä¾¿åè°ƒåˆä½œï¼Œä¸€æ–¹é¢ä¹Ÿè®©è‡ªå·±çš„æ—¶é—´å¾—åˆ°æœ‰æ•ˆçš„åˆ©ç”¨ï¼Œä½†æ˜¯åœ¨å®ä¹ è¿‡ç¨‹ä¸­è‡ªå·±æ˜æ˜¾è¡¨ç°å‡ºè®¡åˆ’ä¸åˆç†ï¼Œå·¥ä½œæ•ˆç‡ä½çš„é—®é¢˜ï¼Œè¯´åˆ°åº•è¿˜æ˜¯ä¸æ‡‚çš„åˆç†æœ‰æ•ˆåœ°å®‰æ’æ—¶é—´</p>
</li>
<li><p>æ²Ÿé€šè¡¨è¾¾é—®é¢˜å›¢é˜Ÿåä½œç¦»ä¸å¼€å¯†åˆ‡åœ°æ²Ÿé€šï¼Œä¸åŒè§’è‰²ä¹‹é—´å¦‚ä½•æ²Ÿé€šæ˜¯ä¸€ä¸ªå­¦é—®ã€‚å¦‚ä½•ç”¨é€šä¿—æœ‰æ•ˆçš„è¯­è¨€ä¸éæŠ€æœ¯æˆ–ä¸æ‡‚è‡ªå·±ä»äº‹çš„æŠ€æœ¯ä¸ä»–äººæ²Ÿé€šï¼Œè®©ä»–äººæ˜ç™½æˆ‘åœ¨è¯´ä»€ä¹ˆï¼Ÿè¿™æ–¹é¢è‡ªå·±éå¸¸æ¬ ç¼º</p>
</li>
<li><p>çŸ¥è¯†é¢å®…å‰ç«¯å¼€å‘çš„åŸºç¡€çŸ¥è¯†ä¸Šè¿˜ä¸å¤Ÿå…·ä½“å’Œå…¨é¢ï¼Œ â€œé¢â€å¾ˆç‹­çª„ã€‚éœ€è¦å¤šåŠ å­¦ä¹ å’Œæ‹“å±•ã€‚</p>
</li>
<li><p>â€œä¸»åŠ¨æ€§â€åšçš„è¿˜ä¸å¤Ÿä¸»åŠ¨æ€è€ƒï¼Œä¸»åŠ¨ä¸ä¼™ä¼´äº¤æµï¼Œä¸»åŠ¨æ‰¿æ‹…æ›´å¤šçš„è´£ä»»ï¼Œè§‰å¾—é¡¹ç›®ä¸­æˆ–ç”Ÿæ´»ä¸­ä¸åˆç†çš„åœ°æ–¹ï¼Œè¦å­¦ä¼šä¸»åŠ¨å»æ¨åŠ¨ä»–ï¼Œä¸èƒ½ä¾é æˆ–ç­‰å¾…åˆ«äººæ¥åš( æ¯”å¦‚åœ¨ç”¨åç«¯ç»™çš„æ•°æ®æ¥å£çš„æ—¶å€™å¥½äº›æ¥å£å¯¹å‰ç«¯æ˜¯ä¸å¤Ÿå‹å¥½çš„ï¼Œç”šè‡³äºä¸šåŠ¡è€Œè¨€çœŸçš„æ˜¯é”™è¯¯çš„ï¼Œåˆšå¼€å§‹å¹¶æ²¡æœ‰ä¸»åŠ¨å»æ‰¾åç«¯ç«¥é‹è¯´æ¸…æ¥šç¼˜ç”±ï¼Œè€Œæ˜¯è§‰å¾—åç«¯ç«¥é‹è‡ªå·±åº”è¯¥ä¼šå‘è§‰é—®é¢˜æ‰€åœ¨ )</p>
</li>
<li><p>å‰ç«¯ä¸æ‡‚è®¾è®¡<br>mmpé¡¹ç›®å®æ–½è¿‡ç¨‹ä¸­æ²¡æœ‰è®¾è®¡å’Œäº¤äº’çš„å‚ä¸ï¼Œç•Œé¢éœ€è¦è‡ªå·±æ¥è¿›è¡Œè®¾è®¡ï¼Œå¦‚ä½•æ­é…é¢œè‰²ï¼Œå¦‚ä½•å¸ƒå±€å±•ç¤ºï¼Œæ€æ ·äº¤äº’æ‰æ›´åŠ åˆç†ï¼Œæ˜¯ä¸€æ¬¡æŒ‘æˆ˜ï¼Œå®è·µè¿‡ç¨‹ä¸­ä¹Ÿå‘ç°è‡ªå·±ç¼ºä¹è¿™æ–¹é¢çš„çŸ¥è¯†å’Œèƒ½åŠ›ï¼Œä¹‹å‰åšçš„ä¸œè¥¿å¤§å¤šæ•°ä¹Ÿæ˜¯åˆ«äººè®¾è®¡å¥½çš„ä¸œè¥¿ã€‚</p>
</li>
</ol>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æ„Ÿè°¢è¿™ä¸€æ®µå®ä¹ ç»å†ï¼Œé‡è§ä¸€ä¸ªå¥½çš„å›¢é˜Ÿï¼Œé‡Œé¢æ¯ä¸ªäººéƒ½æ˜¯ä½ çš„å¸ˆå‚…ï¼Œä»–ä»¬çƒ­æƒ…è€å¿ƒï¼Œæ¯«æ— è·ç¦»æ„Ÿã€‚åœ¨è¿™é‡Œï¼Œè‡ªå·±å¼€å¿ƒå¿«ä¹ï¼Œæ¯å¤©éƒ½å¯ä»¥å­¦åˆ°æ–°çš„ä¸œè¥¿ï¼Œå¹¸ç¦ingã€‚é’ˆå¯¹è¿™äº›ä¸è¶³å’Œé—®é¢˜éœ€è¦ä¸€æ­¥æ­¥æ”¹æ­£åŠ å¼ºã€‚å…„å¼Ÿä»¬ï¼ï¼ï¼å¾…æ¥å¹´ï¼Œä»å¤´èšã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[jsé¢å‘å¯¹è±¡ç»§æ‰¿æµ…æ]]></title>
      <url>https://qianlongo.github.io/2016/03/05/js%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%B5%85%E6%9E%90--%E7%BB%A7%E6%89%BF%E9%82%A3%E4%BA%9B%E4%BA%8B/</url>
      <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>jsä¸­å®ç°ç»§æ‰¿çš„æ–¹å¼åªæ”¯æŒ<strong>å®ç°ç»§æ‰¿</strong>ï¼Œå³ç»§æ‰¿å®é™…çš„æ–¹æ³•ï¼Œè€Œå®ç°ç»§æ‰¿ä¸»è¦æ˜¯ä¾é <strong>åŸå‹é“¾</strong>æ¥å®Œæˆçš„ã€‚</p>
</blockquote>
<h2 id="åŸå‹é“¾å¼ç»§æ‰¿"><a href="#åŸå‹é“¾å¼ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾å¼ç»§æ‰¿"></a>åŸå‹é“¾å¼ç»§æ‰¿</h2><blockquote>
<p>è¯¥æ–¹å¼å®ç°çš„æœ¬è´¨æ˜¯é‡å†™åŸå‹å¯¹è±¡ï¼Œä»£ä¹‹ä»¥ä¸€ä¸ª<strong>æ–°ç±»å‹çš„å®ä¾‹</strong>ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">function SuperType()&#123;</div><div class="line">    this.property=true;</div><div class="line">&#125;</div><div class="line">SuperType.prototype.getSuperValue=function()&#123;</div><div class="line">    return this.property;</div><div class="line">&#125;</div><div class="line"></div><div class="line">function SubType()&#123;</div><div class="line">    this.subproperty=false;</div><div class="line">&#125;</div><div class="line">SubType.prototype = new SuperType();//ç»§æ‰¿</div><div class="line">SubType.prototype.getSubValue=function()&#123;//é¢å¤–æ·»åŠ æ–¹æ³•</div><div class="line">    return this.subproperty;</div><div class="line">&#125;</div><div class="line">var s = new SubType();</div><div class="line">    console.log(s.getSubValue());//false</div><div class="line">    console.log(s.getSuperValue());//true</div></pre></td></tr></table></figure>
<a id="more"></a>
<p><strong>å€Ÿç”¨çº¯åŸå‹é“¾çš„é—®é¢˜ï¼š</strong>å¦‚æœåŸå‹ä¸­åŒ…å«å¼•ç”¨ç±»å‹çš„å€¼ï¼Œåˆ™å®ä¾‹é—´å¯¹è¯¥å€¼çš„ä¿®æ”¹ä¼šç›¸äº’å½±å“ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„ã€‚</p>
<h2 id="å€Ÿç”¨æ„é€ å‡½æ•°"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°" class="headerlink" title="å€Ÿç”¨æ„é€ å‡½æ•°"></a>å€Ÿç”¨æ„é€ å‡½æ•°</h2><blockquote>
<p>è¯¥æ–¹å¼çš„åŸºæœ¬æ€æƒ³æ˜¯åœ¨<strong>å­ç±»å‹</strong>çš„æ„é€ å‡½æ•°çš„å†…éƒ¨è°ƒç”¨è¶…ç±»å‹æ„é€ å‡½æ•°(çˆ¶å‡½æ•°)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function SuperType()&#123;</div><div class="line">     this.color=[&apos;green&apos;,&apos;red&apos;,&apos;black&apos;];</div><div class="line"> &#125;</div><div class="line"></div><div class="line"> function SubType()&#123;</div><div class="line">     SuperType.call(this)//æ”¹å˜æ‰§è¡Œç¯å¢ƒ å®ç°ç»§æ‰¿</div><div class="line"> &#125;</div><div class="line"> var  s = new SubType();</div><div class="line">     s.color.push(&apos;pink&apos;);</div><div class="line">     console.log(s.color);//[ &apos;green&apos;, &apos;red&apos;, &apos;black&apos;, &apos;pink&apos; ]</div><div class="line"> var s1 = new SubType();</div><div class="line">     console.log(s1.color);//[ &apos;green&apos;, &apos;red&apos;, &apos;black&apos; ]</div></pre></td></tr></table></figure>
<p><strong>æ„é€ å‡½æ•°çš„é—®é¢˜ï¼š</strong>æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°å†…éƒ¨å®šä¹‰ï¼Œåˆ™å‡½æ•°å¤ç”¨æ— ä»è°ˆèµ·ã€‚</p>
<h2 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="headerlink" title="ç»„åˆç»§æ‰¿"></a>ç»„åˆç»§æ‰¿</h2><blockquote>
<p>åŸºæœ¬æ€è·¯æ˜¯ä½¿ç”¨åŸå‹é“¾æ¥å®ç°å¯¹åŸå‹å±æ€§å’Œæ–¹æ³•çš„ç»§æ‰¿ï¼Œé€šè¿‡æ„é€ å‡½æ•°å®ç°å®ä¾‹å±æ€§çš„ç»§æ‰¿<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">function SuperType(name)&#123;</div><div class="line">       this.name=name;</div><div class="line">       this.color=[&apos;green&apos;,&apos;red&apos;,&apos;black&apos;];</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   SuperType.prototype.show=function()&#123;</div><div class="line">       console.log(this.name,this.color);</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   function SubType(name,age)&#123;</div><div class="line">       SuperType.call(this,name)//æ”¹å˜æ‰§è¡Œç¯å¢ƒ å®ç°å®ä¾‹å±æ€§ç»§æ‰¿</div><div class="line">       this.age=age;</div><div class="line">   &#125;</div><div class="line">   SubType.prototype = new SuperType();//åŸå‹å±æ€§å’Œæ–¹æ³•ç»§æ‰¿</div><div class="line"></div><div class="line">   var s = new SubType(&apos;è°¦é¾™&apos;,100);</div><div class="line">       s.show();//è°¦é¾™ [&quot;green&quot;, &quot;red&quot;, &quot;black&quot;]</div><div class="line">   var s = new SubType(&apos;é›ç”°&apos;,14);</div><div class="line">   s.show();//é›ç”° [&quot;green&quot;, &quot;red&quot;, &quot;black&quot;]</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="åŸå‹å¼ç»§æ‰¿"><a href="#åŸå‹å¼ç»§æ‰¿" class="headerlink" title="åŸå‹å¼ç»§æ‰¿"></a>åŸå‹å¼ç»§æ‰¿</h2><blockquote>
<p>è¯¥æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯å€ŸåŠ©åŸå‹å¯ä»¥åŸºäºä¸€ä¸ªå·²æœ‰çš„å¯¹è±¡åˆ›å»ºæ–°çš„å¯¹è±¡ï¼ŒåŒæ—¶è¿˜ä¸æ¯”å› æ­¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">function object(obj)&#123;</div><div class="line">    function F()&#123;&#125;;</div><div class="line">    F.prototype=obj;</div><div class="line">    //F.prototype.constructor=F; æœ‰éœ€è¦è¿˜å¯ä»¥ä¿®æ”¹constructoræŒ‡å‘</div><div class="line">    return new F();</div><div class="line">&#125;</div><div class="line"></div><div class="line">var person=&#123;</div><div class="line">    name:&apos;è°¦é¾™&apos;,</div><div class="line">    color:[&apos;red&apos;,&apos;green&apos;,&apos;black&apos;]</div><div class="line">&#125;</div><div class="line">var p1 = object(person);</div><div class="line">    p1.color.push(&apos;pink&apos;);</div><div class="line"></div><div class="line">var p2 = object(person);</div><div class="line">p2.color.push(&apos;grey&apos;);</div><div class="line"></div><div class="line">console.log(person.color);//[&quot;red&quot;, &quot;green&quot;, &quot;black&quot;, &quot;pink&quot;, &quot;grey&quot;]</div></pre></td></tr></table></figure>
<p><strong>ES5ä¸­çš„Object.creat()ä¸è¯¥æ–¹å¼çš„è¡Œä¸ºç›¸åŒ</strong></p>
<h2 id="å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿå¼ç»§æ‰¿"></a>å¯„ç”Ÿå¼ç»§æ‰¿</h2><blockquote>
<p>è¯¥æ–¹å¼çš„æ€è·¯æ˜¯åˆ›å»ºä¸€ä¸ªä»…ç”¨æ¥å°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡ï¼Œæœ€åå°†è¯¥å¯¹è±¡è¿”å›ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">function object(obj)&#123;</div><div class="line">       function F()&#123;&#125;;</div><div class="line">       F.prototype=obj;</div><div class="line">       //F.prototype.constructor=F; æœ‰éœ€è¦è¿˜å¯ä»¥ä¿®æ”¹constructoræŒ‡å‘</div><div class="line">       return new F();</div><div class="line">   &#125;</div><div class="line"></div><div class="line">   function CObject(obj)&#123;</div><div class="line">       var clone=object(obj);</div><div class="line">       clone.sayHi=function()&#123;</div><div class="line">           alert(&apos;HI&apos;);</div><div class="line">       &#125;</div><div class="line">       return clone;</div><div class="line">   &#125;</div><div class="line">   var person=&#123;</div><div class="line">       name:&apos;è°¦é¾™&apos;,</div><div class="line">       color:[&apos;red&apos;,&apos;green&apos;,&apos;black&apos;]</div><div class="line">   &#125;</div><div class="line">   var s = CObject(person);</div><div class="line">       s.sayHi();</div></pre></td></tr></table></figure>
<h2 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h2><blockquote>
<p>æ€è·¯æ˜¯é€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°æ¥ç»§æ‰¿å±æ€§ï¼Œé€šè¿‡åŸå‹é“¾çš„æ··åˆå½¢å¼æ¥ç»§æ‰¿æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">function SuperType(name)&#123;</div><div class="line">    this.name=name;</div><div class="line">    this.color=[&apos;green&apos;,&apos;red&apos;,&apos;black&apos;];</div><div class="line">&#125;</div><div class="line">SuperType.prototype.show=function()&#123;</div><div class="line">    console.log(this.name,this.color);</div><div class="line">&#125;</div><div class="line">function SubType(name,age)&#123;</div><div class="line">    SuperType.call(this,name)//æ”¹å˜æ‰§è¡Œç¯å¢ƒ å®ç°ç»§æ‰¿</div><div class="line">    this.age=age;</div><div class="line">&#125;</div><div class="line">function object(obj)&#123;</div><div class="line">    function F()&#123;&#125;;</div><div class="line">    F.prototype=obj;</div><div class="line">    //F.prototype.constructor=F; æœ‰éœ€è¦è¿˜å¯ä»¥ä¿®æ”¹constructoræŒ‡å‘</div><div class="line">    return new F();</div><div class="line">&#125;</div><div class="line"></div><div class="line">function inheritPrototype(subType,superType)&#123;</div><div class="line">    var prototype=object(superType.prototype);</div><div class="line">    prototype.constructor=subType;</div><div class="line">    subType.prototype=prototype;</div><div class="line">&#125;</div><div class="line">inheritPrototype(SubType,SuperType);</div><div class="line">var s = new SubType(&apos;è°¦é¾™&apos;,100);</div><div class="line">s.show();//è°¦é¾™ [&quot;green&quot;, &quot;red&quot;, &quot;black&quot;]</div></pre></td></tr></table></figure></p>
</blockquote>
<h2 id="æ‹·è´ç»§æ‰¿"><a href="#æ‹·è´ç»§æ‰¿" class="headerlink" title="æ‹·è´ç»§æ‰¿"></a>æ‹·è´ç»§æ‰¿</h2><blockquote>
<p>è¯¥æ–¹æ³•æ€è·¯æ˜¯å°†å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•æ‹·è´è‡³å¦ä¸€ä¸ªå¯¹è±¡<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">function deepCopy(obj)&#123;</div><div class="line">           if(typeof obj !=&apos;object&apos;)&#123;</div><div class="line">               console.trace();</div><div class="line">               return obj;</div><div class="line">           &#125;</div><div class="line">           var newObj=&#123;&#125;;</div><div class="line">               for(var attr in obj)&#123;</div><div class="line">                   newObj[attr]=typeof obj[attr]==&apos;object&apos;?deepCopy(obj[attr]):obj[attr];//ä½¿ç”¨é€’å½’</div><div class="line">               &#125;</div><div class="line">           return newObj;</div><div class="line">       &#125;</div><div class="line">       var obj=&#123;</div><div class="line">           name:&apos;min&apos;,</div><div class="line">           age:20,</div><div class="line">           sex:&apos;boy&apos;,</div><div class="line">           json:&#123;</div><div class="line">               name2:&apos;huihui&apos;,</div><div class="line">               json3:&#123;</div><div class="line">                   name3:&apos;yahui&apos;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       var newObj=deepCopy(obj);</div><div class="line">       console.log(newObj);</div></pre></td></tr></table></figure></p>
</blockquote>
<p><img src="/img/extend.png" alt="å›¾ç‰‡æè¿°"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[äº‹ä»¶æµè¯¦è§£]]></title>
      <url>https://qianlongo.github.io/2016/03/05/%E4%BA%8B%E4%BB%B6%E6%B5%81%E8%AF%A6%E8%A7%A3/</url>
      <content type="html"><![CDATA[<p><strong>ç¬¬ä¸€æ¬¡</strong>åœ¨segmentfaultå†™æ–‡ç« ï¼Œå¸Œæœ›é€šè¿‡è¿™ç§æ–¹å¼æ¥å·©å›ºæ‰€å­¦çš„çŸ¥è¯†ï¼Œä¹Ÿæ¬¢è¿ç«¥é‹ä»¬æŒ‡æ­£å…¶ä¸­æœ‰ä¸å¯¹å’Œé”™è¯¯çš„åœ°æ–¹ã€‚^+^</p>
<ol>
<li><h2 id="äº‹ä»¶æµ"><a href="#äº‹ä»¶æµ" class="headerlink" title="äº‹ä»¶æµ"></a>äº‹ä»¶æµ</h2></li>
</ol>
<p><strong>äº‹ä»¶æµ</strong>ï¼šé¡µé¢ä¸­æ¥æ”¶äº‹ä»¶çš„é¡ºåº,å³å½“ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¯¥äº‹ä»¶çš„ä¼ æ’­è¿‡ç¨‹ä¾¿å«åšäº‹ä»¶æµ</p>
<h3 id="äº‹ä»¶æµçš„ç§ç±»"><a href="#äº‹ä»¶æµçš„ç§ç±»" class="headerlink" title="äº‹ä»¶æµçš„ç§ç±»"></a>äº‹ä»¶æµçš„ç§ç±»</h3><p>  <strong> äº‹ä»¶å†’æ³¡</strong></p>
<p>äº‹ä»¶ç”±æœ€å…·ä½“çš„å…ƒç´ å¼€å§‹<strong>é€çº§å‘ä¸Š</strong>ä¼ æ’­è‡³è¾ƒä¸ºä¸å…·ä½“çš„èŠ‚ç‚¹(æ–‡æ¡£)</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html lang=&quot;en&quot;&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</div><div class="line">    &lt;title&gt;&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">&lt;div id=&quot;box&quot;&gt;ç‚¹æˆ‘&lt;/div&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬ç‚¹å‡»idä¸ºboxçš„divæ—¶ï¼Œè¯¥ç‚¹å‡»äº‹ä»¶ä¼ æ’­é¡ºåºå¦‚ä¸‹</p>
<p><strong>div â€“&gt; body â€“&gt; html â€“&gt;document</strong></p>
<p><strong>ç‰¹åˆ«è¯´æ˜</strong>ï¼šIE5.5åŠæ›´æ—©çš„ç‰ˆæœ¬å°†ç»•è¿‡htmlèŠ‚ç‚¹ç›´æ¥åˆ°documentï¼ŒIE9ï¼ŒFirefoxï¼Œchromeå’Œsafariå°†å†’æ³¡åˆ°windowå¯¹è±¡</p>
<p>   <strong>äº‹ä»¶æ•è·</strong></p>
<p>äº‹ä»¶æ•è·å’Œäº‹ä»¶å†’æ³¡ä¼¼ä¹æˆªç„¶ç›¸åï¼Œç”±ä¸å¤ªå…·ä½“çš„èŠ‚ç‚¹å…ˆæ¥æ”¶åˆ°äº‹ä»¶ â€“&gt;å†åˆ°æœ€å…·ä½“çš„èŠ‚ç‚¹ã€‚åŒæ ·è¿˜æ˜¯ç”¨ä¸Šé¢å†’æ³¡ä¾‹å­ï¼Œåˆ™äº‹ä»¶çš„ä¼ æ’­é¡ºåºåˆ™æ˜¯ï¼š</p>
<p><strong>document â€“&gt; html â€“&gt;body â€“&gt;div</strong></p>
<p><strong>ç‰¹åˆ«è¯´æ˜</strong>ï¼šie8ä¹‹å‰ä¸æ”¯æŒäº‹ä»¶æ•è·ï¼ŒIE9ï¼Œsafariï¼Œchromeï¼Œoperaï¼Œfirefoxç›®å‰æ”¯æŒè‰¯å¥½ã€‚å¹¶ä¸”è¿™äº›æµè§ˆå™¨ä¸æ˜¯ä»documentå¼€å§‹æ•è·ï¼Œè€Œæ˜¯ä»windowå¯¹è±¡å¼€å§‹ã€‚</p>
<h3 id="DOMäº‹ä»¶æµé˜¶æ®µ"><a href="#DOMäº‹ä»¶æµé˜¶æ®µ" class="headerlink" title="DOMäº‹ä»¶æµé˜¶æ®µ"></a>DOMäº‹ä»¶æµé˜¶æ®µ</h3><ol>
<li>æ•è·é˜¶æ®µ</li>
<li>ç›®æ ‡é˜¶æ®µ</li>
<li>å†’æ³¡é˜¶æ®µ</li>
</ol>
<p><img src="/img/sjl.png" alt="äº‹ä»¶æµå›¾è§£"></p>
<p>ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹å­ï¼Œç”±å›¾å¯ä»¥å¾ˆæ¸…æ™°åœ°çœ‹å‡ºé¦–å…ˆå‘ç”Ÿçš„æ˜¯<strong>äº‹ä»¶æ•è·</strong>â€“&gt;å®é™…çš„ç›®æ ‡æ¥æ”¶äº‹ä»¶â€“&gt;äº‹ä»¶å†’æ³¡</p>
<p><strong>ç‰¹åˆ«è¯´æ˜</strong>:åœ¨DOMäº‹ä»¶æµä¸­ï¼Œå®é™…çš„ç›®æ ‡ä¸ä¼šåœ¨æ•è·é˜¶æ®µæ¥æ”¶åˆ°äº‹ä»¶ï¼Œå³æ•è·é˜¶æ®µåˆ°bodyå°±åœæ­¢ï¼Œâ€ä¸‹ä¸€é˜¶æ®µâ€æ˜¯ç›®æ ‡é˜¶æ®µï¼Œè¯¥é˜¶æ®µå¯ä»¥çœ‹æˆæ˜¯äº‹ä»¶å†’æ³¡çš„ä¸€éƒ¨åˆ†ï¼Œæœ€ç»ˆäº‹ä»¶åˆè¢«ä¼ æ’­ä¼šdocumentã€‚<br><strong>BUT</strong> :æˆ‘ä»¬çš„å„å¤§æµè§ˆå™¨æ€»æ˜¯ä¸å–œæ¬¢æŒ‰ç…§è§„èŒƒæ¥ï¼ŒIE9ï¼ŒSafariï¼Œchromeï¼ŒfirefoxåŠå…¶æ›´é«˜çš„ç‰ˆæœ¬ä¸­éƒ½ä¼šåœ¨æ•è·é˜¶æ®µå‡ºå‘äº‹ä»¶å¯¹è±¡ä¸Šçš„äº‹ä»¶ï¼Œæœ€åå¯¼è‡´æœ‰ä¸¤ä¸ªæœºä¼šåœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ“ä½œäº‹ä»¶ã€‚</p>
<ol>
<li>##äº‹ä»¶å¤„ç†ç¨‹åº<br><strong>äº‹ä»¶</strong>ï¼šç”¨æˆ·æˆ–è€…æµè§ˆå™¨è‡ªèº«æ‰§è¡Œçš„æŸä¸ªåŠ¨ä½œï¼Œæ¯”å¦‚loadï¼Œclickï¼Œmousemoveç­‰<br><strong>äº‹ä»¶å¤„ç†ç¨‹åº</strong>ï¼šç›¸åº”æŸä¸ªäº‹ä»¶çš„å‡½æ•°å«åšäº‹ä»¶å¤„ç†å‡½æ•°ï¼ˆä¹Ÿå«åš<strong>äº‹ä»¶ä¾¦å¬å™¨</strong>ï¼‰<h3 id="äº‹ä»¶å¤„ç†ç¨‹åºç±»åˆ«"><a href="#äº‹ä»¶å¤„ç†ç¨‹åºç±»åˆ«" class="headerlink" title="äº‹ä»¶å¤„ç†ç¨‹åºç±»åˆ«"></a>äº‹ä»¶å¤„ç†ç¨‹åºç±»åˆ«</h3><strong>1 htmläº‹ä»¶å¤„ç†ç¨‹åº</strong>ï¼šæŸä¸ªå…ƒç´ æ”¯æŒçš„æŸä¸ªäº‹ä»¶å¯ä»¥ç”¨ä¸äº‹ä»¶å¤„ç†ç¨‹åºåŒåçš„htmlç‰¹æ€§æ¥æŒ‡å®šï¼Œè¯¥ç‰¹æ€§çš„å€¼æ˜¯èƒ½å¤Ÿæ‰§è¡Œçš„javascriptä»£ç ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; onclick=&quot;alert(&apos;æˆ‘è¢«ç‚¹å‡»äº†&apos;)&quot; /&gt;</div><div class="line"></div><div class="line">/*</div><div class="line">   å½“ç‚¹å‡»è¯¥æŒ‰é’®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šå¼¹å‡º&apos;æˆ‘è¢«ç‚¹å‡»äº†&apos;;</div><div class="line">*/</div></pre></td></tr></table></figure>
</li>
</ol>
<p>å½“ç„¶ä¹Ÿå¯ä»¥ç»™<strong>onclick</strong>èµ‹å€¼é¡µé¢ä¸­å…¶ä»–åœ°æ–¹å®šä¹‰çš„è„šæœ¬<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">    function show()&#123;</div><div class="line">        alert(&apos;æˆ‘è¢«ç‚¹å‡»äº†&apos;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">/*</div><div class="line">  ç‚¹å‡»åä¹Ÿä¼šå¼¹å‡º &apos;æˆ‘è¢«ç‚¹å‡»äº†&apos;</div><div class="line">*/</div><div class="line"></div><div class="line">&lt;/script&gt;</div><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; onclick=&quot;show()&quot; /&gt;</div></pre></td></tr></table></figure></p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•æ˜äº†ï¼Œçœå»è·å–å…ƒç´ ç­‰ä¸€ç³»åˆ—å‰ææ“ä½œ<br><strong>ç¼ºç‚¹</strong>ï¼šhtmlä»£ç ä¸jsä»£ç é«˜åº¦è€¦åˆï¼Œä¸ç¬¦åˆåˆ†ç¦»åŸåˆ™</p>
<hr>
<p><strong>2 DOM0çº§åˆ«äº‹ä»¶å¤„ç†å‡½æ•°</strong>ï¼šä½¿ç”¨ element.on[eventname]=fnçš„æ–¹å¼ç»™å…ƒç´ æ·»åŠ äº‹ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; id=&quot;click&quot; /&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var oBtn=document.getElementById(&apos;click&apos;);</div><div class="line">        //è¯¥æ–¹å¼è¢«è®¤ä¸ºæ˜¯å…ƒç´ çš„æ–¹æ³•ï¼Œå³äº‹ä»¶å¤„ç†ç¨‹åºåœ¨å…ƒç´ çš„ä½œç”¨åŸŸä¸­è¿›è¡Œï¼Œthiså³è¯¥å…ƒç´ æœ¬èº«</div><div class="line">        oBtn.onclick=function()&#123;</div><div class="line">            alert(this.id);//click</div><div class="line">        &#125;</div><div class="line">        //æ³¨æ„ï¼šåˆ é™¤è¯¥äº‹ä»¶å¤„ç†ç¨‹åºå¯ä»¥ç”¨å¦‚ä¸‹æ–¹æ³•</div><div class="line">        oBtn.onclick=null;//å³ç‚¹å‡»åä¸å†æœ‰ä»»ä½•ååº”</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<hr>
<p><strong>3 DOM2çº§äº‹ä»¶å¤„ç†ç¨‹åº</strong>ï¼šDOM2çº§æ·»åŠ äº†addEventListenerï¼ˆæ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºï¼‰å’ŒremoveEventListener(ç§»é™¤äº‹ä»¶å¤„ç†ç¨‹åº)<br><strong>æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; id=&quot;click&quot; /&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var oBtn=document.getElementById(&apos;click&apos;);</div><div class="line">        /* å‚æ•°1 æŒ‡å®šäº‹ä»¶åç§°...click mouseover mouseout</div><div class="line">           å‚æ•°2 äº‹ä»¶å¤„ç†ç¨‹åºï¼ˆåŒ¿åå‡½æ•°æˆ–è€…æœ‰åå‡½æ•°ï¼‰</div><div class="line">           å‚æ•°3 trueï¼ˆæ•è·é˜¶æ®µå‘ç”Ÿï¼‰ or falseï¼ˆå†’æ³¡é˜¶æ®µå‘ç”Ÿï¼‰</div><div class="line">        */</div><div class="line">        oBtn.addEventListener(&apos;click&apos;,function()&#123;</div><div class="line">            alert(this.id)//click  thisæŒ‡çš„æ˜¯è¯¥å…ƒç´ ä½œç”¨åŸŸå†…</div><div class="line">        &#125;,false)</div><div class="line">        //æ³¨æ„è¯¥ç§æ–¹å¼å¯ä»¥ç»™ä¸€ä¸ªå‡½æ•°æ·»åŠ å¤šä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œæ‰§è¡Œé¡ºåºä¸æ·»åŠ é¡ºåºç›¸åŒ</div><div class="line">        oBtn.addEventListener(&apos;click&apos;,function()&#123;</div><div class="line">            alert(&apos;Hello World&apos;)//click</div><div class="line">        &#125;,false)</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><strong>ç§»é™¤äº‹ä»¶å¤„ç†å‡½æ•°</strong>ï¼šå¦‚æœäº‹ä»¶å¤„ç†å‡½æ•°æ˜¯æœ‰åå‡½æ•°ï¼Œåˆ™å¯ä»¥é€šè¿‡åå­—æ¥ç§»é™¤ï¼ŒåŒ¿åå‡½æ•°æ— æ³•ç§»é™¤ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; id=&quot;click&quot; /&gt;</div><div class="line">&lt;script&gt;</div><div class="line"> var oBtn=document.getElementById(&apos;click&apos;);</div><div class="line">        function showId()&#123;</div><div class="line">            alert(this.id);</div><div class="line">        &#125;;</div><div class="line">        function HellowWorld()&#123;</div><div class="line">            alert(&apos;HellowWorld&apos;);</div><div class="line">        &#125;</div><div class="line">        oBtn.removeEventListener(&apos;click&apos;,showId,false)</div><div class="line">        //æœ€ååªèƒ½å¼¹å‡ºHellowWorld</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><strong>4IEäº‹ä»¶å¤„ç†ç¨‹åº</strong>ï¼šieå®ç°äº†ä¸domç±»ä¼¼çš„ä¸¤ä¸ªæ–¹æ³•ï¼ŒattachEventï¼ˆæ·»åŠ ï¼‰ï¼ŒdetachEventï¼ˆåˆ é™¤ï¼‰<br><strong>æ·»åŠ äº‹ä»¶å¤„ç†å‡½æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; id=&quot;click&quot; /&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var oBtn=document.getElementById(&apos;click&apos;);</div><div class="line">            function showId()&#123;</div><div class="line">                alert(this.id);</div><div class="line">            &#125;;</div><div class="line">        oBtn.attachEvent(&apos;onclick&apos;,showId);//è¿™æ—¶å€™ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™é‡Œçš„æ˜¯åœ¨window</div><div class="line">        çš„ä½œç”¨åŸŸå†…</div><div class="line">        //ä¿®æ”¹å¦‚ä¸‹</div><div class="line">        oBtn.attachEvent(&apos;onclick&apos;,function()&#123;</div><div class="line">            showId.call(this);//æ”¹å˜thisæŒ‡å‘</div><div class="line">        &#125;)</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><strong>åˆ é™¤äº‹ä»¶å¤„ç†å‡½æ•°</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;button&quot; value=&quot;ç‚¹å‡»&quot; id=&quot;click&quot; /&gt;</div><div class="line">&lt;script&gt;</div><div class="line">    var oBtn=document.getElementById(&apos;click&apos;);</div><div class="line">            function showId()&#123;</div><div class="line">                alert(&apos;HelloWorld&apos;);</div><div class="line">            &#125;;</div><div class="line">        oBtn.attachEvent(&apos;onclick&apos;,showId);//è¿™æ—¶å€™ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™é‡Œçš„æ˜¯åœ¨window</div><div class="line">        çš„ä½œç”¨åŸŸå†…</div><div class="line">        //ä¿®æ”¹å¦‚ä¸‹</div><div class="line">        oBtn.detachEvent(&apos;onclick&apos;,showId) ;//ç‚¹å‡»æ²¡æœ‰ä»»ä½•ååº”</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<h3 id="äº‹ä»¶å‡½æ•°å°è£…"><a href="#äº‹ä»¶å‡½æ•°å°è£…" class="headerlink" title="äº‹ä»¶å‡½æ•°å°è£…"></a>äº‹ä»¶å‡½æ•°å°è£…</h3><p><strong>ç»‘å®š</strong> ä¸ºäº†è§£å†³attachEventçš„thisæŒ‡å‘é—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æœ‰åç§°çš„å‡½æ•°æ¥è§£é™¤äº‹ä»¶ç»‘å®šï¼Œç°åœ¨å¤„ç†å¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">//</div><div class="line">   function bind(obj,eventName,fn)&#123;</div><div class="line">        var _fn=fn;</div><div class="line">        fn=function()&#123;</div><div class="line">            _fn.call(obj);//æ”¹å˜thisæŒ‡å‘</div><div class="line">        &#125;;</div><div class="line">        if(obj.addEventListener)&#123;</div><div class="line">            obj.addEventListener(eventName,fn,false);</div><div class="line">        &#125;else&#123;</div><div class="line">            obj.attachEvent(&apos;on&apos;+eventName,fn);</div><div class="line">        &#125;</div><div class="line">        return fn;//ç”¨äºäº‹ä»¶è§£é™¤</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p><strong>è§£é™¤</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> function unbind(obj,eventName,fn)&#123;</div><div class="line">    if(obj.removeEventListener)&#123;</div><div class="line">        obj.removeEventListener(eventName,fn);</div><div class="line">    &#125;else&#123;</div><div class="line">        obj.detachEvent(&apos;on&apos;+eventName,fn);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>ä½¿ç”¨æ–¹å¼</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">//ç»™inputæ·»åŠ å’Œç§»é™¤äº‹ä»¶</div><div class="line">&lt;input type=&quot;button&quot; id=&quot;box&quot; value=&quot;äº‹ä»¶å°è£…&quot; /&gt;</div><div class="line">//æ·»åŠ </div><div class="line">function show( )&#123;</div><div class="line">    alert(this);</div><div class="line">&#125;</div><div class="line">function show2( )&#123;</div><div class="line">    alert(this.id);</div><div class="line">&#125;</div><div class="line"></div><div class="line">var removeFn=bind(&apos;box&apos;,&apos;click&apos;,show);//éœ€è¦ç§»é™¤çš„äº‹ä»¶å¤„ç†ç¨‹åºï¼Œä¸æ˜¯åŸç¨‹åºåç§°show</div><div class="line">bind(&apos;box&apos;,&apos;click&apos;,show2);</div><div class="line">unbind(&apos;box&apos;,&apos;click&apos;,removeFn);</div><div class="line">//æœ€ååªä¼šå¼¹å‡º box</div></pre></td></tr></table></figure>
<h2 id="äº‹ä»¶å¯¹è±¡"><a href="#äº‹ä»¶å¯¹è±¡" class="headerlink" title="äº‹ä»¶å¯¹è±¡"></a>äº‹ä»¶å¯¹è±¡</h2><blockquote>
<p>å½“è§¦å‘DOMä¸Šé¢çš„æŸä¸ªäº‹ä»¶çš„æ—¶å€™ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶å¯¹è±¡event,è¿™ä¸ªå¯¹è±¡ä¸­åŒ…å«ç€æ‰€æœ‰ä¸äº‹ä»¶å¯¹è±¡æœ‰å…³çš„ä¿¡æ¯ã€‚ä¾‹å¦‚è¯¥<strong>äº‹ä»¶ç±»å‹</strong>ï¼Œ<strong>å¯¼è‡´äº‹ä»¶çš„å…ƒç´ </strong>ç­‰</p>
</blockquote>
<h3 id="DOMä¸­çš„äº‹ä»¶å¯¹è±¡"><a href="#DOMä¸­çš„äº‹ä»¶å¯¹è±¡" class="headerlink" title="DOMä¸­çš„äº‹ä»¶å¯¹è±¡"></a>DOMä¸­çš„äº‹ä»¶å¯¹è±¡</h3><blockquote>
<p>   <strong>DOMä¸­çš„äº‹ä»¶å¯¹è±¡</strong>ï¼šå…¼å®¹DOMçš„æµè§ˆå™¨ä¼šå°†eventå¯¹è±¡ä¼ å…¥åˆ°äº‹ä»¶å¤„ç†ç¨‹åºä¸­ï¼Œæ— è®ºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºç”¨ä»€ä¹ˆæ–¹å¼(htmlæ–¹å¼ï¼ŒDOM0çº§æ–¹å¼ï¼ŒDOM2çº§æ–¹å¼)</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"> &lt;input type=&quot;button&quot; id=&quot;box&quot; value=&quot;DOMä¸­çš„äº‹ä»¶å¯¹è±¡&quot; onclick=&quot;console.log(event.type)&quot;&gt;</div><div class="line"> //htmlæ–¹æ³•  click</div><div class="line">var oBox=document.getElementById(&apos;box&apos;);</div><div class="line"> //DOM0çº§åˆ«æ–¹æ³• click</div><div class="line">     oBox.onclick=function(ev)&#123;</div><div class="line">         console.log(ev.type);//click</div><div class="line">     &#125;</div><div class="line"> ///DOM2çº§åˆ«æ–¹æ³• click</div><div class="line"> oBox.addEventListener(&apos;click&apos;,function(ev)&#123;</div><div class="line">         console.log(ev.type);//click</div><div class="line">     &#125;)</div></pre></td></tr></table></figure>
<p><strong>æ€»çš„æ¥è¯´eventå¯¹è±¡åŒ…å«ä¸åˆ›å»ºä»–çš„ç‰¹å®šäº‹ä»¶æœ‰å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯è§¦å‘çš„äº‹ä»¶ç±»å‹ä¸åŒï¼Œåˆ™å¯ç”¨çš„å±æ€§å’Œæ–¹æ³•ä¹Ÿä¸ä¸€æ ·ã€‚ä½†æ˜¯éƒ½ä¼šåŒ…å«ä»¥ä¸‹æˆå‘˜</strong></p>
<table>
<thead>
<tr>
<th>å±æ€§/æ–¹æ³•</th>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:right">è¯»/å†™</th>
<th></th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>currentTarget</td>
<td style="text-align:center">element</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>äº‹ä»¶å¤„ç†ç¨‹åºå½“å‰æ­£åœ¨å¤„ç†ç¨‹åºçš„é‚£ä¸ªå…ƒç´ ï¼Œæˆ‘çš„ç†è§£æ˜¯äº‹ä»¶çš„ç›´æ¥ç»‘å®šè€…</td>
</tr>
<tr>
<td>target</td>
<td style="text-align:center">element</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>äº‹ä»¶çš„ç›®æ ‡</td>
</tr>
<tr>
<td>cancelable</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>è¡¨ç¤ºæ˜¯å¦å¯ä»¥å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸º</td>
</tr>
<tr>
<td>preventDefault()</td>
<td style="text-align:center">function</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>å–æ¶ˆäº‹ä»¶çš„é»˜è®¤è¡Œä¸º ,å‰ææ˜¯cancelableä¸ºtrue</td>
</tr>
<tr>
<td>bubbles</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>è¡¨æ˜äº‹ä»¶æ˜¯å¦å¯ä»¥å†’æ³¡</td>
</tr>
<tr>
<td>stopPropagation()</td>
<td style="text-align:center">function</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>å–æ¶ˆäº‹ä»¶çš„è¿›ä¸€æ­¥å†’æ³¡æˆ–è€…æ•è·ï¼Œå‰ææ˜¯bubblesä¸ºtrue</td>
</tr>
<tr>
<td>type</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>äº‹ä»¶ç±»å‹</td>
</tr>
<tr>
<td>view</td>
<td style="text-align:center">abstractView</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>ä¸äº‹ä»¶å…³è”çš„æŠ½è±¡è§†å›¾ï¼Œç­‰åŒäºå‘ç”Ÿäº‹ä»¶çš„windowå¯¹è±¡</td>
</tr>
<tr>
<td>detail</td>
<td style="text-align:center">integer</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>ä¸äº‹ä»¶ç›¸å…³çš„ç»†èŠ‚ä¿¡æ¯</td>
</tr>
<tr>
<td>eventPhase</td>
<td style="text-align:center">integer</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>è°ƒç”¨äº‹ä»¶å¤„ç†ç¨‹åºçš„é˜¶æ®µï¼Œ1ï¼š:æ•è·ï¼Œ2ï¼šâ€œå¤„äºç›®æ ‡â€ï¼Œ3ï¼šå†’æ³¡</td>
</tr>
<tr>
<td>trusted</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>ä¸ºtrueè¡¨ç¤ºäº‹ä»¶æ˜¯ç”±æµè§ˆå™¨ç”Ÿæˆçš„ï¼Œä¸ºfalseè¡¨ç¤ºäº‹ä»¶æ˜¯ç”±å¼€å‘äººå‘˜é€šè¿‡jsç”Ÿæˆçš„ã€‚(DOM3)</td>
</tr>
<tr>
<td>stopImmediatePropagation()</td>
<td style="text-align:center">function</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>å–æ¶ˆäº‹ä»¶çš„è¿›ä¸€æ­¥æ•è·æˆ–è€…å†’æ³¡ï¼ŒåŒæ—¶é˜»æ­¢ä»»ä½•äº‹ä»¶å¤„ç†ç¨‹åºè¢«è°ƒç”¨(DOM3)</td>
</tr>
</tbody>
</table>
<p><strong>ç‰¹åˆ«è¯´æ˜</strong>ï¼šåªæœ‰åœ¨äº‹ä»¶å¤„ç†ç¨‹åºè¢«æ‰§è¡Œçš„æœŸé—´ï¼Œeventå¯¹è±¡æ‰ä¼šå­˜åœ¨ï¼Œä¸€æ—¦äº‹ä»¶å¤„ç†ç¨‹åºæ‰§è¡Œå®Œæˆï¼Œå…¶å°±ä¼šè¢«é”€æ¯ã€‚</p>
<h3 id="IEä¸­çš„äº‹ä»¶å¯¹è±¡"><a href="#IEä¸­çš„äº‹ä»¶å¯¹è±¡" class="headerlink" title="IEä¸­çš„äº‹ä»¶å¯¹è±¡"></a>IEä¸­çš„äº‹ä»¶å¯¹è±¡</h3><blockquote>
<p>ä¸è®¿é—®DOMä¸­çš„äº‹ä»¶å¯¹è±¡ä¸åŒï¼Œè¦è®¿é—®IEä¸­çš„eventå¯¹è±¡æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ã€‚å–å†³äºæŒ‡å®šäº‹ä»¶å¤„ç†ç¨‹åºçš„æ–¹æ³•ã€‚</p>
</blockquote>
<ol>
<li>html event</li>
<li>å‡½æ•°å‚æ•°</li>
<li>window.event</li>
</ol>
<p><strong>åŒæ ·IEä¸­çš„eventå¯¹è±¡ä¹ŸåŒ…å«ç€ä¸åˆ›å»ºä»–çš„äº‹ä»¶ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•ï¼Œå…¶ä¸­å¾ˆå¤šçš„å±æ€§å’Œæ–¹æ³•éƒ½æœ‰å¯¹åº”çš„æˆ–è€…æ˜¯ç›¸å…³çš„DOMå±æ€§å’Œæ–¹æ³•ã€‚å½“ç„¶ä¹Ÿä¼šäº‹ä»¶çš„ä¸åŒï¼Œå…¶å±æ€§å’Œæ–¹æ³•ä¹Ÿä¼šæœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯éƒ½ä¼šåŒ…å«ä¸‹è¡¨å†…å®¹</strong></p>
<table>
<thead>
<tr>
<th>å±æ€§/æ–¹æ³•</th>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:right">è¯»/å†™</th>
<th></th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>srcElement</td>
<td style="text-align:center">element</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>äº‹ä»¶çš„ç›®æ ‡ï¼ˆä¸DOMä¸­çš„targetå±æ€§ç›¸åŒï¼‰</td>
</tr>
<tr>
<td>type</td>
<td style="text-align:center">string</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>äº‹ä»¶çš„ç±»å‹</td>
</tr>
<tr>
<td>cancelBubble</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>é»˜è®¤ä¸ºfalseï¼Œè®¾ç½®ä¸ºtrueè¡¨ç¤ºå–æ¶ˆå†’æ³¡(ä¸stopPropagation()ä½œç”¨ç›¸åŒ)</td>
</tr>
<tr>
<td>returnValue</td>
<td style="text-align:center">boolean</td>
<td style="text-align:right">åªè¯»</td>
<td></td>
<td>é»˜è®¤ä¸ºtrueï¼Œè®¾ç½®ä¸ºfalseå°±å¯ä»¥å–æ¶ˆé»˜è®¤è¡Œä¸ºï¼ˆä¸preventDefault()ä½œç”¨ç›¸åŒï¼‰</td>
</tr>
</tbody>
</table>
<h3 id="è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡å°è£…"><a href="#è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡å°è£…" class="headerlink" title="è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡å°è£…"></a>è·¨æµè§ˆå™¨äº‹ä»¶å¯¹è±¡å°è£…</h3><p>æˆ‘ä»¬ä¸ºeventUtilæ·»åŠ å‡ ä¸ªæ–¹æ³•ï¼Œä»¥æ­¤æ¥è¾¾åˆ°æœ‰å…³eventå¯¹è±¡çš„å¸¸ç”¨çš„è·¨æµè§ˆå™¨çš„ä½¿ç”¨ç›®æ ‡</p>
<ol>
<li>getEvent() è·å–äº‹ä»¶å¯¹è±¡</li>
<li>getTarget()è·å–äº‹ä»¶æº</li>
<li>stopPropagation() å–æ¶ˆå†’æ³¡</li>
<li>preventDefault() é˜»æ­¢é»˜è®¤è¡Œä¸º</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var eventUtil=&#123;</div><div class="line">     getEvent:function(ev)&#123;</div><div class="line">         return ev || window.event;//è·å–äº‹ä»¶å¯¹è±¡</div><div class="line">     &#125;,</div><div class="line">     getTarget:function(ev)&#123;</div><div class="line">         return ev.target || ev.srcElement;//è·å–äº‹ä»¶æº</div><div class="line">     &#125;,</div><div class="line">     stopPropagation:function(ev)&#123;//é˜»æ­¢å†’æ³¡</div><div class="line">         if(ev.stopPropagation)&#123;</div><div class="line">             ev.stopPropagation();</div><div class="line">         &#125;else&#123;</div><div class="line">             ev.cancelBubble=true;</div><div class="line">         &#125;</div><div class="line">     &#125;,</div><div class="line">     preventDefault:function(ev)&#123;//é˜»æ­¢é»˜è®¤è¡Œä¸º</div><div class="line">         if(ev.preventDefault)&#123;</div><div class="line">             ev.preventDefault();</div><div class="line">         &#125;else&#123;</div><div class="line">             ev.returnValue=true;</div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h3 id="å¸¸è§åº”ç”¨ä¹‹äº‹ä»¶å§”æ‰˜"><a href="#å¸¸è§åº”ç”¨ä¹‹äº‹ä»¶å§”æ‰˜" class="headerlink" title="å¸¸è§åº”ç”¨ä¹‹äº‹ä»¶å§”æ‰˜"></a>å¸¸è§åº”ç”¨ä¹‹äº‹ä»¶å§”æ‰˜</h3><p><strong>è¯´æ˜</strong>ï¼šéœ€è¦ç»™é¡µé¢ä¸­æˆç™¾ä¸Šåƒä¸ªliç»‘å®šä¸€ä¸ªäº‹ä»¶å¹¶ä¸”è¾“å‡ºå½“å‰å…ƒç´ çš„innerHTML<br><strong>å¸¸è§åšæ³•</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">    &lt;li&gt;1&lt;/li&gt;</div><div class="line">    &lt;li&gt;2&lt;/li&gt;</div><div class="line">    &lt;li&gt;3&lt;/li&gt;</div><div class="line">    &lt;li&gt;4&lt;/li&gt;</div><div class="line">    &lt;li&gt;5&lt;/li&gt;</div><div class="line">    &lt;li&gt;6&lt;/li&gt;</div><div class="line">    &lt;li&gt;7&lt;/li&gt;</div><div class="line">    &lt;li&gt;8&lt;/li&gt;</div><div class="line">    &lt;li&gt;9&lt;/li&gt;</div><div class="line">    &lt;li&gt;10&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">var aLi  //å‡è®¾å·²ç»è·å–äº†è¿™ç»„liå…ƒç´ </div><div class="line">for(var i=0;i&lt;aLi.length;i++)&#123;</div><div class="line">    aLi[i].onclick=function(ev)&#123;</div><div class="line">        console.log(this.innerHTML);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¿™ç§æ–¹å¼é€šè¿‡éå†DOMèŠ‚ç‚¹çš„æ–¹å¼æ·»åŠ äº‹ä»¶å¤„ç†ç¨‹åºæœ‰è¯¸å¤šç¼ºç‚¹ï¼Œæ¯”å¦‚æ€§èƒ½å¤§å¤§å‡ä½ï¼Œæ–°æ·»åŠ çš„liä¸å…·å¤‡clickäº‹ä»¶ç­‰ã€‚</p>
<p><strong>åˆ©ç”¨äº‹ä»¶å§”æ‰˜ï¼ˆå†’æ³¡åŸç†ï¼‰</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var oUl//å‡è®¾oUlæ˜¯liçš„çˆ¶èŠ‚ç‚¹</div><div class="line">oUL.onclick=fuction(ev)&#123;</div><div class="line">    var ev=eventUtil.getEvent(ev);</div><div class="line">    var target=eventUtil.getTarget(ev);</div><div class="line">        console.log(target.innerHTML);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>åˆ©ç”¨äº‹ä»¶å§”æ‰˜å¯ä»¥å¤§å¤§åœ°æé«˜æ€§èƒ½ï¼Œåé¢éšæ—¶æ·»åŠ çš„å…ƒç´ éƒ½å¯ä»¥æ‹¥æœ‰è¿™ä¸ªç‚¹å‡»äº‹ä»¶ç­‰</p>
]]></content>
    </entry>
    
  
  
</search>
